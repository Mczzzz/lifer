!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/build/",t(t.s="ET/6")}({"0H9a":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n("rXp8"),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e),this.apiPrefixe="/object/infos/resources/",this.SvcBackEndComm=new i.a}return a(e,[{key:"getType",value:function(){return this.SvcBackEndComm.ajaxSend("GET",this.apiPrefixe+"types")}},{key:"getList",value:function(e,t,n){return this.SvcBackEndComm.ajaxSend("GET",this.apiPrefixe+"getAllResources/"+e+"/"+t+"/"+n)}},{key:"createUpdate",value:function(e){return this.SvcBackEndComm.ajaxSend("POST",this.apiPrefixe+"createUpdate",e)}}]),e}();t.a=o},"3QzW":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n("rXp8"),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e),this.apiPrefixe="/object/infos/",this.SvcBackEndComm=new i.a}return a(e,[{key:"getList",value:function(e,t){return this.SvcBackEndComm.ajaxSend("GET",this.apiPrefixe+"getListe/"+e+"/"+t)}},{key:"get",value:function(e,t,n){return this.SvcBackEndComm.ajaxSend("GET",this.apiPrefixe+"get/"+e+"/"+t+"/"+n)}},{key:"rename",value:function(e){return this.SvcBackEndComm.ajaxSend("POST",this.apiPrefixe+"rename",e)}},{key:"delete",value:function(e){return this.SvcBackEndComm.ajaxSend("POST",this.apiPrefixe+"delete",e)}},{key:"create",value:function(e){return this.SvcBackEndComm.ajaxSend("POST",this.apiPrefixe+"add",e)}}]),e}();t.a=o},"422A":function(e,t,n){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function t(){n(this,t),this.backGroundColor=""}return r(t,[{key:"setBkgdTopColor",value:function(t){e(".top").css("background",t)}},{key:"setBkgdBottomColor",value:function(t){e(".bottom").css("background",t)}}]),t}();t.a=i}).call(t,n("7t+N"))},"7eCe":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n("LaDh"),a=n("3QzW"),o=n("0H9a"),s=n("hi3N"),c={Container:i.a,ObjectInfos:a.a,ObjectInfosResources:o.a,ObjectTree:s.a},l=function e(t){return r(this,e),new c[t]};t.a=l},"7t+N":function(e,t,n){var r,i;/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */
!function(t,n){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(n,a){"use strict";function o(e,t,n){t=t||de;var r,i=t.createElement("script");if(i.text=e,n)for(r in we)n[r]&&(i[r]=n[r]);t.head.appendChild(i).parentNode.removeChild(i)}function s(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?_e[me.call(e)]||"object":typeof e}function c(e){var t=!!e&&"length"in e&&e.length,n=s(e);return!je(e)&&!ke(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function l(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function d(e,t,n){return je(t)?Ce.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?Ce.grep(e,function(e){return e===t!==n}):"string"!=typeof t?Ce.grep(e,function(e){return ge.call(t,e)>-1!==n}):Ce.filter(t,e,n)}function h(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function u(e){var t={};return Ce.each(e.match(Me)||[],function(e,n){t[n]=!0}),t}function f(e){return e}function p(e){throw e}function g(e,t,n,r){var i;try{e&&je(i=e.promise)?i.call(e).done(t).fail(n):e&&je(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}function _(){de.removeEventListener("DOMContentLoaded",_),n.removeEventListener("load",_),Ce.ready()}function m(e,t){return t.toUpperCase()}function y(e){return e.replace(Re,"ms-").replace(qe,m)}function v(){this.expando=Ce.expando+v.uid++}function b(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:$e.test(e)?JSON.parse(e):e)}function x(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ze,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=b(n)}catch(e){}Ge.set(e,t,n)}else n=void 0;return n}function j(e,t,n,r){var i,a,o=20,s=r?function(){return r.cur()}:function(){return Ce.css(e,t,"")},c=s(),l=n&&n[3]||(Ce.cssNumber[t]?"":"px"),d=(Ce.cssNumber[t]||"px"!==l&&+c)&&Ke.exec(Ce.css(e,t));if(d&&d[3]!==l){for(c/=2,l=l||d[3],d=+c||1;o--;)Ce.style(e,t,d+l),(1-a)*(1-(a=s()/c||.5))<=0&&(o=0),d/=a;d*=2,Ce.style(e,t,d+l),n=n||[]}return n&&(d=+d||+c||0,i=n[1]?d+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=d,r.end=i)),i}function k(e){var t,n=e.ownerDocument,r=e.nodeName,i=Qe[r];return i||(t=n.body.appendChild(n.createElement(r)),i=Ce.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),Qe[r]=i,i)}function w(e,t){for(var n,r,i=[],a=0,o=e.length;a<o;a++)r=e[a],r.style&&(n=r.style.display,t?("none"===n&&(i[a]=We.get(r,"display")||null,i[a]||(r.style.display="")),""===r.style.display&&Xe(r)&&(i[a]=k(r))):"none"!==n&&(i[a]="none",We.set(r,"display",n)));for(a=0;a<o;a++)null!=i[a]&&(e[a].style.display=i[a]);return e}function C(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&l(e,t)?Ce.merge([e],n):n}function T(e,t){for(var n=0,r=e.length;n<r;n++)We.set(e[n],"globalEval",!t||We.get(t[n],"globalEval"))}function E(e,t,n,r,i){for(var a,o,c,l,d,h,u=t.createDocumentFragment(),f=[],p=0,g=e.length;p<g;p++)if((a=e[p])||0===a)if("object"===s(a))Ce.merge(f,a.nodeType?[a]:a);else if(rt.test(a)){for(o=o||u.appendChild(t.createElement("div")),c=(et.exec(a)||["",""])[1].toLowerCase(),l=nt[c]||nt._default,o.innerHTML=l[1]+Ce.htmlPrefilter(a)+l[2],h=l[0];h--;)o=o.lastChild;Ce.merge(f,o.childNodes),o=u.firstChild,o.textContent=""}else f.push(t.createTextNode(a));for(u.textContent="",p=0;a=f[p++];)if(r&&Ce.inArray(a,r)>-1)i&&i.push(a);else if(d=Ce.contains(a.ownerDocument,a),o=C(u.appendChild(a),"script"),d&&T(o),n)for(h=0;a=o[h++];)tt.test(a.type||"")&&n.push(a);return u}function S(){return!0}function O(){return!1}function P(){try{return de.activeElement}catch(e){}}function N(e,t,n,r,i,a){var o,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)N(e,s,n,r,t[s],a);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=O;else if(!i)return e;return 1===a&&(o=i,i=function(e){return Ce().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=Ce.guid++)),e.each(function(){Ce.event.add(this,t,i,r,n)})}function A(e,t){return l(e,"table")&&l(11!==t.nodeType?t:t.firstChild,"tr")?Ce(e).children("tbody")[0]||e:e}function D(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function L(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function F(e,t){var n,r,i,a,o,s,c,l;if(1===t.nodeType){if(We.hasData(e)&&(a=We.access(e),o=We.set(t,a),l=a.events)){delete o.handle,o.events={};for(i in l)for(n=0,r=l[i].length;n<r;n++)Ce.event.add(t,i,l[i][n])}Ge.hasData(e)&&(s=Ge.access(e),c=Ce.extend({},s),Ge.set(t,c))}}function M(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ze.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function H(e,t,n,r){t=fe.apply([],t);var i,a,s,c,l,d,h=0,u=e.length,f=u-1,p=t[0],g=je(p);if(g||u>1&&"string"==typeof p&&!xe.checkClone&&dt.test(p))return e.each(function(i){var a=e.eq(i);g&&(t[0]=p.call(this,i,a.html())),H(a,t,n,r)});if(u&&(i=E(t,e[0].ownerDocument,!1,e,r),a=i.firstChild,1===i.childNodes.length&&(i=a),a||r)){for(s=Ce.map(C(i,"script"),D),c=s.length;h<u;h++)l=i,h!==f&&(l=Ce.clone(l,!0,!0),c&&Ce.merge(s,C(l,"script"))),n.call(e[h],l,h);if(c)for(d=s[s.length-1].ownerDocument,Ce.map(s,L),h=0;h<c;h++)l=s[h],tt.test(l.type||"")&&!We.access(l,"globalEval")&&Ce.contains(d,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?Ce._evalUrl&&Ce._evalUrl(l.src):o(l.textContent.replace(ht,""),d,l))}return e}function I(e,t,n){for(var r,i=t?Ce.filter(t,e):e,a=0;null!=(r=i[a]);a++)n||1!==r.nodeType||Ce.cleanData(C(r)),r.parentNode&&(n&&Ce.contains(r.ownerDocument,r)&&T(C(r,"script")),r.parentNode.removeChild(r));return e}function B(e,t,n){var r,i,a,o,s=e.style;return n=n||ft(e),n&&(o=n.getPropertyValue(t)||n[t],""!==o||Ce.contains(e.ownerDocument,e)||(o=Ce.style(e,t)),!xe.pixelBoxStyles()&&ut.test(o)&&pt.test(t)&&(r=s.width,i=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=r,s.minWidth=i,s.maxWidth=a)),void 0!==o?o+"":o}function R(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function q(e){if(e in bt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=vt.length;n--;)if((e=vt[n]+t)in bt)return e}function U(e){var t=Ce.cssProps[e];return t||(t=Ce.cssProps[e]=q(e)||e),t}function W(e,t,n){var r=Ke.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function G(e,t,n,r,i,a){var o="width"===t?1:0,s=0,c=0;if(n===(r?"border":"content"))return 0;for(;o<4;o+=2)"margin"===n&&(c+=Ce.css(e,n+Ye[o],!0,i)),r?("content"===n&&(c-=Ce.css(e,"padding"+Ye[o],!0,i)),"margin"!==n&&(c-=Ce.css(e,"border"+Ye[o]+"Width",!0,i))):(c+=Ce.css(e,"padding"+Ye[o],!0,i),"padding"!==n?c+=Ce.css(e,"border"+Ye[o]+"Width",!0,i):s+=Ce.css(e,"border"+Ye[o]+"Width",!0,i));return!r&&a>=0&&(c+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-a-c-s-.5))),c}function $(e,t,n){var r=ft(e),i=B(e,t,r),a="border-box"===Ce.css(e,"boxSizing",!1,r),o=a;if(ut.test(i)){if(!n)return i;i="auto"}return o=o&&(xe.boxSizingReliable()||i===e.style[t]),("auto"===i||!parseFloat(i)&&"inline"===Ce.css(e,"display",!1,r))&&(i=e["offset"+t[0].toUpperCase()+t.slice(1)],o=!0),(i=parseFloat(i)||0)+G(e,t,n||(a?"border":"content"),o,r,i)+"px"}function z(e,t,n,r,i){return new z.prototype.init(e,t,n,r,i)}function J(){jt&&(!1===de.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(J):n.setTimeout(J,Ce.fx.interval),Ce.fx.tick())}function K(){return n.setTimeout(function(){xt=void 0}),xt=Date.now()}function Y(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)n=Ye[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function X(e,t,n){for(var r,i=(Z.tweeners[t]||[]).concat(Z.tweeners["*"]),a=0,o=i.length;a<o;a++)if(r=i[a].call(n,t,e))return r}function V(e,t,n){var r,i,a,o,s,c,l,d,h="width"in t||"height"in t,u=this,f={},p=e.style,g=e.nodeType&&Xe(e),_=We.get(e,"fxshow");n.queue||(o=Ce._queueHooks(e,"fx"),null==o.unqueued&&(o.unqueued=0,s=o.empty.fire,o.empty.fire=function(){o.unqueued||s()}),o.unqueued++,u.always(function(){u.always(function(){o.unqueued--,Ce.queue(e,"fx").length||o.empty.fire()})}));for(r in t)if(i=t[r],kt.test(i)){if(delete t[r],a=a||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!_||void 0===_[r])continue;g=!0}f[r]=_&&_[r]||Ce.style(e,r)}if((c=!Ce.isEmptyObject(t))||!Ce.isEmptyObject(f)){h&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=_&&_.display,null==l&&(l=We.get(e,"display")),d=Ce.css(e,"display"),"none"===d&&(l?d=l:(w([e],!0),l=e.style.display||l,d=Ce.css(e,"display"),w([e]))),("inline"===d||"inline-block"===d&&null!=l)&&"none"===Ce.css(e,"float")&&(c||(u.done(function(){p.display=l}),null==l&&(d=p.display,l="none"===d?"":d)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",u.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),c=!1;for(r in f)c||(_?"hidden"in _&&(g=_.hidden):_=We.access(e,"fxshow",{display:l}),a&&(_.hidden=!g),g&&w([e],!0),u.done(function(){g||w([e]),We.remove(e,"fxshow");for(r in f)Ce.style(e,r,f[r])})),c=X(g?_[r]:0,r,u),r in _||(_[r]=c.start,g&&(c.end=c.start,c.start=0))}}function Q(e,t){var n,r,i,a,o;for(n in e)if(r=y(n),i=t[r],a=e[n],Array.isArray(a)&&(i=a[1],a=e[n]=a[0]),n!==r&&(e[r]=a,delete e[n]),(o=Ce.cssHooks[r])&&"expand"in o){a=o.expand(a),delete e[r];for(n in a)n in e||(e[n]=a[n],t[n]=i)}else t[r]=i}function Z(e,t,n){var r,i,a=0,o=Z.prefilters.length,s=Ce.Deferred().always(function(){delete c.elem}),c=function(){if(i)return!1;for(var t=xt||K(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,a=1-r,o=0,c=l.tweens.length;o<c;o++)l.tweens[o].run(a);return s.notifyWith(e,[l,a,n]),a<1&&c?n:(c||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:Ce.extend({},t),opts:Ce.extend(!0,{specialEasing:{},easing:Ce.easing._default},n),originalProperties:t,originalOptions:n,startTime:xt||K(),duration:n.duration,tweens:[],createTween:function(t,n){var r=Ce.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),d=l.props;for(Q(d,l.opts.specialEasing);a<o;a++)if(r=Z.prefilters[a].call(l,e,d,l.opts))return je(r.stop)&&(Ce._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return Ce.map(d,X,l),je(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),Ce.fx.timer(Ce.extend(c,{elem:e,anim:l,queue:l.opts.queue})),l}function ee(e){return(e.match(Me)||[]).join(" ")}function te(e){return e.getAttribute&&e.getAttribute("class")||""}function ne(e){return Array.isArray(e)?e:"string"==typeof e?e.match(Me)||[]:[]}function re(e,t,n,r){var i;if(Array.isArray(t))Ce.each(t,function(t,i){n||Ft.test(e)?r(e,i):re(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==s(t))r(e,t);else for(i in t)re(e+"["+i+"]",t[i],n,r)}function ie(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,a=t.toLowerCase().match(Me)||[];if(je(n))for(;r=a[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function ae(e,t,n,r){function i(s){var c;return a[s]=!0,Ce.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||o||a[l]?o?!(c=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),c}var a={},o=e===Jt;return i(t.dataTypes[0])||!a["*"]&&i("*")}function oe(e,t){var n,r,i=Ce.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&Ce.extend(!0,e,r),e}function se(e,t,n){for(var r,i,a,o,s=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){c.unshift(i);break}if(c[0]in n)a=c[0];else{for(i in n){if(!c[0]||e.converters[i+" "+c[0]]){a=i;break}o||(o=i)}a=a||o}if(a)return a!==c[0]&&c.unshift(a),n[a]}function ce(e,t,n,r){var i,a,o,s,c,l={},d=e.dataTypes.slice();if(d[1])for(o in e.converters)l[o.toLowerCase()]=e.converters[o];for(a=d.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!c&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=a,a=d.shift())if("*"===a)a=c;else if("*"!==c&&c!==a){if(!(o=l[c+" "+a]||l["* "+a]))for(i in l)if(s=i.split(" "),s[1]===a&&(o=l[c+" "+s[0]]||l["* "+s[0]])){!0===o?o=l[i]:!0!==l[i]&&(a=s[0],d.unshift(s[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+c+" to "+a}}}return{state:"success",data:t}}var le=[],de=n.document,he=Object.getPrototypeOf,ue=le.slice,fe=le.concat,pe=le.push,ge=le.indexOf,_e={},me=_e.toString,ye=_e.hasOwnProperty,ve=ye.toString,be=ve.call(Object),xe={},je=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},ke=function(e){return null!=e&&e===e.window},we={type:!0,src:!0,noModule:!0},Ce=function(e,t){return new Ce.fn.init(e,t)},Te=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;Ce.fn=Ce.prototype={jquery:"3.3.1",constructor:Ce,length:0,toArray:function(){return ue.call(this)},get:function(e){return null==e?ue.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=Ce.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return Ce.each(this,e)},map:function(e){return this.pushStack(Ce.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(ue.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:pe,sort:le.sort,splice:le.splice},Ce.extend=Ce.fn.extend=function(){var e,t,n,r,i,a,o=arguments[0]||{},s=1,c=arguments.length,l=!1;for("boolean"==typeof o&&(l=o,o=arguments[s]||{},s++),"object"==typeof o||je(o)||(o={}),s===c&&(o=this,s--);s<c;s++)if(null!=(e=arguments[s]))for(t in e)n=o[t],r=e[t],o!==r&&(l&&r&&(Ce.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,a=n&&Array.isArray(n)?n:[]):a=n&&Ce.isPlainObject(n)?n:{},o[t]=Ce.extend(l,a,r)):void 0!==r&&(o[t]=r));return o},Ce.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==me.call(e))&&(!(t=he(e))||"function"==typeof(n=ye.call(t,"constructor")&&t.constructor)&&ve.call(n)===be)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){o(e)},each:function(e,t){var n,r=0;if(c(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(Te,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(c(Object(e))?Ce.merge(n,"string"==typeof e?[e]:e):pe.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:ge.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,a=e.length,o=!n;i<a;i++)!t(e[i],i)!==o&&r.push(e[i]);return r},map:function(e,t,n){var r,i,a=0,o=[];if(c(e))for(r=e.length;a<r;a++)null!=(i=t(e[a],a,n))&&o.push(i);else for(a in e)null!=(i=t(e[a],a,n))&&o.push(i);return fe.apply([],o)},guid:1,support:xe}),"function"==typeof Symbol&&(Ce.fn[Symbol.iterator]=le[Symbol.iterator]),Ce.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){_e["[object "+t+"]"]=t.toLowerCase()});var Ee=/*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */
function(e){function t(e,t,n,r){var i,a,o,s,c,d,u,f=t&&t.ownerDocument,p=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return n;if(!r&&((t?t.ownerDocument||t:B)!==N&&P(t),t=t||N,D)){if(11!==p&&(c=ge.exec(e)))if(i=c[1]){if(9===p){if(!(o=t.getElementById(i)))return n;if(o.id===i)return n.push(o),n}else if(f&&(o=f.getElementById(i))&&H(t,o)&&o.id===i)return n.push(o),n}else{if(c[2])return X.apply(n,t.getElementsByTagName(e)),n;if((i=c[3])&&b.getElementsByClassName&&t.getElementsByClassName)return X.apply(n,t.getElementsByClassName(i)),n}if(b.qsa&&!G[e+" "]&&(!L||!L.test(e))){if(1!==p)f=t,u=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(ve,be):t.setAttribute("id",s=I),d=w(e),a=d.length;a--;)d[a]="#"+s+" "+h(d[a]);u=d.join(","),f=_e.test(e)&&l(t.parentNode)||t}if(u)try{return X.apply(n,f.querySelectorAll(u)),n}catch(e){}finally{s===I&&t.removeAttribute("id")}}}return T(e.replace(ae,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>x.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[I]=!0,e}function i(e){var t=N.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function a(e,t){for(var n=e.split("|"),r=n.length;r--;)x.attrHandle[n[r]]=t}function o(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&je(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function c(e){return r(function(t){return t=+t,r(function(n,r){for(var i,a=e([],n.length,t),o=a.length;o--;)n[i=a[o]]&&(n[i]=!(r[i]=n[i]))})})}function l(e){return e&&void 0!==e.getElementsByTagName&&e}function d(){}function h(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function u(e,t,n){var r=t.dir,i=t.next,a=i||r,o=n&&"parentNode"===a,s=q++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i);return!1}:function(t,n,c){var l,d,h,u=[R,s];if(c){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,c))return!0}else for(;t=t[r];)if(1===t.nodeType||o)if(h=t[I]||(t[I]={}),d=h[t.uniqueID]||(h[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=d[a])&&l[0]===R&&l[1]===s)return u[2]=l[2];if(d[a]=u,u[2]=e(t,n,c))return!0}return!1}}function f(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function p(e,n,r){for(var i=0,a=n.length;i<a;i++)t(e,n[i],r);return r}function g(e,t,n,r,i){for(var a,o=[],s=0,c=e.length,l=null!=t;s<c;s++)(a=e[s])&&(n&&!n(a,r,i)||(o.push(a),l&&t.push(s)));return o}function _(e,t,n,i,a,o){return i&&!i[I]&&(i=_(i)),a&&!a[I]&&(a=_(a,o)),r(function(r,o,s,c){var l,d,h,u=[],f=[],_=o.length,m=r||p(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?m:g(m,u,e,s,c),v=n?a||(r?e:_||i)?[]:o:y;if(n&&n(y,v,s,c),i)for(l=g(v,f),i(l,[],s,c),d=l.length;d--;)(h=l[d])&&(v[f[d]]=!(y[f[d]]=h));if(r){if(a||e){if(a){for(l=[],d=v.length;d--;)(h=v[d])&&l.push(y[d]=h);a(null,v=[],l,c)}for(d=v.length;d--;)(h=v[d])&&(l=a?Q(r,h):u[d])>-1&&(r[l]=!(o[l]=h))}}else v=g(v===o?v.splice(_,v.length):v),a?a(null,o,v,c):X.apply(o,v)})}function m(e){for(var t,n,r,i=e.length,a=x.relative[e[0].type],o=a||x.relative[" "],s=a?1:0,c=u(function(e){return e===t},o,!0),l=u(function(e){return Q(t,e)>-1},o,!0),d=[function(e,n,r){var i=!a&&(r||n!==E)||((t=n).nodeType?c(e,n,r):l(e,n,r));return t=null,i}];s<i;s++)if(n=x.relative[e[s].type])d=[u(f(d),n)];else{if(n=x.filter[e[s].type].apply(null,e[s].matches),n[I]){for(r=++s;r<i&&!x.relative[e[r].type];r++);return _(s>1&&f(d),s>1&&h(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ae,"$1"),n,s<r&&m(e.slice(s,r)),r<i&&m(e=e.slice(r)),r<i&&h(e))}d.push(n)}return f(d)}function y(e,n){var i=n.length>0,a=e.length>0,o=function(r,o,s,c,l){var d,h,u,f=0,p="0",_=r&&[],m=[],y=E,v=r||a&&x.find.TAG("*",l),b=R+=null==y?1:Math.random()||.1,j=v.length;for(l&&(E=o===N||o||l);p!==j&&null!=(d=v[p]);p++){if(a&&d){for(h=0,o||d.ownerDocument===N||(P(d),s=!D);u=e[h++];)if(u(d,o||N,s)){c.push(d);break}l&&(R=b)}i&&((d=!u&&d)&&f--,r&&_.push(d))}if(f+=p,i&&p!==f){for(h=0;u=n[h++];)u(_,m,o,s);if(r){if(f>0)for(;p--;)_[p]||m[p]||(m[p]=K.call(c));m=g(m)}X.apply(c,m),l&&!r&&m.length>0&&f+n.length>1&&t.uniqueSort(c)}return l&&(R=b,E=y),_};return i?r(o):o}var v,b,x,j,k,w,C,T,E,S,O,P,N,A,D,L,F,M,H,I="sizzle"+1*new Date,B=e.document,R=0,q=0,U=n(),W=n(),G=n(),$=function(e,t){return e===t&&(O=!0),0},z={}.hasOwnProperty,J=[],K=J.pop,Y=J.push,X=J.push,V=J.slice,Q=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ne="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",re=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ne+")*)|.*)\\)|)",ie=new RegExp(ee+"+","g"),ae=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),oe=new RegExp("^"+ee+"*,"+ee+"*"),se=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),ce=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),le=new RegExp(re),de=new RegExp("^"+te+"$"),he={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ne),PSEUDO:new RegExp("^"+re),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},ue=/^(?:input|select|textarea|button)$/i,fe=/^h\d$/i,pe=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_e=/[+~]/,me=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),ye=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},ve=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,be=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},xe=function(){P()},je=u(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{X.apply(J=V.call(B.childNodes),B.childNodes),J[B.childNodes.length].nodeType}catch(e){X={apply:J.length?function(e,t){Y.apply(e,V.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}b=t.support={},k=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},P=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:B;return r!==N&&9===r.nodeType&&r.documentElement?(N=r,A=N.documentElement,D=!k(N),B!==N&&(n=N.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",xe,!1):n.attachEvent&&n.attachEvent("onunload",xe)),b.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),b.getElementsByTagName=i(function(e){return e.appendChild(N.createComment("")),!e.getElementsByTagName("*").length}),b.getElementsByClassName=pe.test(N.getElementsByClassName),b.getById=i(function(e){return A.appendChild(e).id=I,!N.getElementsByName||!N.getElementsByName(I).length}),b.getById?(x.filter.ID=function(e){var t=e.replace(me,ye);return function(e){return e.getAttribute("id")===t}},x.find.ID=function(e,t){if(void 0!==t.getElementById&&D){var n=t.getElementById(e);return n?[n]:[]}}):(x.filter.ID=function(e){var t=e.replace(me,ye);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},x.find.ID=function(e,t){if(void 0!==t.getElementById&&D){var n,r,i,a=t.getElementById(e);if(a){if((n=a.getAttributeNode("id"))&&n.value===e)return[a];for(i=t.getElementsByName(e),r=0;a=i[r++];)if((n=a.getAttributeNode("id"))&&n.value===e)return[a]}return[]}}),x.find.TAG=b.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):b.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[i++];)1===n.nodeType&&r.push(n);return r}return a},x.find.CLASS=b.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&D)return t.getElementsByClassName(e)},F=[],L=[],(b.qsa=pe.test(N.querySelectorAll))&&(i(function(e){A.appendChild(e).innerHTML="<a id='"+I+"'></a><select id='"+I+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||L.push("\\["+ee+"*(?:value|"+Z+")"),e.querySelectorAll("[id~="+I+"-]").length||L.push("~="),e.querySelectorAll(":checked").length||L.push(":checked"),e.querySelectorAll("a#"+I+"+*").length||L.push(".#.+[+~]")}),i(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=N.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&L.push("name"+ee+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&L.push(":enabled",":disabled"),A.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&L.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),L.push(",.*:")})),(b.matchesSelector=pe.test(M=A.matches||A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&i(function(e){b.disconnectedMatch=M.call(e,"*"),M.call(e,"[s!='']:x"),F.push("!=",re)}),L=L.length&&new RegExp(L.join("|")),F=F.length&&new RegExp(F.join("|")),t=pe.test(A.compareDocumentPosition),H=t||pe.test(A.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},$=t?function(e,t){if(e===t)return O=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!b.sortDetached&&t.compareDocumentPosition(e)===n?e===N||e.ownerDocument===B&&H(B,e)?-1:t===N||t.ownerDocument===B&&H(B,t)?1:S?Q(S,e)-Q(S,t):0:4&n?-1:1)}:function(e,t){if(e===t)return O=!0,0;var n,r=0,i=e.parentNode,a=t.parentNode,s=[e],c=[t];if(!i||!a)return e===N?-1:t===N?1:i?-1:a?1:S?Q(S,e)-Q(S,t):0;if(i===a)return o(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;s[r]===c[r];)r++;return r?o(s[r],c[r]):s[r]===B?-1:c[r]===B?1:0},N):N},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==N&&P(e),n=n.replace(ce,"='$1']"),b.matchesSelector&&D&&!G[n+" "]&&(!F||!F.test(n))&&(!L||!L.test(n)))try{var r=M.call(e,n);if(r||b.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,N,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==N&&P(e),H(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==N&&P(e);var n=x.attrHandle[t.toLowerCase()],r=n&&z.call(x.attrHandle,t.toLowerCase())?n(e,t,!D):void 0;return void 0!==r?r:b.attributes||!D?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.escape=function(e){return(e+"").replace(ve,be)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(O=!b.detectDuplicates,S=!b.sortStable&&e.slice(0),e.sort($),O){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return S=null,e},j=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=j(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=j(t);return n},x=t.selectors={cacheLength:50,createPseudo:r,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(me,ye),e[3]=(e[3]||e[4]||e[5]||"").replace(me,ye),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&le.test(n)&&(t=w(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(me,ye).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=U[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&U(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var a=t.attr(i,e);return null==a?"!="===n:!n||(a+="","="===n?a===r:"!="===n?a!==r:"^="===n?r&&0===a.indexOf(r):"*="===n?r&&a.indexOf(r)>-1:"$="===n?r&&a.slice(-r.length)===r:"~="===n?(" "+a.replace(ie," ")+" ").indexOf(r)>-1:"|="===n&&(a===r||a.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var a="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,c){var l,d,h,u,f,p,g=a!==o?"nextSibling":"previousSibling",_=t.parentNode,m=s&&t.nodeName.toLowerCase(),y=!c&&!s,v=!1;if(_){if(a){for(;g;){for(u=t;u=u[g];)if(s?u.nodeName.toLowerCase()===m:1===u.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[o?_.firstChild:_.lastChild],o&&y){for(u=_,h=u[I]||(u[I]={}),d=h[u.uniqueID]||(h[u.uniqueID]={}),l=d[e]||[],f=l[0]===R&&l[1],v=f&&l[2],u=f&&_.childNodes[f];u=++f&&u&&u[g]||(v=f=0)||p.pop();)if(1===u.nodeType&&++v&&u===t){d[e]=[R,f,v];break}}else if(y&&(u=t,h=u[I]||(u[I]={}),d=h[u.uniqueID]||(h[u.uniqueID]={}),l=d[e]||[],f=l[0]===R&&l[1],v=f),!1===v)for(;(u=++f&&u&&u[g]||(v=f=0)||p.pop())&&((s?u.nodeName.toLowerCase()!==m:1!==u.nodeType)||!++v||(y&&(h=u[I]||(u[I]={}),d=h[u.uniqueID]||(h[u.uniqueID]={}),d[e]=[R,v]),u!==t)););return(v-=i)===r||v%r==0&&v/r>=0}}},PSEUDO:function(e,n){var i,a=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return a[I]?a(n):a.length>1?(i=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=a(e,n),o=i.length;o--;)r=Q(e,i[o]),e[r]=!(t[r]=i[o])}):function(e){return a(e,0,i)}):a}},pseudos:{not:r(function(e){var t=[],n=[],i=C(e.replace(ae,"$1"));return i[I]?r(function(e,t,n,r){for(var a,o=i(e,null,r,[]),s=e.length;s--;)(a=o[s])&&(e[s]=!(t[s]=a))}):function(e,r,a){return t[0]=e,i(t,null,a,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(me,ye),function(t){return(t.textContent||t.innerText||j(t)).indexOf(e)>-1}}),lang:r(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(me,ye).toLowerCase(),function(t){var n;do{if(n=D?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===A},focus:function(e){return e===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:s(!1),disabled:s(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return fe.test(e.nodeName)},input:function(e){return ue.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[n<0?n+t:n]}),even:c(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:c(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},x.pseudos.nth=x.pseudos.eq;for(v in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[v]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(v);for(v in{submit:!0,reset:!0})x.pseudos[v]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(v);return d.prototype=x.filters=x.pseudos,x.setFilters=new d,w=t.tokenize=function(e,n){var r,i,a,o,s,c,l,d=W[e+" "];if(d)return n?0:d.slice(0);for(s=e,c=[],l=x.preFilter;s;){r&&!(i=oe.exec(s))||(i&&(s=s.slice(i[0].length)||s),c.push(a=[])),r=!1,(i=se.exec(s))&&(r=i.shift(),a.push({value:r,type:i[0].replace(ae," ")}),s=s.slice(r.length));for(o in x.filter)!(i=he[o].exec(s))||l[o]&&!(i=l[o](i))||(r=i.shift(),a.push({value:r,type:o,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):W(e,c).slice(0)},C=t.compile=function(e,t){var n,r=[],i=[],a=G[e+" "];if(!a){for(t||(t=w(e)),n=t.length;n--;)a=m(t[n]),a[I]?r.push(a):i.push(a);a=G(e,y(i,r)),a.selector=e}return a},T=t.select=function(e,t,n,r){var i,a,o,s,c,d="function"==typeof e&&e,u=!r&&w(e=d.selector||e);if(n=n||[],1===u.length){if(a=u[0]=u[0].slice(0),a.length>2&&"ID"===(o=a[0]).type&&9===t.nodeType&&D&&x.relative[a[1].type]){if(!(t=(x.find.ID(o.matches[0].replace(me,ye),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(i=he.needsContext.test(e)?0:a.length;i--&&(o=a[i],!x.relative[s=o.type]);)if((c=x.find[s])&&(r=c(o.matches[0].replace(me,ye),_e.test(a[0].type)&&l(t.parentNode)||t))){if(a.splice(i,1),!(e=r.length&&h(a)))return X.apply(n,r),n;break}}return(d||C(e,u))(r,t,!D,n,!t||_e.test(e)&&l(t.parentNode)||t),n},b.sortStable=I.split("").sort($).join("")===I,b.detectDuplicates=!!O,P(),b.sortDetached=i(function(e){return 1&e.compareDocumentPosition(N.createElement("fieldset"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||a("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),b.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||a("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||a(Z,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(n);Ce.find=Ee,Ce.expr=Ee.selectors,Ce.expr[":"]=Ce.expr.pseudos,Ce.uniqueSort=Ce.unique=Ee.uniqueSort,Ce.text=Ee.getText,Ce.isXMLDoc=Ee.isXML,Ce.contains=Ee.contains,Ce.escapeSelector=Ee.escape;var Se=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&Ce(e).is(n))break;r.push(e)}return r},Oe=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Pe=Ce.expr.match.needsContext,Ne=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;Ce.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?Ce.find.matchesSelector(r,e)?[r]:[]:Ce.find.matches(e,Ce.grep(t,function(e){return 1===e.nodeType}))},Ce.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(Ce(e).filter(function(){for(t=0;t<r;t++)if(Ce.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)Ce.find(e,i[t],n);return r>1?Ce.uniqueSort(n):n},filter:function(e){return this.pushStack(d(this,e||[],!1))},not:function(e){return this.pushStack(d(this,e||[],!0))},is:function(e){return!!d(this,"string"==typeof e&&Pe.test(e)?Ce(e):e||[],!1).length}});var Ae,De=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(Ce.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||Ae,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:De.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof Ce?t[0]:t,Ce.merge(this,Ce.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:de,!0)),Ne.test(r[1])&&Ce.isPlainObject(t))for(r in t)je(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=de.getElementById(r[2]),i&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):je(e)?void 0!==n.ready?n.ready(e):e(Ce):Ce.makeArray(e,this)}).prototype=Ce.fn,Ae=Ce(de);var Le=/^(?:parents|prev(?:Until|All))/,Fe={children:!0,contents:!0,next:!0,prev:!0};Ce.fn.extend({has:function(e){var t=Ce(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(Ce.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,a=[],o="string"!=typeof e&&Ce(e);if(!Pe.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&Ce.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(a.length>1?Ce.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?ge.call(Ce(e),this[0]):ge.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Ce.uniqueSort(Ce.merge(this.get(),Ce(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Ce.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Se(e,"parentNode")},parentsUntil:function(e,t,n){return Se(e,"parentNode",n)},next:function(e){return h(e,"nextSibling")},prev:function(e){return h(e,"previousSibling")},nextAll:function(e){return Se(e,"nextSibling")},prevAll:function(e){return Se(e,"previousSibling")},nextUntil:function(e,t,n){return Se(e,"nextSibling",n)},prevUntil:function(e,t,n){return Se(e,"previousSibling",n)},siblings:function(e){return Oe((e.parentNode||{}).firstChild,e)},children:function(e){return Oe(e.firstChild)},contents:function(e){return l(e,"iframe")?e.contentDocument:(l(e,"template")&&(e=e.content||e),Ce.merge([],e.childNodes))}},function(e,t){Ce.fn[e]=function(n,r){var i=Ce.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=Ce.filter(r,i)),this.length>1&&(Fe[e]||Ce.uniqueSort(i),Le.test(e)&&i.reverse()),this.pushStack(i)}});var Me=/[^\x20\t\r\n\f]+/g;Ce.Callbacks=function(e){e="string"==typeof e?u(e):Ce.extend({},e);var t,n,r,i,a=[],o=[],c=-1,l=function(){for(i=i||e.once,r=t=!0;o.length;c=-1)for(n=o.shift();++c<a.length;)!1===a[c].apply(n[0],n[1])&&e.stopOnFalse&&(c=a.length,n=!1);e.memory||(n=!1),t=!1,i&&(a=n?[]:"")},d={add:function(){return a&&(n&&!t&&(c=a.length-1,o.push(n)),function t(n){Ce.each(n,function(n,r){je(r)?e.unique&&d.has(r)||a.push(r):r&&r.length&&"string"!==s(r)&&t(r)})}(arguments),n&&!t&&l()),this},remove:function(){return Ce.each(arguments,function(e,t){for(var n;(n=Ce.inArray(t,a,n))>-1;)a.splice(n,1),n<=c&&c--}),this},has:function(e){return e?Ce.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return i=o=[],a=n="",this},disabled:function(){return!a},lock:function(){return i=o=[],n||t||(a=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=n||[],n=[e,n.slice?n.slice():n],o.push(n),t||l()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},Ce.extend({Deferred:function(e){var t=[["notify","progress",Ce.Callbacks("memory"),Ce.Callbacks("memory"),2],["resolve","done",Ce.Callbacks("once memory"),Ce.Callbacks("once memory"),0,"resolved"],["reject","fail",Ce.Callbacks("once memory"),Ce.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return Ce.Deferred(function(n){Ce.each(t,function(t,r){var i=je(e[r[4]])&&e[r[4]];a[r[1]](function(){var e=i&&i.apply(this,arguments);e&&je(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(e,r,i){function a(e,t,r,i){return function(){var s=this,c=arguments,l=function(){var n,l;if(!(e<o)){if((n=r.apply(s,c))===t.promise())throw new TypeError("Thenable self-resolution");l=n&&("object"==typeof n||"function"==typeof n)&&n.then,je(l)?i?l.call(n,a(o,t,f,i),a(o,t,p,i)):(o++,l.call(n,a(o,t,f,i),a(o,t,p,i),a(o,t,f,t.notifyWith))):(r!==f&&(s=void 0,c=[n]),(i||t.resolveWith)(s,c))}},d=i?l:function(){try{l()}catch(n){Ce.Deferred.exceptionHook&&Ce.Deferred.exceptionHook(n,d.stackTrace),e+1>=o&&(r!==p&&(s=void 0,c=[n]),t.rejectWith(s,c))}};e?d():(Ce.Deferred.getStackHook&&(d.stackTrace=Ce.Deferred.getStackHook()),n.setTimeout(d))}}var o=0;return Ce.Deferred(function(n){t[0][3].add(a(0,n,je(i)?i:f,n.notifyWith)),t[1][3].add(a(0,n,je(e)?e:f)),t[2][3].add(a(0,n,je(r)?r:p))}).promise()},promise:function(e){return null!=e?Ce.extend(e,i):i}},a={};return Ce.each(t,function(e,n){var o=n[2],s=n[5];i[n[1]]=o.add,s&&o.add(function(){r=s},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),o.add(n[3].fire),a[n[0]]=function(){return a[n[0]+"With"](this===a?void 0:this,arguments),this},a[n[0]+"With"]=o.fireWith}),i.promise(a),e&&e.call(a,a),a},when:function(e){var t=arguments.length,n=t,r=Array(n),i=ue.call(arguments),a=Ce.Deferred(),o=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?ue.call(arguments):n,--t||a.resolveWith(r,i)}};if(t<=1&&(g(e,a.done(o(n)).resolve,a.reject,!t),"pending"===a.state()||je(i[n]&&i[n].then)))return a.then();for(;n--;)g(i[n],o(n),a.reject);return a.promise()}});var He=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Ce.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&He.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},Ce.readyException=function(e){n.setTimeout(function(){throw e})};var Ie=Ce.Deferred();Ce.fn.ready=function(e){return Ie.then(e).catch(function(e){Ce.readyException(e)}),this},Ce.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--Ce.readyWait:Ce.isReady)||(Ce.isReady=!0,!0!==e&&--Ce.readyWait>0||Ie.resolveWith(de,[Ce]))}}),Ce.ready.then=Ie.then,"complete"===de.readyState||"loading"!==de.readyState&&!de.documentElement.doScroll?n.setTimeout(Ce.ready):(de.addEventListener("DOMContentLoaded",_),n.addEventListener("load",_));var Be=function(e,t,n,r,i,a,o){var c=0,l=e.length,d=null==n;if("object"===s(n)){i=!0;for(c in n)Be(e,t,c,n[c],!0,a,o)}else if(void 0!==r&&(i=!0,je(r)||(o=!0),d&&(o?(t.call(e,r),t=null):(d=t,t=function(e,t,n){return d.call(Ce(e),n)})),t))for(;c<l;c++)t(e[c],n,o?r:r.call(e[c],c,t(e[c],n)));return i?e:d?t.call(e):l?t(e[0],n):a},Re=/^-ms-/,qe=/-([a-z])/g,Ue=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};v.uid=1,v.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Ue(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[y(t)]=n;else for(r in t)i[y(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][y(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){Array.isArray(t)?t=t.map(y):(t=y(t),t=t in r?[t]:t.match(Me)||[]),n=t.length;for(;n--;)delete r[t[n]]}(void 0===t||Ce.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!Ce.isEmptyObject(t)}};var We=new v,Ge=new v,$e=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ze=/[A-Z]/g;Ce.extend({hasData:function(e){return Ge.hasData(e)||We.hasData(e)},data:function(e,t,n){return Ge.access(e,t,n)},removeData:function(e,t){Ge.remove(e,t)},_data:function(e,t,n){return We.access(e,t,n)},_removeData:function(e,t){We.remove(e,t)}}),Ce.fn.extend({data:function(e,t){var n,r,i,a=this[0],o=a&&a.attributes;if(void 0===e){if(this.length&&(i=Ge.get(a),1===a.nodeType&&!We.get(a,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&(r=o[n].name,0===r.indexOf("data-")&&(r=y(r.slice(5)),x(a,r,i[r])));We.set(a,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){Ge.set(this,e)}):Be(this,function(t){var n;if(a&&void 0===t){if(void 0!==(n=Ge.get(a,e)))return n;if(void 0!==(n=x(a,e)))return n}else this.each(function(){Ge.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Ge.remove(this,e)})}}),Ce.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=We.get(e,t),n&&(!r||Array.isArray(n)?r=We.access(e,t,Ce.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=Ce.queue(e,t),r=n.length,i=n.shift(),a=Ce._queueHooks(e,t),o=function(){Ce.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete a.stop,i.call(e,o,a)),!r&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return We.get(e,n)||We.access(e,n,{empty:Ce.Callbacks("once memory").add(function(){We.remove(e,[t+"queue",n])})})}}),Ce.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Ce.queue(this[0],e):void 0===t?this:this.each(function(){var n=Ce.queue(this,e,t);Ce._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Ce.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Ce.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=Ce.Deferred(),a=this,o=this.length,s=function(){--r||i.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(n=We.get(a[o],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var Je=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ke=new RegExp("^(?:([+-])=|)("+Je+")([a-z%]*)$","i"),Ye=["Top","Right","Bottom","Left"],Xe=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&Ce.contains(e.ownerDocument,e)&&"none"===Ce.css(e,"display")},Ve=function(e,t,n,r){var i,a,o={};for(a in t)o[a]=e.style[a],e.style[a]=t[a];i=n.apply(e,r||[]);for(a in t)e.style[a]=o[a];return i},Qe={};Ce.fn.extend({show:function(){return w(this,!0)},hide:function(){return w(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Xe(this)?Ce(this).show():Ce(this).hide()})}});var Ze=/^(?:checkbox|radio)$/i,et=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,tt=/^$|^module$|\/(?:java|ecma)script/i,nt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};nt.optgroup=nt.option,nt.tbody=nt.tfoot=nt.colgroup=nt.caption=nt.thead,nt.th=nt.td;var rt=/<|&#?\w+;/;!function(){var e=de.createDocumentFragment(),t=e.appendChild(de.createElement("div")),n=de.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),xe.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",xe.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var it=de.documentElement,at=/^key/,ot=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,st=/^([^.]*)(?:\.(.+)|)/;Ce.event={global:{},add:function(e,t,n,r,i){var a,o,s,c,l,d,h,u,f,p,g,_=We.get(e);if(_)for(n.handler&&(a=n,n=a.handler,i=a.selector),i&&Ce.find.matchesSelector(it,i),n.guid||(n.guid=Ce.guid++),(c=_.events)||(c=_.events={}),(o=_.handle)||(o=_.handle=function(t){return void 0!==Ce&&Ce.event.triggered!==t.type?Ce.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Me)||[""],l=t.length;l--;)s=st.exec(t[l])||[],f=g=s[1],p=(s[2]||"").split(".").sort(),f&&(h=Ce.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,h=Ce.event.special[f]||{},d=Ce.extend({type:f,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Ce.expr.match.needsContext.test(i),namespace:p.join(".")},a),(u=c[f])||(u=c[f]=[],u.delegateCount=0,h.setup&&!1!==h.setup.call(e,r,p,o)||e.addEventListener&&e.addEventListener(f,o)),h.add&&(h.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),i?u.splice(u.delegateCount++,0,d):u.push(d),Ce.event.global[f]=!0)},remove:function(e,t,n,r,i){var a,o,s,c,l,d,h,u,f,p,g,_=We.hasData(e)&&We.get(e);if(_&&(c=_.events)){for(t=(t||"").match(Me)||[""],l=t.length;l--;)if(s=st.exec(t[l])||[],f=g=s[1],p=(s[2]||"").split(".").sort(),f){for(h=Ce.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,u=c[f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=u.length;a--;)d=u[a],!i&&g!==d.origType||n&&n.guid!==d.guid||s&&!s.test(d.namespace)||r&&r!==d.selector&&("**"!==r||!d.selector)||(u.splice(a,1),d.selector&&u.delegateCount--,h.remove&&h.remove.call(e,d));o&&!u.length&&(h.teardown&&!1!==h.teardown.call(e,p,_.handle)||Ce.removeEvent(e,f,_.handle),delete c[f])}else for(f in c)Ce.event.remove(e,f+t[l],n,r,!0);Ce.isEmptyObject(c)&&We.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,a,o,s=Ce.event.fix(e),c=new Array(arguments.length),l=(We.get(this,"events")||{})[s.type]||[],d=Ce.event.special[s.type]||{};for(c[0]=s,t=1;t<arguments.length;t++)c[t]=arguments[t];if(s.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,s)){for(o=Ce.event.handlers.call(this,s,l),t=0;(i=o[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(a=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(a.namespace)||(s.handleObj=a,s.data=a.data,void 0!==(r=((Ce.event.special[a.origType]||{}).handle||a.handler).apply(i.elem,c))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,a,o,s=[],c=t.delegateCount,l=e.target;if(c&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(a=[],o={},n=0;n<c;n++)r=t[n],i=r.selector+" ",void 0===o[i]&&(o[i]=r.needsContext?Ce(i,this).index(l)>-1:Ce.find(i,this,null,[l]).length),o[i]&&a.push(r);a.length&&s.push({elem:l,handlers:a})}return l=this,c<t.length&&s.push({elem:l,handlers:t.slice(c)}),s},addProp:function(e,t){Object.defineProperty(Ce.Event.prototype,e,{enumerable:!0,configurable:!0,get:je(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[Ce.expando]?e:new Ce.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==P()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===P()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&l(this,"input"))return this.click(),!1},_default:function(e){return l(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},Ce.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},Ce.Event=function(e,t){if(!(this instanceof Ce.Event))return new Ce.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?S:O,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&Ce.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[Ce.expando]=!0},Ce.Event.prototype={constructor:Ce.Event,isDefaultPrevented:O,isPropagationStopped:O,isImmediatePropagationStopped:O,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=S,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=S,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=S,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},Ce.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&at.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&ot.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},Ce.event.addProp),Ce.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Ce.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,a=e.handleObj;return i&&(i===r||Ce.contains(r,i))||(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),Ce.fn.extend({on:function(e,t,n,r){return N(this,e,t,n,r)},one:function(e,t,n,r){return N(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Ce(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=O),this.each(function(){Ce.event.remove(this,e,n,t)})}});var ct=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,lt=/<script|<style|<link/i,dt=/checked\s*(?:[^=]|=\s*.checked.)/i,ht=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;Ce.extend({htmlPrefilter:function(e){return e.replace(ct,"<$1></$2>")},clone:function(e,t,n){var r,i,a,o,s=e.cloneNode(!0),c=Ce.contains(e.ownerDocument,e);if(!(xe.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Ce.isXMLDoc(e)))for(o=C(s),a=C(e),r=0,i=a.length;r<i;r++)M(a[r],o[r]);if(t)if(n)for(a=a||C(e),o=o||C(s),r=0,i=a.length;r<i;r++)F(a[r],o[r]);else F(e,s);return o=C(s,"script"),o.length>0&&T(o,!c&&C(e,"script")),s},cleanData:function(e){for(var t,n,r,i=Ce.event.special,a=0;void 0!==(n=e[a]);a++)if(Ue(n)){if(t=n[We.expando]){if(t.events)for(r in t.events)i[r]?Ce.event.remove(n,r):Ce.removeEvent(n,r,t.handle);n[We.expando]=void 0}n[Ge.expando]&&(n[Ge.expando]=void 0)}}}),Ce.fn.extend({detach:function(e){return I(this,e,!0)},remove:function(e){return I(this,e)},text:function(e){return Be(this,function(e){return void 0===e?Ce.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return H(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){A(this,e).appendChild(e)}})},prepend:function(){return H(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=A(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return H(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return H(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Ce.cleanData(C(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Ce.clone(this,e,t)})},html:function(e){return Be(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!lt.test(e)&&!nt[(et.exec(e)||["",""])[1].toLowerCase()]){e=Ce.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(Ce.cleanData(C(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return H(this,arguments,function(t){var n=this.parentNode;Ce.inArray(this,e)<0&&(Ce.cleanData(C(this)),n&&n.replaceChild(t,this))},e)}}),Ce.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Ce.fn[e]=function(e){for(var n,r=[],i=Ce(e),a=i.length-1,o=0;o<=a;o++)n=o===a?this:this.clone(!0),Ce(i[o])[t](n),pe.apply(r,n.get());return this.pushStack(r)}});var ut=new RegExp("^("+Je+")(?!px)[a-z%]+$","i"),ft=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},pt=new RegExp(Ye.join("|"),"i");!function(){function e(){if(l){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",it.appendChild(c).appendChild(l);var e=n.getComputedStyle(l);r="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),i=36===t(e.width),l.style.position="absolute",a=36===l.offsetWidth||"absolute",it.removeChild(c),l=null}}function t(e){return Math.round(parseFloat(e))}var r,i,a,o,s,c=de.createElement("div"),l=de.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",xe.clearCloneStyle="content-box"===l.style.backgroundClip,Ce.extend(xe,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),a}}))}();var gt=/^(none|table(?!-c[ea]).+)/,_t=/^--/,mt={position:"absolute",visibility:"hidden",display:"block"},yt={letterSpacing:"0",fontWeight:"400"},vt=["Webkit","Moz","ms"],bt=de.createElement("div").style;Ce.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=B(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,a,o,s=y(t),c=_t.test(t),l=e.style;if(c||(t=U(s)),o=Ce.cssHooks[t]||Ce.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(i=o.get(e,!1,r))?i:l[t];a=typeof n,"string"===a&&(i=Ke.exec(n))&&i[1]&&(n=j(e,t,i),a="number"),null!=n&&n===n&&("number"===a&&(n+=i&&i[3]||(Ce.cssNumber[s]?"":"px")),xe.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,r))||(c?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,a,o,s=y(t);return _t.test(t)||(t=U(s)),o=Ce.cssHooks[t]||Ce.cssHooks[s],o&&"get"in o&&(i=o.get(e,!0,n)),void 0===i&&(i=B(e,t,r)),"normal"===i&&t in yt&&(i=yt[t]),""===n||n?(a=parseFloat(i),!0===n||isFinite(a)?a||0:i):i}}),Ce.each(["height","width"],function(e,t){Ce.cssHooks[t]={get:function(e,n,r){if(n)return!gt.test(Ce.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?$(e,t,r):Ve(e,mt,function(){return $(e,t,r)})},set:function(e,n,r){var i,a=ft(e),o="border-box"===Ce.css(e,"boxSizing",!1,a),s=r&&G(e,t,r,o,a);return o&&xe.scrollboxSize()===a.position&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(a[t])-G(e,t,"border",!1,a)-.5)),s&&(i=Ke.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=Ce.css(e,t)),W(e,n,s)}}}),Ce.cssHooks.marginLeft=R(xe.reliableMarginLeft,function(e,t){if(t)return(parseFloat(B(e,"marginLeft"))||e.getBoundingClientRect().left-Ve(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),Ce.each({margin:"",padding:"",border:"Width"},function(e,t){Ce.cssHooks[e+t]={expand:function(n){for(var r=0,i={},a="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Ye[r]+t]=a[r]||a[r-2]||a[0];return i}},"margin"!==e&&(Ce.cssHooks[e+t].set=W)}),Ce.fn.extend({css:function(e,t){return Be(this,function(e,t,n){var r,i,a={},o=0;if(Array.isArray(t)){for(r=ft(e),i=t.length;o<i;o++)a[t[o]]=Ce.css(e,t[o],!1,r);return a}return void 0!==n?Ce.style(e,t,n):Ce.css(e,t)},e,t,arguments.length>1)}}),Ce.Tween=z,z.prototype={constructor:z,init:function(e,t,n,r,i,a){this.elem=e,this.prop=n,this.easing=i||Ce.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=a||(Ce.cssNumber[n]?"":"px")},cur:function(){var e=z.propHooks[this.prop];return e&&e.get?e.get(this):z.propHooks._default.get(this)},run:function(e){var t,n=z.propHooks[this.prop];return this.options.duration?this.pos=t=Ce.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):z.propHooks._default.set(this),this}},z.prototype.init.prototype=z.prototype,z.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=Ce.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){Ce.fx.step[e.prop]?Ce.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[Ce.cssProps[e.prop]]&&!Ce.cssHooks[e.prop]?e.elem[e.prop]=e.now:Ce.style(e.elem,e.prop,e.now+e.unit)}}},z.propHooks.scrollTop=z.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Ce.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},Ce.fx=z.prototype.init,Ce.fx.step={};var xt,jt,kt=/^(?:toggle|show|hide)$/,wt=/queueHooks$/;Ce.Animation=Ce.extend(Z,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return j(n.elem,e,Ke.exec(t),n),n}]},tweener:function(e,t){je(e)?(t=e,e=["*"]):e=e.match(Me);for(var n,r=0,i=e.length;r<i;r++)n=e[r],Z.tweeners[n]=Z.tweeners[n]||[],Z.tweeners[n].unshift(t)},prefilters:[V],prefilter:function(e,t){t?Z.prefilters.unshift(e):Z.prefilters.push(e)}}),Ce.speed=function(e,t,n){var r=e&&"object"==typeof e?Ce.extend({},e):{complete:n||!n&&t||je(e)&&e,duration:e,easing:n&&t||t&&!je(t)&&t};return Ce.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in Ce.fx.speeds?r.duration=Ce.fx.speeds[r.duration]:r.duration=Ce.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){je(r.old)&&r.old.call(this),r.queue&&Ce.dequeue(this,r.queue)},r},Ce.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Xe).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=Ce.isEmptyObject(e),a=Ce.speed(t,n,r),o=function(){var t=Z(this,Ce.extend({},e),a);(i||We.get(this,"finish"))&&t.stop(!0)};return o.finish=o,i||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",a=Ce.timers,o=We.get(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&wt.test(i)&&r(o[i]);for(i=a.length;i--;)a[i].elem!==this||null!=e&&a[i].queue!==e||(a[i].anim.stop(n),t=!1,a.splice(i,1));!t&&n||Ce.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=We.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],a=Ce.timers,o=r?r.length:0;for(n.finish=!0,Ce.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),Ce.each(["toggle","show","hide"],function(e,t){var n=Ce.fn[t];Ce.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(Y(t,!0),e,r,i)}}),Ce.each({slideDown:Y("show"),slideUp:Y("hide"),slideToggle:Y("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Ce.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),Ce.timers=[],Ce.fx.tick=function(){var e,t=0,n=Ce.timers;for(xt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||Ce.fx.stop(),xt=void 0},Ce.fx.timer=function(e){Ce.timers.push(e),Ce.fx.start()},Ce.fx.interval=13,Ce.fx.start=function(){jt||(jt=!0,J())},Ce.fx.stop=function(){jt=null},Ce.fx.speeds={slow:600,fast:200,_default:400},Ce.fn.delay=function(e,t){return e=Ce.fx?Ce.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,r){var i=n.setTimeout(t,e);r.stop=function(){n.clearTimeout(i)}})},function(){var e=de.createElement("input"),t=de.createElement("select"),n=t.appendChild(de.createElement("option"));e.type="checkbox",xe.checkOn=""!==e.value,xe.optSelected=n.selected,e=de.createElement("input"),e.value="t",e.type="radio",xe.radioValue="t"===e.value}();var Ct,Tt=Ce.expr.attrHandle;Ce.fn.extend({attr:function(e,t){return Be(this,Ce.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Ce.removeAttr(this,e)})}}),Ce.extend({attr:function(e,t,n){var r,i,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?Ce.prop(e,t,n):(1===a&&Ce.isXMLDoc(e)||(i=Ce.attrHooks[t.toLowerCase()]||(Ce.expr.match.bool.test(t)?Ct:void 0)),void 0!==n?null===n?void Ce.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=Ce.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!xe.radioValue&&"radio"===t&&l(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(Me);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),Ct={set:function(e,t,n){return!1===t?Ce.removeAttr(e,n):e.setAttribute(n,n),n}},Ce.each(Ce.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Tt[t]||Ce.find.attr;Tt[t]=function(e,t,r){var i,a,o=t.toLowerCase();return r||(a=Tt[o],Tt[o]=i,i=null!=n(e,t,r)?o:null,Tt[o]=a),i}});var Et=/^(?:input|select|textarea|button)$/i,St=/^(?:a|area)$/i;Ce.fn.extend({prop:function(e,t){return Be(this,Ce.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Ce.propFix[e]||e]})}}),Ce.extend({prop:function(e,t,n){var r,i,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&Ce.isXMLDoc(e)||(t=Ce.propFix[t]||t,i=Ce.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=Ce.find.attr(e,"tabindex");return t?parseInt(t,10):Et.test(e.nodeName)||St.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),xe.optSelected||(Ce.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),Ce.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Ce.propFix[this.toLowerCase()]=this}),Ce.fn.extend({addClass:function(e){var t,n,r,i,a,o,s,c=0;if(je(e))return this.each(function(t){Ce(this).addClass(e.call(this,t,te(this)))});if(t=ne(e),t.length)for(;n=this[c++];)if(i=te(n),r=1===n.nodeType&&" "+ee(i)+" "){for(o=0;a=t[o++];)r.indexOf(" "+a+" ")<0&&(r+=a+" ");s=ee(r),i!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,a,o,s,c=0;if(je(e))return this.each(function(t){Ce(this).removeClass(e.call(this,t,te(this)))});if(!arguments.length)return this.attr("class","");if(t=ne(e),t.length)for(;n=this[c++];)if(i=te(n),r=1===n.nodeType&&" "+ee(i)+" "){for(o=0;a=t[o++];)for(;r.indexOf(" "+a+" ")>-1;)r=r.replace(" "+a+" "," ");s=ee(r),i!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):je(e)?this.each(function(n){Ce(this).toggleClass(e.call(this,n,te(this),t),t)}):this.each(function(){var t,i,a,o;if(r)for(i=0,a=Ce(this),o=ne(e);t=o[i++];)a.hasClass(t)?a.removeClass(t):a.addClass(t);else void 0!==e&&"boolean"!==n||(t=te(this),t&&We.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":We.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+ee(te(n))+" ").indexOf(t)>-1)return!0;return!1}});var Ot=/\r/g;Ce.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=je(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,Ce(this).val()):e,null==i?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=Ce.map(i,function(e){return null==e?"":e+""})),(t=Ce.valHooks[this.type]||Ce.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return(t=Ce.valHooks[i.type]||Ce.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(Ot,""):null==n?"":n)}}}),Ce.extend({valHooks:{option:{get:function(e){var t=Ce.find.attr(e,"value");return null!=t?t:ee(Ce.text(e))}},select:{get:function(e){var t,n,r,i=e.options,a=e.selectedIndex,o="select-one"===e.type,s=o?null:[],c=o?a+1:i.length;for(r=a<0?c:o?a:0;r<c;r++)if(n=i[r],(n.selected||r===a)&&!n.disabled&&(!n.parentNode.disabled||!l(n.parentNode,"optgroup"))){if(t=Ce(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,a=Ce.makeArray(t),o=i.length;o--;)r=i[o],(r.selected=Ce.inArray(Ce.valHooks.option.get(r),a)>-1)&&(n=!0);return n||(e.selectedIndex=-1),a}}}}),Ce.each(["radio","checkbox"],function(){Ce.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=Ce.inArray(Ce(e).val(),t)>-1}},xe.checkOn||(Ce.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),xe.focusin="onfocusin"in n;var Pt=/^(?:focusinfocus|focusoutblur)$/,Nt=function(e){e.stopPropagation()};Ce.extend(Ce.event,{trigger:function(e,t,r,i){var a,o,s,c,l,d,h,u,f=[r||de],p=ye.call(e,"type")?e.type:e,g=ye.call(e,"namespace")?e.namespace.split("."):[];if(o=u=s=r=r||de,3!==r.nodeType&&8!==r.nodeType&&!Pt.test(p+Ce.event.triggered)&&(p.indexOf(".")>-1&&(g=p.split("."),p=g.shift(),g.sort()),l=p.indexOf(":")<0&&"on"+p,e=e[Ce.expando]?e:new Ce.Event(p,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:Ce.makeArray(t,[e]),h=Ce.event.special[p]||{},i||!h.trigger||!1!==h.trigger.apply(r,t))){if(!i&&!h.noBubble&&!ke(r)){for(c=h.delegateType||p,Pt.test(c+p)||(o=o.parentNode);o;o=o.parentNode)f.push(o),s=o;s===(r.ownerDocument||de)&&f.push(s.defaultView||s.parentWindow||n)}for(a=0;(o=f[a++])&&!e.isPropagationStopped();)u=o,e.type=a>1?c:h.bindType||p,d=(We.get(o,"events")||{})[e.type]&&We.get(o,"handle"),d&&d.apply(o,t),(d=l&&o[l])&&d.apply&&Ue(o)&&(e.result=d.apply(o,t),!1===e.result&&e.preventDefault());return e.type=p,i||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(f.pop(),t)||!Ue(r)||l&&je(r[p])&&!ke(r)&&(s=r[l],s&&(r[l]=null),Ce.event.triggered=p,e.isPropagationStopped()&&u.addEventListener(p,Nt),r[p](),e.isPropagationStopped()&&u.removeEventListener(p,Nt),Ce.event.triggered=void 0,s&&(r[l]=s)),e.result}},simulate:function(e,t,n){var r=Ce.extend(new Ce.Event,n,{type:e,isSimulated:!0});Ce.event.trigger(r,null,t)}}),Ce.fn.extend({trigger:function(e,t){return this.each(function(){Ce.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return Ce.event.trigger(e,t,n,!0)}}),xe.focusin||Ce.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Ce.event.simulate(t,e.target,Ce.event.fix(e))};Ce.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=We.access(r,t);i||r.addEventListener(e,n,!0),We.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=We.access(r,t)-1;i?We.access(r,t,i):(r.removeEventListener(e,n,!0),We.remove(r,t))}}});var At=n.location,Dt=Date.now(),Lt=/\?/;Ce.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||Ce.error("Invalid XML: "+e),t};var Ft=/\[\]$/,Mt=/\r?\n/g,Ht=/^(?:submit|button|image|reset|file)$/i,It=/^(?:input|select|textarea|keygen)/i;Ce.param=function(e,t){var n,r=[],i=function(e,t){var n=je(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!Ce.isPlainObject(e))Ce.each(e,function(){i(this.name,this.value)});else for(n in e)re(n,e[n],t,i);return r.join("&")},Ce.fn.extend({serialize:function(){return Ce.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Ce.prop(this,"elements");return e?Ce.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Ce(this).is(":disabled")&&It.test(this.nodeName)&&!Ht.test(e)&&(this.checked||!Ze.test(e))}).map(function(e,t){var n=Ce(this).val();return null==n?null:Array.isArray(n)?Ce.map(n,function(e){return{name:t.name,value:e.replace(Mt,"\r\n")}}):{name:t.name,value:n.replace(Mt,"\r\n")}}).get()}});var Bt=/%20/g,Rt=/#.*$/,qt=/([?&])_=[^&]*/,Ut=/^(.*?):[ \t]*([^\r\n]*)$/gm,Wt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Gt=/^(?:GET|HEAD)$/,$t=/^\/\//,zt={},Jt={},Kt="*/".concat("*"),Yt=de.createElement("a");Yt.href=At.href,Ce.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:At.href,type:"GET",isLocal:Wt.test(At.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Kt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":Ce.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?oe(oe(e,Ce.ajaxSettings),t):oe(Ce.ajaxSettings,e)},ajaxPrefilter:ie(zt),ajaxTransport:ie(Jt),ajax:function(e,t){function r(e,t,r,s){var l,u,f,b,x,j=t;d||(d=!0,c&&n.clearTimeout(c),i=void 0,o=s||"",k.readyState=e>0?4:0,l=e>=200&&e<300||304===e,r&&(b=se(p,k,r)),b=ce(p,b,k,l),l?(p.ifModified&&(x=k.getResponseHeader("Last-Modified"),x&&(Ce.lastModified[a]=x),(x=k.getResponseHeader("etag"))&&(Ce.etag[a]=x)),204===e||"HEAD"===p.type?j="nocontent":304===e?j="notmodified":(j=b.state,u=b.data,f=b.error,l=!f)):(f=j,!e&&j||(j="error",e<0&&(e=0))),k.status=e,k.statusText=(t||j)+"",l?m.resolveWith(g,[u,j,k]):m.rejectWith(g,[k,j,f]),k.statusCode(v),v=void 0,h&&_.trigger(l?"ajaxSuccess":"ajaxError",[k,p,l?u:f]),y.fireWith(g,[k,j]),h&&(_.trigger("ajaxComplete",[k,p]),--Ce.active||Ce.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,a,o,s,c,l,d,h,u,f,p=Ce.ajaxSetup({},t),g=p.context||p,_=p.context&&(g.nodeType||g.jquery)?Ce(g):Ce.event,m=Ce.Deferred(),y=Ce.Callbacks("once memory"),v=p.statusCode||{},b={},x={},j="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(d){if(!s)for(s={};t=Ut.exec(o);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return d?o:null},setRequestHeader:function(e,t){return null==d&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==d&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(d)k.always(e[k.status]);else for(t in e)v[t]=[v[t],e[t]];return this},abort:function(e){var t=e||j;return i&&i.abort(t),r(0,t),this}};if(m.promise(k),p.url=((e||p.url||At.href)+"").replace($t,At.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Me)||[""],null==p.crossDomain){l=de.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Yt.protocol+"//"+Yt.host!=l.protocol+"//"+l.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=Ce.param(p.data,p.traditional)),ae(zt,p,t,k),d)return k;h=Ce.event&&p.global,h&&0==Ce.active++&&Ce.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Gt.test(p.type),a=p.url.replace(Rt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Bt,"+")):(f=p.url.slice(a.length),p.data&&(p.processData||"string"==typeof p.data)&&(a+=(Lt.test(a)?"&":"?")+p.data,delete p.data),!1===p.cache&&(a=a.replace(qt,"$1"),f=(Lt.test(a)?"&":"?")+"_="+Dt+++f),p.url=a+f),p.ifModified&&(Ce.lastModified[a]&&k.setRequestHeader("If-Modified-Since",Ce.lastModified[a]),Ce.etag[a]&&k.setRequestHeader("If-None-Match",Ce.etag[a])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&k.setRequestHeader("Content-Type",p.contentType),k.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Kt+"; q=0.01":""):p.accepts["*"]);for(u in p.headers)k.setRequestHeader(u,p.headers[u]);if(p.beforeSend&&(!1===p.beforeSend.call(g,k,p)||d))return k.abort();if(j="abort",y.add(p.complete),k.done(p.success),k.fail(p.error),i=ae(Jt,p,t,k)){if(k.readyState=1,h&&_.trigger("ajaxSend",[k,p]),d)return k;p.async&&p.timeout>0&&(c=n.setTimeout(function(){k.abort("timeout")},p.timeout));try{d=!1,i.send(b,r)}catch(e){if(d)throw e;r(-1,e)}}else r(-1,"No Transport");return k},getJSON:function(e,t,n){return Ce.get(e,t,n,"json")},getScript:function(e,t){return Ce.get(e,void 0,t,"script")}}),Ce.each(["get","post"],function(e,t){Ce[t]=function(e,n,r,i){return je(n)&&(i=i||r,r=n,n=void 0),Ce.ajax(Ce.extend({url:e,type:t,dataType:i,data:n,success:r},Ce.isPlainObject(e)&&e))}}),Ce._evalUrl=function(e){return Ce.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},Ce.fn.extend({wrapAll:function(e){var t;return this[0]&&(je(e)&&(e=e.call(this[0])),t=Ce(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return je(e)?this.each(function(t){Ce(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Ce(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=je(e);return this.each(function(n){Ce(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){Ce(this).replaceWith(this.childNodes)}),this}}),Ce.expr.pseudos.hidden=function(e){return!Ce.expr.pseudos.visible(e)},Ce.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},Ce.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Xt={0:200,1223:204},Vt=Ce.ajaxSettings.xhr();xe.cors=!!Vt&&"withCredentials"in Vt,xe.ajax=Vt=!!Vt,Ce.ajaxTransport(function(e){var t,r;if(xe.cors||Vt&&!e.crossDomain)return{send:function(i,a){var o,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)s[o]=e.xhrFields[o];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(o in i)s.setRequestHeader(o,i[o]);t=function(e){return function(){t&&(t=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?a(0,"error"):a(s.status,s.statusText):a(Xt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),r=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){t&&r()})},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),Ce.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),Ce.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return Ce.globalEval(e),e}}}),Ce.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Ce.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=Ce("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),de.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Qt=[],Zt=/(=)\?(?=&|$)|\?\?/;Ce.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Qt.pop()||Ce.expando+"_"+Dt++;return this[e]=!0,e}}),Ce.ajaxPrefilter("json jsonp",function(e,t,r){var i,a,o,s=!1!==e.jsonp&&(Zt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Zt.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=je(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Zt,"$1"+i):!1!==e.jsonp&&(e.url+=(Lt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return o||Ce.error(i+" was not called"),o[0]},e.dataTypes[0]="json",a=n[i],n[i]=function(){o=arguments},r.always(function(){void 0===a?Ce(n).removeProp(i):n[i]=a,e[i]&&(e.jsonpCallback=t.jsonpCallback,Qt.push(i)),o&&je(a)&&a(o[0]),o=a=void 0}),"script"}),xe.createHTMLDocument=function(){var e=de.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),Ce.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var r,i,a;return t||(xe.createHTMLDocument?(t=de.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=de.location.href,t.head.appendChild(r)):t=de),i=Ne.exec(e),a=!n&&[],i?[t.createElement(i[1])]:(i=E([e],t,a),a&&a.length&&Ce(a).remove(),Ce.merge([],i.childNodes))},Ce.fn.load=function(e,t,n){var r,i,a,o=this,s=e.indexOf(" ");return s>-1&&(r=ee(e.slice(s)),e=e.slice(0,s)),je(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),o.length>0&&Ce.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){a=arguments,o.html(r?Ce("<div>").append(Ce.parseHTML(e)).find(r):e)}).always(n&&function(e,t){o.each(function(){n.apply(this,a||[e.responseText,t,e])})}),this},Ce.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Ce.fn[t]=function(e){return this.on(t,e)}}),Ce.expr.pseudos.animated=function(e){return Ce.grep(Ce.timers,function(t){return e===t.elem}).length},Ce.offset={setOffset:function(e,t,n){var r,i,a,o,s,c,l,d=Ce.css(e,"position"),h=Ce(e),u={};"static"===d&&(e.style.position="relative"),s=h.offset(),a=Ce.css(e,"top"),c=Ce.css(e,"left"),l=("absolute"===d||"fixed"===d)&&(a+c).indexOf("auto")>-1,l?(r=h.position(),o=r.top,i=r.left):(o=parseFloat(a)||0,i=parseFloat(c)||0),je(t)&&(t=t.call(e,n,Ce.extend({},s))),null!=t.top&&(u.top=t.top-s.top+o),null!=t.left&&(u.left=t.left-s.left+i),"using"in t?t.using.call(e,u):h.css(u)}},Ce.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Ce.offset.setOffset(this,e,t)});var t,n,r=this[0];if(r)return r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===Ce.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===Ce.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&(i=Ce(e).offset(),i.top+=Ce.css(e,"borderTopWidth",!0),i.left+=Ce.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-Ce.css(r,"marginTop",!0),left:t.left-i.left-Ce.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===Ce.css(e,"position");)e=e.offsetParent;return e||it})}}),Ce.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;Ce.fn[e]=function(r){return Be(this,function(e,r,i){var a;if(ke(e)?a=e:9===e.nodeType&&(a=e.defaultView),void 0===i)return a?a[t]:e[r];a?a.scrollTo(n?a.pageXOffset:i,n?i:a.pageYOffset):e[r]=i},e,r,arguments.length)}}),Ce.each(["top","left"],function(e,t){Ce.cssHooks[t]=R(xe.pixelPosition,function(e,n){if(n)return n=B(e,t),ut.test(n)?Ce(e).position()[t]+"px":n})}),Ce.each({Height:"height",Width:"width"},function(e,t){Ce.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){Ce.fn[r]=function(i,a){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===a?"margin":"border");return Be(this,function(t,n,i){var a;return ke(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===i?Ce.css(t,n,s):Ce.style(t,n,i,s)},t,o?i:void 0,o)}})}),Ce.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){Ce.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Ce.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Ce.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),Ce.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),je(e))return r=ue.call(arguments,2),i=function(){return e.apply(t||this,r.concat(ue.call(arguments)))},i.guid=e.guid=e.guid||Ce.guid++,i},Ce.holdReady=function(e){e?Ce.readyWait++:Ce.ready(!0)},Ce.isArray=Array.isArray,Ce.parseJSON=JSON.parse,Ce.nodeName=l,Ce.isFunction=je,Ce.isWindow=ke,Ce.camelCase=y,Ce.type=s,Ce.now=Date.now,Ce.isNumeric=function(e){var t=Ce.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},r=[],void 0!==(i=function(){return Ce}.apply(t,r))&&(e.exports=i);var en=n.jQuery,tn=n.$;return Ce.noConflict=function(e){return n.$===Ce&&(n.$=tn),e&&n.jQuery===Ce&&(n.jQuery=en),Ce},a||(n.jQuery=n.$=Ce),Ce})},A9Fp:function(e,t,n){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function t(){n(this,t),this.initBody(),this.initCSS()}return r(t,[{key:"initBody",value:function(){var t=document.createElement("div");t.className="container";var n=document.createElement("div");n.className="header",t.append(n);var r=document.createElement("div");r.className="main",t.append(r);var i=document.createElement("div");i.className="breadcrumb",r.append(i);var a=document.createElement("div");a.className="top",r.append(a);var o=document.createElement("div");o.className="topUp",a.append(o);var s=document.createElement("div");s.className="topDown",a.append(s);var c=document.createElement("div");c.className="bottom",r.append(c);var l=document.createElement("div");l.className="manage",c.append(l);var d=document.createElement("div");d.className="tools",c.append(d);var h=document.createElement("div");h.className="footer",t.append(h),e("body").append(t)}},{key:"initCSS",value:function(){var t=document.createElement("style");t.type="text/css",t.id="layout_css_style",t.innerHTML="\tbody{\n\t\t\t\t\t\t\t\t\tmargin:0px;\n\t\t\t\t\t\t\t\t\tbackground-color: blue;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t.container{\n\t\t\t\t\t\t\t\t\theight: 100vh;\n\t\t\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\t\t\tflex-direction: column;\n\t\t\t\t\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\t\t\t\t\tbackground-color: grey;\n\t\t\t\t\t\t\t\t\talign-items: stretch;\n\t\t\t\t\t\t\t\t}\t\n\n\t\t\t\t\t\t\t\t\t.header{\n\t\t\t\t\t\t\t\t\t\tbackground-color: green;\n\t\t\t\t\t\t\t\t\t\theight:56px;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t.main{\n\t\t\t\t\t\t\t\t\t\tflex:1;\n\t\t\t\t\t\t\t\t\t\tbackground-color: orange;\n\t\t\t\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\t\t\t\tflex-direction: column;\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t.breadcrumb{\n\t\t\t\t\t\t\t\t\t\t\tbackground-color: grey;\n\t\t\t\t\t\t\t\t\t\t\toverflow-x: scroll;\n\t\t\t\t\t\t\t\t\t\t\twhite-space:nowrap;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t.top{\n\t\t\t\t\t\t\t\t\t\t\tflex:1;\n\t\t\t\t\t\t\t\t\t\t\tbackground-color: red;\n\t\t\t\t\t\t\t\t\t\t\toverflow-y: scroll;\n\t\t\t\t\t\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\t\t\t\t\t\tflex-direction: column;\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t.topUp{\n\t\t\t\t\t\t\t\t\t\t\t\tflex:1;\n\t\t\t\t\t\t\t\t\t\t\t\tbackground-color: grey;\n\t\t\t\t\t\t\t\t\t\t\t\toverflow-y: scroll;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t.topBottom{\n\t\t\t\t\t\t\t\t\t\t\t\tbackground-color: yellow;\n\t\t\t\t\t\t\t\t\t\t\t\toverflow-y: scroll;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t.bottom{\n\n\t\t\t\t\t\t\t\t\t\t\tbackground-color: purple;\n\t\t\t\t\t\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\t\t\t\t\t\tflex-direction: column;\n\t\t\t\t\t\t\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t.footer{\n\t\t\t\t\t\t\t\t\t\tbackground-color: green;\n\t\t\t\t\t\t\t\t\t\theight:10px;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t",e("body").append(t)}}]),t}();t.a=i}).call(t,n("7t+N"))},AfVH:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("Y8vx"),s=n("r2ZQ"),c=n("R1S1"),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(e,n,a){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a));return o.init(),o}return a(t,e),l(t,[{key:"init",value:function(){this.initListener(),this.initUp(),this.up.loadData(),this.initDown()}},{key:"initUp",value:function(){this.up=new s.a(this.container,"topUp",this.path),this.up.show()}},{key:"initDown",value:function(){this.down=new c.a(this.container,"topDown",this.path)}},{key:"initListener",value:function(){var e=this;this.container.addEventListener("callBack",function(t){return e.callBack(t)})}},{key:"callBack",value:function(e){this["on_"+e.detail.element+"_"+e.detail.Event.type](e.detail)}},{key:"on_topUp_select_node",value:function(e){this.down.loadData(e.data.node),this.down.show(),this.down.minForceFlex()}},{key:"on_topDown_select_node",value:function(e){this.up.hide(),this.down.show(),e.breadcrumb=this.up.getObjPathToNode(),e.element="top_"+e.element;var t=new CustomEvent("callBack",{detail:e});this.parent.dispatchEvent(t)}},{key:"focusUp",value:function(e){this.up.show(e),this.down.hide()}}]),t}(o.a);t.a=d},CmgE:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){r(this,e),this.header=document.getElementsByClassName(t)[0],console.log(this.header),this.backGroundColor="",this.initContainer()}return i(e,[{key:"initContainer",value:function(){this.headerGlobal=document.createElement("div"),this.headerGlobal.className="headerGlobal",this.headerGlobal.style.width="100%",this.headerGlobal.draggable=!0,this.header.append(this.headerGlobal),this.headerContainer=document.createElement("div"),this.headerContainer.className="headerContainer",this.headerGlobal.append(this.headerContainer),this.headerContainer.style.display="flex",this.headerContainer.style.justifyContent="space-between",this.headerContainer.style.alignItems="center",this.margeSize=this.headerGlobal.offsetHeight-.9*this.headerGlobal.offsetHeight,this.headerContainer.style.width=this.header.offsetWidth-2*this.margeSize+"px",this.headerContainer.style.height=this.header.offsetHeight-2*this.margeSize+"px",this.headerContainer.style.margin=this.margeSize+"px"}},{key:"setBkgdColor",value:function(e){this.headerGlobal.style.background=e}},{key:"setHeight",value:function(e){this.headerGlobal.style.height=e+"px",this.margeSize=this.headerGlobal.offsetHeight-.9*this.headerGlobal.offsetHeight,this.headerContainer.style.margin="0px",console.log(this.headerGlobal.offsetHeight),console.log(this.margeSize),this.headerContainer.style.width=this.headerGlobal.offsetWidth-2*this.margeSize+"px",this.headerContainer.style.height=this.headerGlobal.offsetHeight-2*this.margeSize+"px"}},{key:"setBack",value:function(){var e=this,t=document.createElement("div");t.className="headerBack",this.headerContainer.append(t);var n=document.createElement("i");n.className="material-icons",n.style.fontSize="40px",n.style.color="white",n.append("keyboard_backspace"),t.append(n),n.addEventListener("click",function(t){return e.linkBack(t)})}},{key:"linkBack",value:function(e){}},{key:"setBackToHome",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=document.createElement("div");n.className="headerBackHome",this.headerContainer.append(n);var r=document.createElement("i");r.id="BackToHome",r.className="material-icons",r.style.fontSize="40px",r.style.color="white",r.append("keyboard_backspace"),n.append(r),t?r.addEventListener("click",function(n){return e.closeParent(t)}):r.addEventListener("click",function(t){return e.linkBackToHome(t)})}},{key:"linkBackToHome",value:function(e){var t=new CustomEvent("changeFrame",{detail:{frame:"Home"}});window.dispatchEvent(t)}},{key:"closeParent",value:function(e){e.remove()}},{key:"setIconPage",value:function(){var e=document.createElement("div");e.className="headerWidgets",this.headerContainer.append(e);var t=document.createElement("i");t.className="material-icons",t.style.fontSize="40px",t.style.color="white",t.append("widgets"),e.append(t)}}]),e}();t.a=a},"ET/6":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("p+IR"),i=n("nCmk");r.a.addMe("","app");new i.a("app")},GZ9t:function(e,t,n){"use strict";(function(e){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("p+IR"),s=n("A9Fp"),c=n("QMBn"),l=n("QjP/"),d=n("RbQ3"),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(t){function n(e){r(this,n);var t=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.path=e+"/objects",o.a.addMe(t.path),t.container=document.getElementsByClassName("container")[0],t.headerInit(),t.mainInit(),t.footerInit(),t}return a(n,t),h(n,[{key:"headerInit",value:function(){this.Header=new c.a(this.container,"header",this.path)}},{key:"mainInit",value:function(){this.Main=new l.a(this.container,"main",this.path)}},{key:"footerInit",value:function(){this.Footer=new d.a(this.container,"footer",this.path)}},{key:"breadcrumb",value:function(){this.ObjBreadcrumb=new Breadcrumb}},{key:"mainTopUp",value:function(){this.jsTreeParent=new jsTreeContainer("topUp","Container","JsTreeContainer"),this.jsTreeParent.loadData()}},{key:"mainTopBottom",value:function(){this.jsTreeChild=new jsTreeContainer("topBottom","ObjectTree","JsTreeObjects"),this.jsTreeChild.hide()}},{key:"mainBottomTools",value:function(){this.mainBottomTools=new Tools}},{key:"mainBottomManager",value:function(e){this.mainBottomMyManager=new Manager(e)}},{key:"elementAnimation",value:function(){var e=this;this.jsTreeParent.linkSearch("toolsInput");var t="ObjectJsTreeParentSelect";window.addEventListener(t,function(n){return e[t](n)}),this.jsTreeParent.initEventsElementSelect(t);window.addEventListener("ObjectBreadParentSelect",function(t){return e.ObjectBreadParentSelect(t)}),this.jsTreeParent.initEventsBreadSelect("ObjectBreadParentSelect");var n="ObjectJsTreeChildSelect";window.addEventListener(n,function(t){return e[n](t)}),this.jsTreeChild.initEventsElementSelect(n)}},{key:"ObjectJsTreeParentSelect",value:function(e){console.log("ParentSelect"),this.ParentId=e.detail.node.id,this.jsTreeChild.unlinkSearch(),this.jsTreeChild.loadData(e.detail.node),this.jsTreeParent.getHTMLParent()[0].style.flex="1 1 0%",this.jsTreeChild.getHTMLParent()[0].style.flex="",this.jsTreeChild.show(),this.jsTreeParent.clearSearch(),this.in="Container"}},{key:"ObjectBreadParentSelect",value:function(e){this.ParentId="",this.ObjBreadcrumb.destroyAll(),this.jsTreeParent.show(),this.jsTreeParent.getHTMLParent()[0].style.flex="1 1 0%",this.jsTreeChild.getHTMLParent()[0].style.flex="0 0 0%",this.jsTreeChild.hide(),this.mainBottomTools.removeInfos(),this.mainBottomTools.clearSearch(),this.jsTreeParent.linkSearch("toolsInput"),this.in="Container"}},{key:"ObjectJsTreeChildSelect",value:function(e){if(console.log("ChildSelect"),console.log(e),console.log(this.in),"Container"==this.in){var t=this.jsTreeParent.getObjPathToNode();this.ObjBreadcrumb.init("bcContainer",t,"ObjectBreadParentSelect",!0),this.jsTreeParent.getHTMLParent()[0].style.flex="0 0 0%",this.jsTreeParent.hide(),this.jsTreeChild.linkSearch("toolsInput"),this.jsTreeChild.getHTMLParent()[0].style.flex="1 1 0%",this.mainBottomTools.initInfosObjects(),this.mainBottomManager("manage")}this.in="Child",this.mainBottomTools.clearSearch(),this.mainBottomMyManager.loadList(this.ParentId,e.detail.node.id)}},{key:"toolbarHTML",value:function(){this.ObjectToolBar=new toolBar(this.TheObjectInfosCollect,this.TheObjectInfosResourcesTypeCollect),this.ObjectToolBar.hide()}},{key:"linkVakataDomEvent",value:function(){var t=this;e(document).on("dnd_stop.vakata",function(e,n){return t.vakataAction(e,n)})}},{key:"vakataAction",value:function(t,n){var r=e(n.data.origin.element[0]),i=e("#"+r.filter("div").attr("id")).jstree(!0),a="";r.filter("div").attr("id")==this.JsTreeContainer?(console.log("on passe bien la"),console.log(this.JstreeContainerObj),a=this.JstreeContainerObj):r.filter("div").attr("id")==this.JsTreeObjects&&(a=this.JstreeObjectsObj),a.onDNDJstree(t,n,i)}}]),n}(s.a);t.a=u}).call(t,n("7t+N"))},IU88:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("Y8vx"),s=n("Xad4"),c=n("r2NO"),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(e,n,a){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a));return o.init(),o}return a(t,e),l(t,[{key:"init",value:function(){this.Tools=new c.a(this.container,"tools",this.path),this.Manage=new s.a(this.container,"manage",this.path)}},{key:"openManage",value:function(){this.Manage.open()}},{key:"hideManage",value:function(){this.Manage.close()}},{key:"openNoteTools",value:function(){this.Tools.openNoteTools()}},{key:"hideNodeTools",value:function(){this.Tools.hideNoteTools()}}]),t}(o.a);t.a=d},"JoI/":function(e,t,n){"use strict";(function(e){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n("7eCe"),a=n("pZLM"),o=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),s=function(){function t(n,a,o){var s=this;r(this,t),this.MyClass=o,this.JsTree=document.createElement("div"),this.JsTree.className=this.MyClass,this.HTMLParent=n,this.HTMLParent.append(this.JsTree),this.searchElt=!1,this.BreadEventCallBack=!1,this.collection=new i.a(a),this.initJsTree(),this.initCallBackEvents(),e("."+this.MyClass).on("rename_node.jstree",function(e,t){return s.onRenameJsTree(e,t)}),e("."+this.MyClass).on("create_node.jstree",function(e,t){return s.onCreateJsTree(e,t)})}return o(t,[{key:"initJsTree",value:function(){var t=this;e("."+this.MyClass).on("deleteNode",function(e,n){return t.onDeleteJsTree(e,n)}),e("."+this.MyClass).on("addType",function(e,n){return t.onAddTypeJsTree(e,n)});var n=this.MyClass;e("."+this.MyClass).jstree({core:{themes:{name:"proton",responsive:!0},check_callback:!0},contextmenu:{items:function(t){console.log("jstree context menu before return"),console.log(t);var r={separator_before:!1,separator_after:!1,label:"Ajouter",action:function(r){t=e("."+n).jstree(!0).create_node(t),e("."+n).jstree(!0).edit(t)}},i={separator_before:!1,separator_after:!1,label:"Renomer",action:function(r){e("."+n).jstree(!0).edit(t)}},a={separator_before:!1,separator_after:!1,label:"Supprimer",action:function(r){e("."+n).trigger("deleteNode",[{node:t}])}},o={separator_before:!0,separator_after:!1,label:"Type",submenu:{Assign:{separator_before:!0,separator_after:!1,label:"Assigner",action:function(e){}},AssignChilds:{separator_before:!0,separator_after:!1,label:"Types enfants",action:function(e){}}}},s={};return s.Create=r,t.id>0&&(s.Rename=i,s.Remove=a,s.Type=o),s}},types:{default:{icon:"glyphicon glyphicon-tree-deciduous"},car:{icon:"fa fa-car"},kitchen:{icon:"glyphicon glyphicon-apple"},home:{icon:"glyphicon glyphicon-home"}},plugins:["dnd","search","types","contextmenu"]}),e("."+this.MyClass).jstree(!0).hide_dots()}},{key:"loadData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.Parent=!1,0!=t&&(this.Parent=t);var n=this.collection.getList(t.id);for(var r in n)"#"==n[r].parent&&(n[r].parent=0);var i="Mon Univers";0!=t&&(i=t.text);var a={id:0,parent:"#",text:i,type:""};n.unshift(a),e("."+this.MyClass).jstree(!0).settings.core.data=n,e("."+this.MyClass).jstree(!0).refresh()}},{key:"getSearchElements",value:function(){console.log("in getSearchElements");var t={};return t.element=e("."+this.MyClass).jstree(!0),t.methode="search",t.me=this.MyClass,t}},{key:"getObjPathToNode",value:function(){var t=[],n=e("."+this.MyClass).jstree(!0).get_node(e("."+this.MyClass).jstree(!0).get_selected()[0]);t.push(n);for(var r in n.parents){var i=e("."+this.MyClass).jstree(!0).get_node(n.parents[r]);void 0!==i.text&&t.unshift(i)}return t}},{key:"clearSearch",value:function(){e("."+this.MyClass).jstree(!0).clear_search()}},{key:"openNode",value:function(t){e("."+this.MyClass).jstree(!0).clear_search(),e("."+this.MyClass).jstree(!0).close_all(),e("."+this.MyClass).jstree(!0)._open_to(t),e("."+this.MyClass).jstree(!0).open_node(t)}},{key:"hide",value:function(){this.deselectAll(),this.closeAll()}},{key:"show",value:function(){}},{key:"deselectAll",value:function(){e("."+this.MyClass).jstree(!0).deselect_all()}},{key:"closeAll",value:function(){e("."+this.MyClass).jstree(!0).close_all()}},{key:"initCallBackEvents",value:function(){var t=this.HTMLParent;e("."+this.MyClass).on("select_node.jstree",function(e,n){var r=new CustomEvent("callBack",{detail:{data:n,Event:e}});t.dispatchEvent(r)})}},{key:"onRenameJsTree",value:function(e,t){var n=new FormData;n.append("node",t.node.id),n.append("name",t.node.text),this.collection.rename(n)}},{key:"onDeleteJsTree",value:function(e,t){var n=this;this.jsTreeContainer;swal({title:"t sur ???",text:"Ctrl-Z n'est pas implÃ©mentÃ© alors rÃ©flÃ©chis bien !",icon:"warning",buttons:!0,dangerMode:!0}).then(function(e){if(!e)return swal("t'inquietes ta data est tjs la"),!1;var r=new FormData;r.append("node",t.node.id),r.append("parent",t.node.parent),0==n.collection.delete(r).error&&(n.JsTreeContainer.jstree(!0).delete_node(t.node),n.getJstreeContainerElements()),swal("Poof! Ã  la poubelle ;)",{icon:"success"})})}},{key:"onCreateJsTree",value:function(t,n){var r=new FormData;this.Parent&&r.append("container",this.Parent.id),r.append("node",n.node.text),r.append("parent",n.parent);var i=this.collection.create(r);e("."+this.MyClass).jstree(!0).set_id(n.node,i.data)}},{key:"onDNDJstree",value:function(e,t,n){var r=new FormData;r.append("node",n.get_node(t.data.nodes[0]).id),r.append("parent",n.get_node(t.data.nodes[0]).parent),this.collection.move(r)}}]),t}();t.a=s}).call(t,n("7t+N"))},LaDh:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n("rXp8"),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e),this.apiPrefixe="/container/",this.SvcBackEndComm=new i.a}return a(e,[{key:"getList",value:function(){return this.SvcBackEndComm.ajaxSend("GET",this.apiPrefixe+"all")}},{key:"rename",value:function(e){return this.SvcBackEndComm.ajaxSend("POST",this.apiPrefixe+"rename",e)}},{key:"delete",value:function(e){return this.SvcBackEndComm.ajaxSend("POST",this.apiPrefixe+"delete",e)}},{key:"create",value:function(e){return this.SvcBackEndComm.ajaxSend("POST",this.apiPrefixe+"add",e)}},{key:"move",value:function(e){return this.SvcBackEndComm.ajaxSend("POST",this.apiPrefixe+"dnd",e)}}]),e}();t.a=o},OpR8:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("7eCe"),s=n("Y8vx"),c=n("xYY+"),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(e,n,a){r(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a));return s.collection=new o.a("ObjectInfos"),s.init(),s}return a(t,e),l(t,[{key:"init",value:function(){this.initContainer()}},{key:"initContainer",value:function(){}},{key:"showList",value:function(){console.log("in show list"),console.log(this.container),this.container.style.maxHeight="150px",this.container.style.height=null}},{key:"hideList",value:function(){console.log("in hide list"),this.container.style.height="0px"}},{key:"getList",value:function(){var e=this;this.container.innerHTML="";var t=this.Lifer.getData("app/home/frame/objects","ContainerNode"),n=this.Lifer.getData("app/home/frame/objects","LeafNode"),r=this.collection.getList(t.id,n.id),i=document.createElement("ul");i.style.listStyleType="none",i.style.margin="0px",i.style.padding="15px",this.container.append(i),console.log("listInfos"),console.log(r);for(var a in r)!function(t){var n=document.createElement("li");i.append(n);var a=document.createElement("i");a.className="material-icons",a.style.fontSize="25px",a.style.color="white",a.style.marginRight="15px",a.append(r[t].resources.type.picto),n.append(a);var o=document.createElement("a");o.style.textDecoration="none",o.style.color="white",o.style.verticalAlign="super",o.style.fontSize="20px",o.append(r[t].infos.name),o.addEventListener("click",function(n){return e.openPopNote(n,r[t].infos.id)}),n.append(o)}(a)}},{key:"openPopNote",value:function(e,t){console.log("openPopNote"),console.log("id: "+t);new c.a(this.container,"popNote",this.path,t)}}]),t}(s.a);t.a=d},PixO:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("Y8vx"),s=n("wzof"),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e){function t(e,n,a){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a));return o.container.style.background="#ffffff",o.init(),o}return a(t,e),c(t,[{key:"init",value:function(){this.initListener(),this.initBreadcrumb()}},{key:"initBreadcrumb",value:function(){this.BC=new s.a(this.container)}},{key:"loadData",value:function(e,t){this.BC.init(t,e,!0)}},{key:"hide",value:function(){this.container.style.display="none"}},{key:"show",value:function(){this.container.style.display=""}},{key:"initListener",value:function(){var e=this;this.container.addEventListener("callBack",function(t){return e.callBack(t)})}},{key:"callBack",value:function(e){console.log("in callBack breadcrumb");var t="on_"+e.detail.Event.type;console.log(t),this[t](e.detail)}},{key:"on_click",value:function(e){console.log("in on_click");var t={};t.element="breadcrumb",t.Event={},t.Event.type="select",t.data=e.data;var n=new CustomEvent("callBack",{detail:t});this.parent.dispatchEvent(n)}}]),t}(o.a);t.a=l},QMBn:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("Y8vx"),s=n("CmgE"),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e){function t(e,n,a){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a));return o.bkgdHF="linear-gradient(45deg, #43A047 0%, #1de9b6 100%)",o.HeaderObject=new s.a("header"),o.skin(),o}return a(t,e),c(t,[{key:"skin",value:function(){this.HeaderObject.setBkgdColor(this.bkgdHF),this.HeaderObject.setBackToHome(),this.HeaderObject.setIconPage()}}]),t}(o.a);t.a=l},"QjP/":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("Y8vx"),s=n("PixO"),c=n("AfVH"),l=n("IU88"),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(e){function t(e,n,a){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a));return o.init(),o}return a(t,e),d(t,[{key:"init",value:function(){this.initListener(),this.breadcrumb=new s.a(this.container,"breadcrumb",this.path),this.top=new c.a(this.container,"top",this.path),this.bottom=new l.a(this.container,"bottom",this.path)}},{key:"initListener",value:function(){var e=this;this.container.addEventListener("callBack",function(t){return e.callBack(t)})}},{key:"callBack",value:function(e){console.log(e);var t="on_"+e.detail.element+"_"+e.detail.Event.type;console.log(t),this[t](e.detail)}},{key:"on_top_topDown_select_node",value:function(e){this.breadcrumb.loadData(e.breadcrumb,"bcContainer"),this.breadcrumb.show(),console.log("openManage"),this.bottom.openManage(),this.bottom.openNoteTools()}},{key:"on_breadcrumb_select",value:function(e){console.log(e),this.top.focusUp(e),this.breadcrumb.hide(),this.bottom.hideManage(),this.bottom.hideNodeTools()}}]),t}(o.a);t.a=h},R1S1:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("RsBd"),s=n("Y8vx"),c=n("JoI/"),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(e,n,a){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a));return o.container.style.background="#a5dc86",o.initTree(),o.initListener(),o}return a(t,e),l(t,[{key:"initTree",value:function(){this.jsTree=new c.a(this.container,"ObjectTree","JsTreeObjects"),o.a.addTarget(this.jsTree.getSearchElements())}},{key:"loadData",value:function(e){this.jsTree.loadData(e)}},{key:"hide",value:function(){this.container.style.display="none",this.container.style.flex="0",this.container.style.padding="0px",this.jsTree.hide()}},{key:"show",value:function(){this.container.style.display="",this.container.style.flex="1",this.container.style.padding="10px",this.jsTree.show()}},{key:"minForceFlex",value:function(){this.container.style.flex="0"}},{key:"initListener",value:function(){var e=this;this.container.addEventListener("callBack",function(t){return e.callBack(t)})}},{key:"callBack",value:function(e){this["on_"+e.detail.Event.type](e.detail)}},{key:"on_select_node",value:function(e){console.log("on select leaf"),console.log(e),this.Lifer.addData("app/home/frame/objects",[{LeafNode:e.data.node}]),this.Lifer.dumpMe(),e.element=this.MyClass;var t=new CustomEvent("callBack",{detail:e});this.parent.dispatchEvent(t)}}]),t}(s.a);t.a=d},RbQ3:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("Y8vx"),s=n("SCeK"),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e){function t(e,n,a){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a));return o.bkgdHF="linear-gradient(45deg, #43A047 0%, #1de9b6 100%)",o.FooterObject=new s.a("footer"),o.skin(),o}return a(t,e),c(t,[{key:"skin",value:function(){this.FooterObject.setBkgdColor(this.bkgdHF)}}]),t}(o.a);t.a=l},RsBd:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return o});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){r(this,e),this.targets=[],this.inputs=[]}return i(e,[{key:"addTarget",value:function(e){this.targets.push(e)}},{key:"addInput",value:function(e){var t=this;this.inputs.push(e),e.element.addEventListener("keyup",function(n){return t.match(n,e.element)})}},{key:"removeTarget",value:function(e){var t=0,n=!0,r=!1,i=void 0;try{for(var a,o=this.targets[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){a.value.me==e&&this.targets.splice(t,1);break}}catch(e){r=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}}},{key:"removeInput",value:function(){}},{key:"match",value:function(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=this.targets[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;s.element[s.methode](t.value)}}catch(e){r=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}}}]),e}(),o=new a},SBJz:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("Y8vx"),s=n("RsBd"),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e){function t(e,n,a){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a));return o.init(),o}return a(t,e),c(t,[{key:"init",value:function(){this.skinContainer(),this.addInput(),this.linkSearch()}},{key:"skinContainer",value:function(){this.container.style.background="#e8eff7",this.container.style.padding="5px"}},{key:"addInput",value:function(){this.input=document.createElement("input"),this.input.className="toolsInput",this.input.type="text",this.input.placeholder="Recherche...",this.input.style.padding="5px",this.input.style.borderRadius="5px",this.input.style.border="1px solid silver",this.input.style.height="40px",this.input.style.boxSizing="border-box",this.input.style.width="100%",this.container.append(this.input)}},{key:"linkSearch",value:function(){var e={};e.element=this.input,s.a.addInput(e)}},{key:"unlinkSearch",value:function(){}}]),t}(o.a);t.a=l},SCeK:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){r(this,e),this.footer=document.getElementsByClassName(t)[0],this.backGroundColor=""}return i(e,[{key:"setBkgdColor",value:function(e){this.footer.style.background=e}}]),e}();t.a=a},Xad4:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("Y8vx"),s=n("OpR8"),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e){function t(e,n,a){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a));return o.init(),o}return a(t,e),c(t,[{key:"init",value:function(){this.container.style.overflowY="scroll",this.container.style.fontFamily="'Titillium Web',sans-serif,Arial,sans-serif",this.container.style.background="#17802d",this.initContainer()}},{key:"initContainer",value:function(){this.List=new s.a(this.container,"list",this.path)}},{key:"open",value:function(){this.List.showList(),this.List.getList()}},{key:"close",value:function(){this.List.hideList()}}]),t}(o.a);t.a=l},Y8vx:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n("p+IR"),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n,a){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];r(this,e),this.parent=t,this.MyClass=n,this.path=a+"/"+this.MyClass,this.Lifer=i.a,this.Lifer.addMe(this.path),this.superInit(o)}return a(e,[{key:"superInit",value:function(e){void 0!==document.getElementsByClassName(this.MyClass)[0]?this.container=document.getElementsByClassName(this.MyClass)[0]:(this.container=document.createElement("div"),this.container.className=this.MyClass,e?this.parent.prepend(this.container):this.parent.append(this.container))}}]),e}();t.a=o},"cb+f":function(e,t,n){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function t(){n(this,t),this.initDivs(),this.main(),this.objects(),this.humans()}return r(t,[{key:"initDivs",value:function(){this.toolsContainer=document.createElement("div"),this.toolsContainer.className="toolsContainer",this.toolsMain=document.createElement("div"),this.toolsMain.className="toolsMain",this.toolsContainer.append(this.toolsMain),this.toolsObjects=document.createElement("div"),this.toolsObjects.className="toolsObjects",this.toolsContainer.append(this.toolsObjects),this.toolsHumans=document.createElement("div"),this.toolsHumans.className="toolsHumans",this.toolsContainer.append(this.toolsHumans),e(".tools").append(this.toolsContainer),this.toolsContainer.style.display="flex"}},{key:"main",value:function(){var t=this,n=document.createElement("a"),r=document.createElement("i");r.className="material-icons",r.style.color="white",r.append("add"),n.append(r),this.toolsMain.append(n),this.toolsMain.style.margin="10px",this.toolsMain.style.background="linear-gradient(45deg, #0288d1 0%, #26c6da 100%)",this.toolsMain.style.width="60px",this.toolsMain.style.height="60px",this.toolsMain.style.borderRadius="50%",this.toolsMain.style.display="flex",this.toolsMain.style.alignItems="center",this.toolsMain.style.justifyContent="center",e(".toolsMain").on("click",function(e){return t.animateChilds(e)})}},{key:"objects",value:function(){var t=document.createElement("a"),n=document.createElement("i");n.className="material-icons",n.style.color="white",n.append("widgets"),t.append(n),this.toolsObjects.append(t),this.toolsObjects.style.margin="17px",this.toolsObjects.style.background="linear-gradient(45deg, #0097a7 0%, #9ccc65 100%)",this.toolsObjects.style.width="46px",this.toolsObjects.style.height="46px",this.toolsObjects.style.borderRadius="50%",this.toolsObjects.style.display="flex",this.toolsObjects.style.alignItems="center",this.toolsObjects.style.justifyContent="center",this.toolsObjects.style.transform="translate(-80px, -30px) scale(0.01)",this.toolsObjects.style.opacity="0",this.toolsObjects.style.transition="0.4s cubic-bezier(0, 0.87, 0.01, 0.87)",e(".toolsObjects").on("click",function(){var e=new CustomEvent("changeFrame",{detail:{frame:"Objects"}});window.dispatchEvent(e)})}},{key:"animateChilds",value:function(e){this.toolsObjects.style.transform="",this.toolsObjects.style.opacity="1",this.toolsHumans.style.transform="",this.toolsHumans.style.opacity="1"}},{key:"humans",value:function(){var e=document.createElement("a"),t=document.createElement("i");t.className="material-icons",t.style.color="white",t.append("face"),e.append(t),this.toolsHumans.append(e),this.toolsHumans.style.margin="17px",this.toolsHumans.style.background="linear-gradient(45deg, rgb(223, 4, 226) 0%, rgb(255, 185, 250) 100%)",this.toolsHumans.style.width="46px",this.toolsHumans.style.height="46px",this.toolsHumans.style.borderRadius="50%",this.toolsHumans.style.display="flex",this.toolsHumans.style.alignItems="center",this.toolsHumans.style.justifyContent="center",this.toolsHumans.style.transform="translate(-160px, -30px) scale(0.01)",this.toolsHumans.style.opacity="0",this.toolsHumans.style.transition="0.4s cubic-bezier(0, 0.87, 0.01, 0.87)"}}]),t}();t.a=i}).call(t,n("7t+N"))},gEbo:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("Y8vx"),s=n("xYY+"),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e){function t(e,n,a,o){r(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a,o));return s.init(),s}return a(t,e),c(t,[{key:"init",value:function(){this.toolbar()}},{key:"toolbar",value:function(){this.tb=document.createElement("div"),this.tb.style.height="40px",this.tb.style.background="#e8eff7",this.tb.style.display="flex",this.tb.style.justifyContent="space-around",this.container.append(this.tb),this.addButton()}},{key:"addButton",value:function(){var e=this,t=document.createElement("div");t.style.display="flex",t.style.alignItems="center",this.tb.append(t);var n=document.createElement("i");n.className="material-icons",n.style.fontSize="25px",n.style.color="green",n.style.marginRight="15px",n.append("note_add"),t.append(n),t.addEventListener("click",function(t){return e.openPopNote(t)})}},{key:"hide",value:function(){this.container.style.display="none"}},{key:"show",value:function(){this.container.style.display=""}},{key:"openPopNote",value:function(e){new s.a(this.container,"popNote",this.path)}}]),t}(o.a);t.a=l},hi3N:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n("rXp8"),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e),this.apiPrefixe="/object/tree/",this.SvcBackEndComm=new i.a}return a(e,[{key:"getList",value:function(e){return this.SvcBackEndComm.ajaxSend("GET",this.apiPrefixe+"get/"+e)}},{key:"rename",value:function(e){return this.SvcBackEndComm.ajaxSend("POST",this.apiPrefixe+"rename",e)}},{key:"delete",value:function(e){return this.SvcBackEndComm.ajaxSend("POST",this.apiPrefixe+"delete",e)}},{key:"create",value:function(e){return this.SvcBackEndComm.ajaxSend("POST",this.apiPrefixe+"add",e)}},{key:"move",value:function(e){return this.SvcBackEndComm.ajaxSend("POST",this.apiPrefixe+"dnd",e)}}]),e}();t.a=o},nCmk:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n("p+IR"),a=n("tzuV"),o=function e(t){r(this,e);i.a.addMe(t+"/home"),this.frame=new a.a(t+"/home"),this.frame.Home()};t.a=o},ohOl:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("Y8vx"),s=n("CmgE"),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e){function t(e,n,a){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a));return o.bkgdHF="linear-gradient(45deg, rgb(234, 234, 234) 0%, rgb(216, 216, 216) 100%)",o.HeaderObject=new s.a(n),console.log("inconstructor note header"),o.skin(),o}return a(t,e),c(t,[{key:"skin",value:function(){this.HeaderObject.setBkgdColor(this.bkgdHF),this.HeaderObject.setBackToHome(this.parent),this.HeaderObject.setIconPage(),this.HeaderObject.setHeight(56)}}]),t}(o.a);t.a=l},"p+IR":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return o});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){r(this,e),this.dataCenter={}}return i(e,[{key:"dumpMe",value:function(){console.log(this.dataCenter)}},{key:"addMe",value:function(e){if(e.length>0){var t=e.split("/"),n=this.dataCenter,r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var c=o.value;n[c]instanceof Object||(n[c]={}),n=n[c]}}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}}}},{key:"addData",value:function(e,t){if(0==e.length)return!1;var n=e.split("/"),r=this.dataCenter,i=!0,a=!1,o=void 0;try{for(var s,c=n[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value;if(!(r[l]instanceof Object))return console.log("aie "+l+" not exist"),!1;r=r[l]}}catch(e){a=!0,o=e}finally{try{!i&&c.return&&c.return()}finally{if(a)throw o}}r._datas instanceof Object||(r._datas={});var d=!0,h=!1,u=void 0;try{for(var f,p=t[Symbol.iterator]();!(d=(f=p.next()).done);d=!0){var g=f.value;r._datas[Object.keys(g)[0]]=g[Object.keys(g)[0]]}}catch(e){h=!0,u=e}finally{try{!d&&p.return&&p.return()}finally{if(h)throw u}}r._trigger,Object}},{key:"getData",value:function(e,t){if(0==e.length)return!1;var n=e.split("/"),r=this.dataCenter,i=!0,a=!1,o=void 0;try{for(var s,c=n[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value;if(!(r[l]instanceof Object))return console.log("aie "+l+" not exist"),!1;r=r[l]}}catch(e){a=!0,o=e}finally{try{!i&&c.return&&c.return()}finally{if(a)throw o}}return r._datas instanceof Object?r._datas[t]instanceof Object?r._datas[t]:(console.log("Cette clef de data n'existe pas"),!1):(console.log("Pas de datas setter"),!1)}},{key:"addTrigger",value:function(e,t,n){}},{key:"matcher",value:function(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=this.targets[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;s.element[s.methode](t.value)}}catch(e){r=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}}}]),e}(),o=new a},pZLM:function(e,t,n){var r,i,a;!function(o){"use strict";i=[n("7t+N")],r=o,void 0!==(a="function"==typeof r?r.apply(t,i):r)&&(e.exports=a)}(function(e,t){"use strict";/*!
 * jsTree 3.3.5
 * http://jstree.com/
 *
 * Copyright (c) 2014 Ivan Bozhanov (http://vakata.com)
 *
 * Licensed same as jquery - under the terms of the MIT License
 *   http://www.opensource.org/licenses/mit-license.php
 */
/*!
 * if using jslint please allow for the jQuery global and use following options:
 * jslint: loopfunc: true, browser: true, ass: true, bitwise: true, continue: true, nomen: true, plusplus: true, regexp: true, unparam: true, todo: true, white: true
 */
if(!e.jstree){var n=0,r=!1,i=!1,a=!1,o=[],s=e("script:last").attr("src"),c=window.document;e.jstree={version:"3.3.5",defaults:{plugins:[]},plugins:{},path:s&&-1!==s.indexOf("/")?s.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},e.jstree.create=function(t,r){var i=new e.jstree.core(++n),a=r;return r=e.extend(!0,{},e.jstree.defaults,r),a&&a.plugins&&(r.plugins=a.plugins),e.each(r.plugins,function(e,t){"core"!==e&&(i=i.plugin(t,r[t]))}),e(t).data("jstree",i),i.init(t,r),i},e.jstree.destroy=function(){e(".jstree:jstree").jstree("destroy"),e(c).off(".jstree")},e.jstree.core=function(e){this._id=e,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1,ellipsis:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},e.jstree.reference=function(t){var n=null,r=null;if(!t||!t.id||t.tagName&&t.nodeType||(t=t.id),!r||!r.length)try{r=e(t)}catch(e){}if(!r||!r.length)try{r=e("#"+t.replace(e.jstree.idregex,"\\$&"))}catch(e){}return r&&r.length&&(r=r.closest(".jstree")).length&&(r=r.data("jstree"))?n=r:e(".jstree").each(function(){var r=e(this).data("jstree");if(r&&r._model.data[t])return n=r,!1}),n},e.fn.jstree=function(n){var r="string"==typeof n,i=Array.prototype.slice.call(arguments,1),a=null;return!(!0===n&&!this.length)&&(this.each(function(){var o=e.jstree.reference(this),s=r&&o?o[n]:null;if(a=r&&s?s.apply(o,i):null,o||r||n!==t&&!e.isPlainObject(n)||e.jstree.create(this,n),(o&&!r||!0===n)&&(a=o||!1),null!==a&&a!==t)return!1}),null!==a&&a!==t?a:this)},e.expr.pseudos.jstree=e.expr.createPseudo(function(n){return function(n){return e(n).hasClass("jstree")&&e(n).data("jstree")!==t}}),e.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:e.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,ellipsis:!1,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0,loaded_state:!1,restore_focus:!0,keyboard:{"ctrl-space":function(t){t.type="click",e(t.currentTarget).trigger(t)},enter:function(t){t.type="click",e(t.currentTarget).trigger(t)},left:function(t){if(t.preventDefault(),this.is_open(t.currentTarget))this.close_node(t.currentTarget);else{var n=this.get_parent(t.currentTarget);n&&n.id!==e.jstree.root&&this.get_node(n,!0).children(".jstree-anchor").focus()}},up:function(e){e.preventDefault();var t=this.get_prev_dom(e.currentTarget);t&&t.length&&t.children(".jstree-anchor").focus()},right:function(t){if(t.preventDefault(),this.is_closed(t.currentTarget))this.open_node(t.currentTarget,function(e){this.get_node(e,!0).children(".jstree-anchor").focus()});else if(this.is_open(t.currentTarget)){var n=this.get_node(t.currentTarget,!0).children(".jstree-children")[0];n&&e(this._firstChild(n)).children(".jstree-anchor").focus()}},down:function(e){e.preventDefault();var t=this.get_next_dom(e.currentTarget);t&&t.length&&t.children(".jstree-anchor").focus()},"*":function(e){this.open_all()},home:function(t){t.preventDefault();var n=this._firstChild(this.get_container_ul()[0]);n&&e(n).children(".jstree-anchor").filter(":visible").focus()},end:function(e){e.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().focus()},f2:function(e){e.preventDefault(),this.edit(e.currentTarget)}}},e.jstree.core.prototype={plugin:function(t,n){var r=e.jstree.plugins[t];return r?(this._data[t]={},r.prototype=this,new r(n,this)):this},init:function(t,n){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this.element=e(t).addClass("jstree jstree-"+this._id),this.settings=n,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl="rtl"===this.element.css("direction"),this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='tree-item'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().outerHeight()||24,this._data.core.node=this._create_prototype_node(),this.trigger("loading"),this.load_node(e.jstree.root)},destroy:function(e){if(this.trigger("destroy"),this._wrk)try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch(e){}e||this.element.empty(),this.teardown()},_create_prototype_node:function(){var e,t,n=c.createElement("LI");return n.setAttribute("role","treeitem"),e=c.createElement("I"),e.className="jstree-icon jstree-ocl",e.setAttribute("role","presentation"),n.appendChild(e),e=c.createElement("A"),e.className="jstree-anchor",e.setAttribute("href","#"),e.setAttribute("tabindex","-1"),t=c.createElement("I"),t.className="jstree-icon jstree-themeicon",t.setAttribute("role","presentation"),e.appendChild(t),n.appendChild(e),e=t=null,n},_kbevent_to_func:function(e){var t={8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock",16:"Shift",17:"Ctrl",18:"Alt",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*",173:"-"},n=[];e.ctrlKey&&n.push("ctrl"),e.altKey&&n.push("alt"),e.shiftKey&&n.push("shift"),n.push(t[e.which]||e.which),n=n.sort().join("-").toLowerCase();var r,i,a=this.settings.core.keyboard;for(r in a)if(a.hasOwnProperty(r)&&(i=r,"-"!==i&&"+"!==i&&(i=i.replace("--","-MINUS").replace("+-","-MINUS").replace("++","-PLUS").replace("-+","-PLUS"),i=i.split(/-|\+/).sort().join("-").replace("MINUS","-").replace("PLUS","+").toLowerCase()),i===n))return a[r];return null},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")}),this.element=null},bind:function(){var t="",n=null,r=0;this.element.on("dblclick.jstree",function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;if(c.selection&&c.selection.empty)c.selection.empty();else if(window.getSelection){var t=window.getSelection();try{t.removeAllRanges(),t.collapse()}catch(e){}}}).on("mousedown.jstree",e.proxy(function(e){e.target===this.element[0]&&(e.preventDefault(),r=+new Date)},this)).on("mousedown.jstree",".jstree-ocl",function(e){e.preventDefault()}).on("click.jstree",".jstree-ocl",e.proxy(function(e){this.toggle_node(e.target)},this)).on("dblclick.jstree",".jstree-anchor",e.proxy(function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;this.settings.core.dblclick_toggle&&this.toggle_node(e.target)},this)).on("click.jstree",".jstree-anchor",e.proxy(function(t){t.preventDefault(),t.currentTarget!==c.activeElement&&e(t.currentTarget).focus(),this.activate_node(t.currentTarget,t)},this)).on("keydown.jstree",".jstree-anchor",e.proxy(function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;this._data.core.rtl&&(37===e.which?e.which=39:39===e.which&&(e.which=37));var t=this._kbevent_to_func(e);if(t){var n=t.call(this,e);if(!1===n||!0===n)return n}},this)).on("load_node.jstree",e.proxy(function(t,n){n.status&&(n.node.id!==e.jstree.root||this._data.core.loaded||(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(e.proxy(function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var t,n,r=[];for(t=0,n=this._data.core.selected.length;t<n;t++)r=r.concat(this._model.data[this._data.core.selected[t]].parents);for(r=e.vakata.array_unique(r),t=0,n=r.length;t<n;t++)this.open_node(r[t],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}},this),0))},this)).on("keypress.jstree",e.proxy(function(r){if(r.target.tagName&&"input"===r.target.tagName.toLowerCase())return!0;n&&clearTimeout(n),n=setTimeout(function(){t=""},500);var i=String.fromCharCode(r.which).toLowerCase(),a=this.element.find(".jstree-anchor").filter(":visible"),o=a.index(c.activeElement)||0,s=!1;if(t+=i,t.length>1){if(a.slice(o).each(e.proxy(function(n,r){if(0===e(r).text().toLowerCase().indexOf(t))return e(r).focus(),s=!0,!1},this)),s)return;if(a.slice(0,o).each(e.proxy(function(n,r){if(0===e(r).text().toLowerCase().indexOf(t))return e(r).focus(),s=!0,!1},this)),s)return}if(new RegExp("^"+i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(t)){if(a.slice(o+1).each(e.proxy(function(t,n){if(e(n).text().toLowerCase().charAt(0)===i)return e(n).focus(),s=!0,!1},this)),s)return;if(a.slice(0,o+1).each(e.proxy(function(t,n){if(e(n).text().toLowerCase().charAt(0)===i)return e(n).focus(),s=!0,!1},this)),s)return}},this)).on("init.jstree",e.proxy(function(){var e=this.settings.core.themes;this._data.core.themes.dots=e.dots,this._data.core.themes.stripes=e.stripes,this._data.core.themes.icons=e.icons,this._data.core.themes.ellipsis=e.ellipsis,this.set_theme(e.name||"default",e.url),this.set_theme_variant(e.variant)},this)).on("loading.jstree",e.proxy(function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"](),this[this._data.core.themes.ellipsis?"show_ellipsis":"hide_ellipsis"]()},this)).on("blur.jstree",".jstree-anchor",e.proxy(function(t){this._data.core.focused=null,e(t.currentTarget).filter(".jstree-hovered").mouseleave(),this.element.attr("tabindex","0")},this)).on("focus.jstree",".jstree-anchor",e.proxy(function(t){var n=this.get_node(t.currentTarget);n&&n.id&&(this._data.core.focused=n.id),this.element.find(".jstree-hovered").not(t.currentTarget).mouseleave(),e(t.currentTarget).mouseenter(),this.element.attr("tabindex","-1")},this)).on("focus.jstree",e.proxy(function(){if(+new Date-r>500&&!this._data.core.focused&&this.settings.core.restore_focus){r=0;var e=this.get_node(this.element.attr("aria-activedescendant"),!0);e&&e.find("> .jstree-anchor").focus()}},this)).on("mouseenter.jstree",".jstree-anchor",e.proxy(function(e){this.hover_node(e.currentTarget)},this)).on("mouseleave.jstree",".jstree-anchor",e.proxy(function(e){this.dehover_node(e.currentTarget)},this))},unbind:function(){this.element.off(".jstree"),e(c).off(".jstree-"+this._id)},trigger:function(e,t){t||(t={}),t.instance=this,this.element.triggerHandler(e.replace(".jstree","")+".jstree",t)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(t){var n=this.settings.core.strings;return e.isFunction(n)?n.call(this,t):n&&n[t]?n[t]:t},_firstChild:function(e){for(e=e?e.firstChild:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_nextSibling:function(e){for(e=e?e.nextSibling:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_previousSibling:function(e){for(e=e?e.previousSibling:null;null!==e&&1!==e.nodeType;)e=e.previousSibling;return e},get_node:function(t,n){t&&t.id&&(t=t.id);var r;try{if(this._model.data[t])t=this._model.data[t];else if("string"==typeof t&&this._model.data[t.replace(/^#/,"")])t=this._model.data[t.replace(/^#/,"")];else if("string"==typeof t&&(r=e("#"+t.replace(e.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[r.closest(".jstree-node").attr("id")])t=this._model.data[r.closest(".jstree-node").attr("id")];else if((r=e(t,this.element)).length&&this._model.data[r.closest(".jstree-node").attr("id")])t=this._model.data[r.closest(".jstree-node").attr("id")];else{if(!(r=e(t,this.element)).length||!r.hasClass("jstree"))return!1;t=this._model.data[e.jstree.root]}return n&&(t=t.id===e.jstree.root?this.element:e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)),t}catch(e){return!1}},get_path:function(t,n,r){if(!(t=t.parents?t:this.get_node(t))||t.id===e.jstree.root||!t.parents)return!1;var i,a,o=[];for(o.push(r?t.id:t.text),i=0,a=t.parents.length;i<a;i++)o.push(r?t.parents[i]:this.get_text(t.parents[i]));return o=o.reverse().slice(1),n?o.join(n):o},get_next_dom:function(t,n){var r;if(t=this.get_node(t,!0),t[0]===this.element[0]){for(r=this._firstChild(this.get_container_ul()[0]);r&&0===r.offsetHeight;)r=this._nextSibling(r);return!!r&&e(r)}if(!t||!t.length)return!1;if(n){r=t[0];do{r=this._nextSibling(r)}while(r&&0===r.offsetHeight);return!!r&&e(r)}if(t.hasClass("jstree-open")){for(r=this._firstChild(t.children(".jstree-children")[0]);r&&0===r.offsetHeight;)r=this._nextSibling(r);if(null!==r)return e(r)}r=t[0];do{r=this._nextSibling(r)}while(r&&0===r.offsetHeight);return null!==r?e(r):t.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(t,n){var r;if(t=this.get_node(t,!0),t[0]===this.element[0]){for(r=this.get_container_ul()[0].lastChild;r&&0===r.offsetHeight;)r=this._previousSibling(r);return!!r&&e(r)}if(!t||!t.length)return!1;if(n){r=t[0];do{r=this._previousSibling(r)}while(r&&0===r.offsetHeight);return!!r&&e(r)}r=t[0];do{r=this._previousSibling(r)}while(r&&0===r.offsetHeight);if(null!==r){for(t=e(r);t.hasClass("jstree-open");)t=t.children(".jstree-children").first().children(".jstree-node:visible:last");return t}return!(!(r=t[0].parentNode.parentNode)||!r.className||-1===r.className.indexOf("jstree-node"))&&e(r)},get_parent:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.parent},get_children_dom:function(e){return e=this.get_node(e,!0),e[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):!(!e||!e.length)&&e.children(".jstree-children").children(".jstree-node")},is_parent:function(e){return(e=this.get_node(e))&&(!1===e.state.loaded||e.children.length>0)},is_loaded:function(e){return(e=this.get_node(e))&&e.state.loaded},is_loading:function(e){return(e=this.get_node(e))&&e.state&&e.state.loading},is_open:function(e){return(e=this.get_node(e))&&e.state.opened},is_closed:function(e){return(e=this.get_node(e))&&this.is_parent(e)&&!e.state.opened},is_leaf:function(e){return!this.is_parent(e)},load_node:function(t,n){var r,i,a,o,s;if(e.isArray(t))return this._load_nodes(t.slice(),n),!0;if(!(t=this.get_node(t)))return n&&n.call(this,t,!1),!1;if(t.state.loaded){for(t.state.loaded=!1,a=0,o=t.parents.length;a<o;a++)this._model.data[t.parents[a]].children_d=e.vakata.array_filter(this._model.data[t.parents[a]].children_d,function(n){return-1===e.inArray(n,t.children_d)});for(r=0,i=t.children_d.length;r<i;r++)this._model.data[t.children_d[r]].state.selected&&(s=!0),delete this._model.data[t.children_d[r]];s&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,function(n){return-1===e.inArray(n,t.children_d)})),t.children=[],t.children_d=[],s&&this.trigger("changed",{action:"load_node",node:t,selected:this._data.core.selected})}return t.state.failed=!1,t.state.loading=!0,this.get_node(t,!0).addClass("jstree-loading").attr("aria-busy",!0),this._load_node(t,e.proxy(function(e){t=this._model.data[t.id],t.state.loading=!1,t.state.loaded=e,t.state.failed=!t.state.loaded;var r=this.get_node(t,!0),i=0,a=0,o=this._model.data,s=!1;for(i=0,a=t.children.length;i<a;i++)if(o[t.children[i]]&&!o[t.children[i]].state.hidden){s=!0;break}t.state.loaded&&r&&r.length&&(r.removeClass("jstree-closed jstree-open jstree-leaf"),s?"#"!==t.id&&r.addClass(t.state.opened?"jstree-open":"jstree-closed"):r.addClass("jstree-leaf")),r.removeClass("jstree-loading").attr("aria-busy",!1),this.trigger("load_node",{node:t,status:e}),n&&n.call(this,t,e)},this)),!0},_load_nodes:function(e,t,n,r){var i,a,o=!0,s=function(){this._load_nodes(e,t,!0)},c=this._model.data,l=[];for(i=0,a=e.length;i<a;i++)c[e[i]]&&(!c[e[i]].state.loaded&&!c[e[i]].state.failed||!n&&r)&&(this.is_loading(e[i])||this.load_node(e[i],s),o=!1);if(o){for(i=0,a=e.length;i<a;i++)c[e[i]]&&c[e[i]].state.loaded&&l.push(e[i]);t&&!t.done&&(t.call(this,l),t.done=!0)}},load_all:function(t,n){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var r,i,a=[],o=this._model.data,s=o[t.id].children_d;for(t.state&&!t.state.loaded&&a.push(t.id),r=0,i=s.length;r<i;r++)o[s[r]]&&o[s[r]].state&&!o[s[r]].state.loaded&&a.push(s[r]);a.length?this._load_nodes(a,function(){this.load_all(t,n)}):(n&&n.call(this,t),this.trigger("load_all",{node:t}))},_load_node:function(t,n){var r,i=this.settings.core.data,a=function(){return 3!==this.nodeType&&8!==this.nodeType};return i?e.isFunction(i)?i.call(this,t,e.proxy(function(r){!1===r?n.call(this,!1):this["string"==typeof r?"_append_html_data":"_append_json_data"](t,"string"==typeof r?e(e.parseHTML(r)).filter(a):r,function(e){n.call(this,e)})},this)):"object"==typeof i?i.url?(i=e.extend(!0,{},i),e.isFunction(i.url)&&(i.url=i.url.call(this,t)),e.isFunction(i.data)&&(i.data=i.data.call(this,t)),e.ajax(i).done(e.proxy(function(r,i,o){var s=o.getResponseHeader("Content-Type");return s&&-1!==s.indexOf("json")||"object"==typeof r?this._append_json_data(t,r,function(e){n.call(this,e)}):s&&-1!==s.indexOf("html")||"string"==typeof r?this._append_html_data(t,e(e.parseHTML(r)).filter(a),function(e){n.call(this,e)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:o})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1))},this)).fail(e.proxy(function(e){this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:e})},n.call(this,!1),this.settings.core.error.call(this,this._data.core.last_error)},this))):(r=e.isArray(i)?e.extend(!0,[],i):e.isPlainObject(i)?e.extend(!0,{},i):i,t.id===e.jstree.root?this._append_json_data(t,r,function(e){n.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1))):"string"==typeof i?t.id===e.jstree.root?this._append_html_data(t,e(e.parseHTML(i)).filter(a),function(e){n.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1)):n.call(this,!1):t.id===e.jstree.root?this._append_html_data(t,this._data.core.original_container_html.clone(!0),function(e){n.call(this,e)}):n.call(this,!1)},_node_changed:function(t){(t=this.get_node(t))&&-1===e.inArray(t.id,this._model.changed)&&this._model.changed.push(t.id)},_append_html_data:function(t,n,r){t=this.get_node(t),t.children=[],t.children_d=[];var i,a,o,s=n.is("ul")?n.children():n,c=t.id,l=[],d=[],h=this._model.data,u=h[c],f=this._data.core.selected.length;for(s.each(e.proxy(function(t,n){(i=this._parse_model_from_html(e(n),c,u.parents.concat()))&&(l.push(i),d.push(i),h[i].children_d.length&&(d=d.concat(h[i].children_d)))},this)),u.children=l,u.children_d=d,a=0,o=u.parents.length;a<o;a++)h[u.parents[a]].children_d=h[u.parents[a]].children_d.concat(d);this.trigger("model",{nodes:d,parent:c}),c!==e.jstree.root?(this._node_changed(c),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==f&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),r.call(this,!0)},_append_json_data:function(t,n,r,i){if(null!==this.element){t=this.get_node(t),t.children=[],t.children_d=[],n.d&&"string"==typeof(n=n.d)&&(n=JSON.parse(n)),e.isArray(n)||(n=[n]);var a=null,o={df:this._model.default_state,dat:n,par:t.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},s=function(e,t){e.data&&(e=e.data);var n,r,i,a,o=e.dat,s=e.par,c=[],l=[],d=[],h=e.df,u=e.t_id,f=e.t_cnt,p=e.m,g=p[s],_=e.sel,m=function(e,n,r){r=r?r.concat():[],n&&r.unshift(n);var i,a,o,s,c=e.id.toString(),l={id:c,text:e.text||"",icon:e.icon===t||e.icon,parent:n,parents:r,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(i in h)h.hasOwnProperty(i)&&(l.state[i]=h[i]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(l.icon=e.data.jstree.icon),l.icon!==t&&null!==l.icon&&""!==l.icon||(l.icon=!0),e&&e.data&&(l.data=e.data,e.data.jstree))for(i in e.data.jstree)e.data.jstree.hasOwnProperty(i)&&(l.state[i]=e.data.jstree[i]);if(e&&"object"==typeof e.state)for(i in e.state)e.state.hasOwnProperty(i)&&(l.state[i]=e.state[i]);if(e&&"object"==typeof e.li_attr)for(i in e.li_attr)e.li_attr.hasOwnProperty(i)&&(l.li_attr[i]=e.li_attr[i]);if(l.li_attr.id||(l.li_attr.id=c),e&&"object"==typeof e.a_attr)for(i in e.a_attr)e.a_attr.hasOwnProperty(i)&&(l.a_attr[i]=e.a_attr[i]);for(e&&e.children&&!0===e.children&&(l.state.loaded=!1,l.children=[],l.children_d=[]),p[l.id]=l,i=0,a=l.children.length;i<a;i++)o=m(p[l.children[i]],l.id,r),s=p[o],l.children_d.push(o),s.children_d.length&&(l.children_d=l.children_d.concat(s.children_d));return delete e.data,delete e.children,p[l.id].original=e,l.state.selected&&d.push(l.id),l.id},y=function(e,n,r){r=r?r.concat():[],n&&r.unshift(n);var i,a,o,s,c,l=!1;do{l="j"+u+"_"+ ++f}while(p[l]);c={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===t||e.icon,parent:n,parents:r,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(i in h)h.hasOwnProperty(i)&&(c.state[i]=h[i]);if(e&&e.id&&(c.id=e.id.toString()),e&&e.text&&(c.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(c.icon=e.data.jstree.icon),c.icon!==t&&null!==c.icon&&""!==c.icon||(c.icon=!0),e&&e.data&&(c.data=e.data,e.data.jstree))for(i in e.data.jstree)e.data.jstree.hasOwnProperty(i)&&(c.state[i]=e.data.jstree[i]);if(e&&"object"==typeof e.state)for(i in e.state)e.state.hasOwnProperty(i)&&(c.state[i]=e.state[i]);if(e&&"object"==typeof e.li_attr)for(i in e.li_attr)e.li_attr.hasOwnProperty(i)&&(c.li_attr[i]=e.li_attr[i]);if(c.li_attr.id&&!c.id&&(c.id=c.li_attr.id.toString()),c.id||(c.id=l),c.li_attr.id||(c.li_attr.id=c.id),e&&"object"==typeof e.a_attr)for(i in e.a_attr)e.a_attr.hasOwnProperty(i)&&(c.a_attr[i]=e.a_attr[i]);if(e&&e.children&&e.children.length){for(i=0,a=e.children.length;i<a;i++)o=y(e.children[i],c.id,r),s=p[o],c.children.push(o),s.children_d.length&&(c.children_d=c.children_d.concat(s.children_d));c.children_d=c.children_d.concat(c.children)}return e&&e.children&&!0===e.children&&(c.state.loaded=!1,c.children=[],c.children_d=[]),delete e.data,delete e.children,c.original=e,p[c.id]=c,c.state.selected&&d.push(c.id),c.id};if(o.length&&o[0].id!==t&&o[0].parent!==t){for(r=0,i=o.length;r<i;r++)o[r].children||(o[r].children=[]),o[r].state||(o[r].state={}),p[o[r].id.toString()]=o[r];for(r=0,i=o.length;r<i;r++)p[o[r].parent.toString()]?(p[o[r].parent.toString()].children.push(o[r].id.toString()),g.children_d.push(o[r].id.toString())):(this._data.core.last_error={error:"parse",plugin:"core",id:"core_07",reason:"Node with invalid parent",data:JSON.stringify({id:o[r].id.toString(),parent:o[r].parent.toString()})},this.settings.core.error.call(this,this._data.core.last_error));for(r=0,i=g.children.length;r<i;r++)n=m(p[g.children[r]],s,g.parents.concat()),l.push(n),p[n].children_d.length&&(l=l.concat(p[n].children_d));for(r=0,i=g.parents.length;r<i;r++)p[g.parents[r]].children_d=p[g.parents[r]].children_d.concat(l);a={cnt:f,mod:p,sel:_,par:s,dpc:l,add:d}}else{for(r=0,i=o.length;r<i;r++)(n=y(o[r],s,g.parents.concat()))&&(c.push(n),l.push(n),p[n].children_d.length&&(l=l.concat(p[n].children_d)));for(g.children=c,g.children_d=l,r=0,i=g.parents.length;r<i;r++)p[g.parents[r]].children_d=p[g.parents[r]].children_d.concat(l);a={cnt:f,mod:p,sel:_,par:s,dpc:l,add:d}}if("undefined"!=typeof window&&void 0!==window.document)return a;postMessage(a)},c=function(t,n){if(null!==this.element){this._cnt=t.cnt;var i,a=this._model.data;for(i in a)a.hasOwnProperty(i)&&a[i].state&&a[i].state.loading&&t.mod[i]&&(t.mod[i].state.loading=!0);if(this._model.data=t.mod,n){var o,s=t.add,c=t.sel,l=this._data.core.selected.slice();if(a=this._model.data,c.length!==l.length||e.vakata.array_unique(c.concat(l)).length!==c.length){for(i=0,o=c.length;i<o;i++)-1===e.inArray(c[i],s)&&-1===e.inArray(c[i],l)&&(a[c[i]].state.selected=!1);for(i=0,o=l.length;i<o;i++)-1===e.inArray(l[i],c)&&(a[l[i]].state.selected=!0)}}t.add.length&&(this._data.core.selected=this._data.core.selected.concat(t.add)),this.trigger("model",{nodes:t.dpc,parent:t.par}),t.par!==e.jstree.root?(this._node_changed(t.par),this.redraw()):this.redraw(!0),t.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),r.call(this,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+s.toString()],{type:"text/javascript"}))),!this._data.core.working||i?(this._data.core.working=!0,a=new window.Worker(this._wrk),a.onmessage=e.proxy(function(e){c.call(this,e.data,!0);try{a.terminate(),a=null}catch(e){}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1},this),o.par?a.postMessage(o):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([t,n,r,!0])}catch(e){c.call(this,s(o),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else c.call(this,s(o),!1)}},_parse_model_from_html:function(n,r,i){i=i?[].concat(i):[],r&&i.unshift(r);var a,o,s,c,l,d=this._model.data,h={id:!1,text:!1,icon:!0,parent:r,parents:i,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(s in this._model.default_state)this._model.default_state.hasOwnProperty(s)&&(h.state[s]=this._model.default_state[s]);if(c=e.vakata.attributes(n,!0),e.each(c,function(t,n){if(n=e.trim(n),!n.length)return!0;h.li_attr[t]=n,"id"===t&&(h.id=n.toString())}),c=n.children("a").first(),c.length&&(c=e.vakata.attributes(c,!0),e.each(c,function(t,n){n=e.trim(n),n.length&&(h.a_attr[t]=n)})),c=n.children("a").first().length?n.children("a").first().clone():n.clone(),c.children("ins, i, ul").remove(),c=c.html(),c=e("<div />").html(c),h.text=this.settings.core.force_text?c.text():c.html(),c=n.data(),h.data=c?e.extend(!0,{},c):null,h.state.opened=n.hasClass("jstree-open"),h.state.selected=n.children("a").hasClass("jstree-clicked"),h.state.disabled=n.children("a").hasClass("jstree-disabled"),h.data&&h.data.jstree)for(s in h.data.jstree)h.data.jstree.hasOwnProperty(s)&&(h.state[s]=h.data.jstree[s]);c=n.children("a").children(".jstree-themeicon"),c.length&&(h.icon=!c.hasClass("jstree-themeicon-hidden")&&c.attr("rel")),h.state.icon!==t&&(h.icon=h.state.icon),h.icon!==t&&null!==h.icon&&""!==h.icon||(h.icon=!0),c=n.children("ul").children("li");do{l="j"+this._id+"_"+ ++this._cnt}while(d[l]);return h.id=h.li_attr.id?h.li_attr.id.toString():l,c.length?(c.each(e.proxy(function(t,n){a=this._parse_model_from_html(e(n),h.id,i),o=this._model.data[a],h.children.push(a),o.children_d.length&&(h.children_d=h.children_d.concat(o.children_d))},this)),h.children_d=h.children_d.concat(h.children)):n.hasClass("jstree-closed")&&(h.state.loaded=!1),h.li_attr.class&&(h.li_attr.class=h.li_attr.class.replace("jstree-closed","").replace("jstree-open","")),h.a_attr.class&&(h.a_attr.class=h.a_attr.class.replace("jstree-clicked","").replace("jstree-disabled","")),d[h.id]=h,h.state.selected&&this._data.core.selected.push(h.id),h.id},_parse_model_from_flat_json:function(e,n,r){r=r?r.concat():[],n&&r.unshift(n);var i,a,o,s,c=e.id.toString(),l=this._model.data,d=this._model.default_state,h={id:c,text:e.text||"",icon:e.icon===t||e.icon,parent:n,parents:r,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(i in d)d.hasOwnProperty(i)&&(h.state[i]=d[i]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(h.icon=e.data.jstree.icon),h.icon!==t&&null!==h.icon&&""!==h.icon||(h.icon=!0),e&&e.data&&(h.data=e.data,e.data.jstree))for(i in e.data.jstree)e.data.jstree.hasOwnProperty(i)&&(h.state[i]=e.data.jstree[i]);if(e&&"object"==typeof e.state)for(i in e.state)e.state.hasOwnProperty(i)&&(h.state[i]=e.state[i]);if(e&&"object"==typeof e.li_attr)for(i in e.li_attr)e.li_attr.hasOwnProperty(i)&&(h.li_attr[i]=e.li_attr[i]);if(h.li_attr.id||(h.li_attr.id=c),e&&"object"==typeof e.a_attr)for(i in e.a_attr)e.a_attr.hasOwnProperty(i)&&(h.a_attr[i]=e.a_attr[i]);for(e&&e.children&&!0===e.children&&(h.state.loaded=!1,h.children=[],h.children_d=[]),l[h.id]=h,i=0,a=h.children.length;i<a;i++)o=this._parse_model_from_flat_json(l[h.children[i]],h.id,r),s=l[o],h.children_d.push(o),s.children_d.length&&(h.children_d=h.children_d.concat(s.children_d));return delete e.data,delete e.children,l[h.id].original=e,h.state.selected&&this._data.core.selected.push(h.id),h.id},_parse_model_from_json:function(e,n,r){r=r?r.concat():[],n&&r.unshift(n);var i,a,o,s,c,l=!1,d=this._model.data,h=this._model.default_state;do{l="j"+this._id+"_"+ ++this._cnt}while(d[l]);c={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===t||e.icon,parent:n,parents:r,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(i in h)h.hasOwnProperty(i)&&(c.state[i]=h[i]);if(e&&e.id&&(c.id=e.id.toString()),e&&e.text&&(c.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(c.icon=e.data.jstree.icon),c.icon!==t&&null!==c.icon&&""!==c.icon||(c.icon=!0),e&&e.data&&(c.data=e.data,e.data.jstree))for(i in e.data.jstree)e.data.jstree.hasOwnProperty(i)&&(c.state[i]=e.data.jstree[i]);if(e&&"object"==typeof e.state)for(i in e.state)e.state.hasOwnProperty(i)&&(c.state[i]=e.state[i]);if(e&&"object"==typeof e.li_attr)for(i in e.li_attr)e.li_attr.hasOwnProperty(i)&&(c.li_attr[i]=e.li_attr[i]);if(c.li_attr.id&&!c.id&&(c.id=c.li_attr.id.toString()),c.id||(c.id=l),c.li_attr.id||(c.li_attr.id=c.id),e&&"object"==typeof e.a_attr)for(i in e.a_attr)e.a_attr.hasOwnProperty(i)&&(c.a_attr[i]=e.a_attr[i]);if(e&&e.children&&e.children.length){for(i=0,a=e.children.length;i<a;i++)o=this._parse_model_from_json(e.children[i],c.id,r),s=d[o],c.children.push(o),s.children_d.length&&(c.children_d=c.children_d.concat(s.children_d));c.children_d=c.children_d.concat(c.children)}return e&&e.children&&!0===e.children&&(c.state.loaded=!1,c.children=[],c.children_d=[]),delete e.data,delete e.children,c.original=e,d[c.id]=c,c.state.selected&&this._data.core.selected.push(c.id),c.id},_redraw:function(){var t,n,r,i=this._model.force_full_redraw?this._model.data[e.jstree.root].children.concat([]):this._model.changed.concat([]),a=c.createElement("UL"),o=this._data.core.focused;for(n=0,r=i.length;n<r;n++)(t=this.redraw_node(i[n],!0,this._model.force_full_redraw))&&this._model.force_full_redraw&&a.appendChild(t);this._model.force_full_redraw&&(a.className=this.get_container_ul()[0].className,a.setAttribute("role","group"),this.element.empty().append(a)),null!==o&&(t=this.get_node(o,!0),t&&t.length&&t.children(".jstree-anchor")[0]!==c.activeElement?t.children(".jstree-anchor").focus():this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:i})},redraw:function(e){e&&(this._model.force_full_redraw=!0),this._redraw()},draw_children:function(t){var n=this.get_node(t),r=!1,i=!1,a=!1,o=c;if(!n)return!1;if(n.id===e.jstree.root)return this.redraw(!0);if(!(t=this.get_node(t,!0))||!t.length)return!1;if(t.children(".jstree-children").remove(),t=t[0],n.children.length&&n.state.loaded){for(a=o.createElement("UL"),a.setAttribute("role","group"),a.className="jstree-children",r=0,i=n.children.length;r<i;r++)a.appendChild(this.redraw_node(n.children[r],!0,!0));t.appendChild(a)}},redraw_node:function(t,n,r,i){var a=this.get_node(t),o=!1,s=!1,l=!1,d=!1,h=!1,u=!1,f="",p=c,g=this._model.data,_=!1,m=null,y=0,v=0,b=!1,x=!1;if(!a)return!1;if(a.id===e.jstree.root)return this.redraw(!0);if(n=n||0===a.children.length,t=c.querySelector?this.element[0].querySelector("#"+(-1!=="0123456789".indexOf(a.id[0])?"\\3"+a.id[0]+" "+a.id.substr(1).replace(e.jstree.idregex,"\\$&"):a.id.replace(e.jstree.idregex,"\\$&"))):c.getElementById(a.id))t=e(t),r||(o=t.parent().parent()[0],o===this.element[0]&&(o=null),s=t.index()),n||!a.children.length||t.children(".jstree-children").length||(n=!0),n||(l=t.children(".jstree-children")[0]),_=t.children(".jstree-anchor")[0]===c.activeElement,t.remove();else if(n=!0,!r){if(!(null===(o=a.parent!==e.jstree.root?e("#"+a.parent.replace(e.jstree.idregex,"\\$&"),this.element)[0]:null)||o&&g[a.parent].state.opened))return!1;s=e.inArray(a.id,null===o?g[e.jstree.root].children:g[a.parent].children)}t=this._data.core.node.cloneNode(!0),f="jstree-node ";for(d in a.li_attr)if(a.li_attr.hasOwnProperty(d)){if("id"===d)continue;"class"!==d?t.setAttribute(d,a.li_attr[d]):f+=a.li_attr[d]}for(a.a_attr.id||(a.a_attr.id=a.id+"_anchor"),t.setAttribute("aria-selected",!!a.state.selected),t.setAttribute("aria-level",a.parents.length),t.setAttribute("aria-labelledby",a.a_attr.id),a.state.disabled&&t.setAttribute("aria-disabled",!0),d=0,h=a.children.length;d<h;d++)if(!g[a.children[d]].state.hidden){b=!0;break}if(null!==a.parent&&g[a.parent]&&!a.state.hidden&&(d=e.inArray(a.id,g[a.parent].children),x=a.id,-1!==d))for(d++,h=g[a.parent].children.length;d<h&&(g[g[a.parent].children[d]].state.hidden||(x=g[a.parent].children[d]),x===a.id);d++);a.state.hidden&&(f+=" jstree-hidden"),a.state.loading&&(f+=" jstree-loading"),a.state.loaded&&!b?f+=" jstree-leaf":(f+=a.state.opened&&a.state.loaded?" jstree-open":" jstree-closed",t.setAttribute("aria-expanded",a.state.opened&&a.state.loaded)),x===a.id&&(f+=" jstree-last"),t.id=a.id,t.className=f,f=(a.state.selected?" jstree-clicked":"")+(a.state.disabled?" jstree-disabled":"");for(h in a.a_attr)if(a.a_attr.hasOwnProperty(h)){if("href"===h&&"#"===a.a_attr[h])continue;"class"!==h?t.childNodes[1].setAttribute(h,a.a_attr[h]):f+=" "+a.a_attr[h]}if(f.length&&(t.childNodes[1].className="jstree-anchor "+f),(a.icon&&!0!==a.icon||!1===a.icon)&&(!1===a.icon?t.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":-1===a.icon.indexOf("/")&&-1===a.icon.indexOf(".")?t.childNodes[1].childNodes[0].className+=" "+a.icon+" jstree-themeicon-custom":(t.childNodes[1].childNodes[0].style.backgroundImage='url("'+a.icon+'")',t.childNodes[1].childNodes[0].style.backgroundPosition="center center",t.childNodes[1].childNodes[0].style.backgroundSize="auto",t.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?t.childNodes[1].appendChild(p.createTextNode(a.text)):t.childNodes[1].innerHTML+=a.text,n&&a.children.length&&(a.state.opened||i)&&a.state.loaded){for(u=p.createElement("UL"),u.setAttribute("role","group"),u.className="jstree-children",d=0,h=a.children.length;d<h;d++)u.appendChild(this.redraw_node(a.children[d],n,!0));t.appendChild(u)}if(l&&t.appendChild(l),!r){for(o||(o=this.element[0]),d=0,h=o.childNodes.length;d<h;d++)if(o.childNodes[d]&&o.childNodes[d].className&&-1!==o.childNodes[d].className.indexOf("jstree-children")){m=o.childNodes[d];break}m||(m=p.createElement("UL"),m.setAttribute("role","group"),m.className="jstree-children",o.appendChild(m)),o=m,s<o.childNodes.length?o.insertBefore(t,o.childNodes[s]):o.appendChild(t),_&&(y=this.element[0].scrollTop,v=this.element[0].scrollLeft,t.childNodes[1].focus(),this.element[0].scrollTop=y,this.element[0].scrollLeft=v)}return a.state.opened&&!a.state.loaded&&(a.state.opened=!1,setTimeout(e.proxy(function(){this.open_node(a.id,!1,0)},this),0)),t},open_node:function(n,r,i){var a,o,s,c;if(e.isArray(n)){for(n=n.slice(),a=0,o=n.length;a<o;a++)this.open_node(n[a],r,i);return!0}return!(!(n=this.get_node(n))||n.id===e.jstree.root)&&(i=i===t?this.settings.core.animation:i,this.is_closed(n)?this.is_loaded(n)?(s=this.get_node(n,!0),c=this,s.length&&(i&&s.children(".jstree-children").length&&s.children(".jstree-children").stop(!0,!0),n.children.length&&!this._firstChild(s.children(".jstree-children")[0])&&this.draw_children(n),i?(this.trigger("before_open",{node:n}),s.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").attr("aria-expanded",!0).children(".jstree-children").stop(!0,!0).slideDown(i,function(){this.style.display="",c.element&&c.trigger("after_open",{node:n})})):(this.trigger("before_open",{node:n}),s[0].className=s[0].className.replace("jstree-closed","jstree-open"),s[0].setAttribute("aria-expanded",!0))),n.state.opened=!0,r&&r.call(this,n,!0),s.length||this.trigger("before_open",{node:n}),this.trigger("open_node",{node:n}),i&&s.length||this.trigger("after_open",{node:n}),!0):this.is_loading(n)?setTimeout(e.proxy(function(){this.open_node(n,r,i)},this),500):void this.load_node(n,function(e,t){return t?this.open_node(e,r,i):!!r&&r.call(this,e,!1)}):(r&&r.call(this,n,!1),!1))},_open_to:function(t){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var n,r,i=t.parents;for(n=0,r=i.length;n<r;n+=1)n!==e.jstree.root&&this.open_node(i[n],!1,0);return e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)},close_node:function(n,r){var i,a,o,s;if(e.isArray(n)){for(n=n.slice(),i=0,a=n.length;i<a;i++)this.close_node(n[i],r);return!0}return!(!(n=this.get_node(n))||n.id===e.jstree.root)&&(!this.is_closed(n)&&(r=r===t?this.settings.core.animation:r,o=this,s=this.get_node(n,!0),n.state.opened=!1,this.trigger("close_node",{node:n}),void(s.length?r?s.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").attr("aria-expanded",!1).children(".jstree-children").stop(!0,!0).slideUp(r,function(){this.style.display="",s.children(".jstree-children").remove(),o.element&&o.trigger("after_close",{node:n})}):(s[0].className=s[0].className.replace("jstree-open","jstree-closed"),s.attr("aria-expanded",!1).children(".jstree-children").remove(),this.trigger("after_close",{node:n})):this.trigger("after_close",{node:n}))))},toggle_node:function(t){var n,r;if(e.isArray(t)){for(t=t.slice(),n=0,r=t.length;n<r;n++)this.toggle_node(t[n]);return!0}return this.is_closed(t)?this.open_node(t):this.is_open(t)?this.close_node(t):void 0},open_all:function(t,n,r){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var i,a,o,s=t.id===e.jstree.root?this.get_container_ul():this.get_node(t,!0);if(!s.length){for(i=0,a=t.children_d.length;i<a;i++)this.is_closed(this._model.data[t.children_d[i]])&&(this._model.data[t.children_d[i]].state.opened=!0);return this.trigger("open_all",{node:t})}r=r||s,o=this,s=this.is_closed(t)?s.find(".jstree-closed").addBack():s.find(".jstree-closed"),s.each(function(){o.open_node(this,function(e,t){t&&this.is_parent(e)&&this.open_all(e,n,r)},n||0)}),0===r.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(r)})},close_all:function(t,n){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var r,i,a=t.id===e.jstree.root?this.get_container_ul():this.get_node(t,!0),o=this;for(a.length&&(a=this.is_open(t)?a.find(".jstree-open").addBack():a.find(".jstree-open"),e(a.get().reverse()).each(function(){o.close_node(this,n||0)})),r=0,i=t.children_d.length;r<i;r++)this._model.data[t.children_d[r]].state.opened=!1;this.trigger("close_all",{node:t})},is_disabled:function(e){return(e=this.get_node(e))&&e.state&&e.state.disabled},enable_node:function(t){var n,r;if(e.isArray(t)){for(t=t.slice(),n=0,r=t.length;n<r;n++)this.enable_node(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.disabled=!1,this.get_node(t,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),this.trigger("enable_node",{node:t})},disable_node:function(t){var n,r;if(e.isArray(t)){for(t=t.slice(),n=0,r=t.length;n<r;n++)this.disable_node(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.disabled=!0,this.get_node(t,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),this.trigger("disable_node",{node:t})},is_hidden:function(e){return e=this.get_node(e),!0===e.state.hidden},hide_node:function(t,n){var r,i;if(e.isArray(t)){for(t=t.slice(),r=0,i=t.length;r<i;r++)this.hide_node(t[r],!0);return n||this.redraw(),!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.hidden||(t.state.hidden=!0,this._node_changed(t.parent),n||this.redraw(),this.trigger("hide_node",{node:t}))},show_node:function(t,n){var r,i;if(e.isArray(t)){for(t=t.slice(),r=0,i=t.length;r<i;r++)this.show_node(t[r],!0);return n||this.redraw(),!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.hidden&&(t.state.hidden=!1,this._node_changed(t.parent),n||this.redraw(),this.trigger("show_node",{node:t}))},hide_all:function(t){var n,r=this._model.data,i=[];for(n in r)r.hasOwnProperty(n)&&n!==e.jstree.root&&!r[n].state.hidden&&(r[n].state.hidden=!0,i.push(n));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("hide_all",{nodes:i}),i},show_all:function(t){var n,r=this._model.data,i=[];for(n in r)r.hasOwnProperty(n)&&n!==e.jstree.root&&r[n].state.hidden&&(r[n].state.hidden=!1,i.push(n));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("show_all",{nodes:i}),i},activate_node:function(e,n){if(this.is_disabled(e))return!1;if(n&&"object"==typeof n||(n={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==t?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(n.metaKey||n.ctrlKey||n.shiftKey)&&(!n.shiftKey||this._data.core.last_clicked&&this.get_parent(e)&&this.get_parent(e)===this._data.core.last_clicked.parent))if(n.shiftKey){var r,i,a=this.get_node(e).id,o=this._data.core.last_clicked.id,s=this.get_node(this._data.core.last_clicked.parent).children,c=!1;for(r=0,i=s.length;r<i;r+=1)s[r]===a&&(c=!c),s[r]===o&&(c=!c),this.is_disabled(s[r])||!c&&s[r]!==a&&s[r]!==o?this.deselect_node(s[r],!0,n):this.is_hidden(s[r])||this.select_node(s[r],!0,!1,n);this.trigger("changed",{action:"select_node",node:this.get_node(e),selected:this._data.core.selected,event:n})}else this.is_selected(e)?this.deselect_node(e,!1,n):this.select_node(e,!1,!1,n);else!this.settings.core.multiple&&(n.metaKey||n.ctrlKey||n.shiftKey)&&this.is_selected(e)?this.deselect_node(e,!1,n):(this.deselect_all(!0),this.select_node(e,!1,!1,n),this._data.core.last_clicked=this.get_node(e));this.trigger("activate_node",{node:this.get_node(e),event:n})},hover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||e.children(".jstree-hovered").length)return!1;var t=this.element.find(".jstree-hovered"),n=this.element;t&&t.length&&this.dehover_node(t),e.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(e)}),setTimeout(function(){n.attr("aria-activedescendant",e[0].id)},0)},dehover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||!e.children(".jstree-hovered").length)return!1;e.children(".jstree-anchor").removeClass("jstree-hovered"),this.trigger("dehover_node",{node:this.get_node(e)})},select_node:function(t,n,r,i){var a,o,s;if(e.isArray(t)){for(t=t.slice(),o=0,s=t.length;o<s;o++)this.select_node(t[o],n,r,i);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;a=this.get_node(t,!0),t.state.selected||(t.state.selected=!0,this._data.core.selected.push(t.id),r||(a=this._open_to(t)),a&&a.length&&a.attr("aria-selected",!0).children(".jstree-anchor").addClass("jstree-clicked"),this.trigger("select_node",{node:t,selected:this._data.core.selected,event:i}),n||this.trigger("changed",{action:"select_node",node:t,selected:this._data.core.selected,event:i}))},deselect_node:function(t,n,r){var i,a,o;if(e.isArray(t)){for(t=t.slice(),i=0,a=t.length;i<a;i++)this.deselect_node(t[i],n,r);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;o=this.get_node(t,!0),t.state.selected&&(t.state.selected=!1,this._data.core.selected=e.vakata.array_remove_item(this._data.core.selected,t.id),o.length&&o.attr("aria-selected",!1).children(".jstree-anchor").removeClass("jstree-clicked"),this.trigger("deselect_node",{node:t,selected:this._data.core.selected,event:r}),n||this.trigger("changed",{action:"deselect_node",node:t,selected:this._data.core.selected,event:r}))},select_all:function(t){var n,r,i=this._data.core.selected.concat([]);for(this._data.core.selected=this._model.data[e.jstree.root].children_d.concat(),n=0,r=this._data.core.selected.length;n<r;n++)this._model.data[this._data.core.selected[n]]&&(this._model.data[this._data.core.selected[n]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),t||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:i})},deselect_all:function(e){var t,n,r=this._data.core.selected.concat([]);for(t=0,n=this._data.core.selected.length;t<n;t++)this._model.data[this._data.core.selected[t]]&&(this._model.data[this._data.core.selected[t]].state.selected=!1);this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").parent().attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:r}),e||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:r})},is_selected:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.state.selected},get_selected:function(t){return t?e.map(this._data.core.selected,e.proxy(function(e){return this.get_node(e)},this)):this._data.core.selected.slice()},get_top_selected:function(t){var n,r,i,a,o=this.get_selected(!0),s={};for(n=0,r=o.length;n<r;n++)s[o[n].id]=o[n];for(n=0,r=o.length;n<r;n++)for(i=0,a=o[n].children_d.length;i<a;i++)s[o[n].children_d[i]]&&delete s[o[n].children_d[i]];o=[];for(n in s)s.hasOwnProperty(n)&&o.push(n);return t?e.map(o,e.proxy(function(e){return this.get_node(e)},this)):o},get_bottom_selected:function(t){var n,r,i=this.get_selected(!0),a=[];for(n=0,r=i.length;n<r;n++)i[n].children.length||a.push(i[n].id);return t?e.map(a,e.proxy(function(e){return this.get_node(e)},this)):a},get_state:function(){var t,n={core:{open:[],loaded:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},/*!
					'themes' : {
						'name' : this.get_theme(),
						'icons' : this._data.core.themes.icons,
						'dots' : this._data.core.themes.dots
					},
					*/
selected:[]}};for(t in this._model.data)this._model.data.hasOwnProperty(t)&&t!==e.jstree.root&&(this._model.data[t].state.loaded&&this.settings.core.loaded_state&&n.core.loaded.push(t),this._model.data[t].state.opened&&n.core.open.push(t),this._model.data[t].state.selected&&n.core.selected.push(t));return n},set_state:function(n,r){if(n){if(n.core&&n.core.selected&&n.core.initial_selection===t&&(n.core.initial_selection=this._data.core.selected.concat([]).sort().join(",")),n.core){var i,a;if(n.core.loaded)return this.settings.core.loaded_state&&e.isArray(n.core.loaded)&&n.core.loaded.length?this._load_nodes(n.core.loaded,function(e){delete n.core.loaded,this.set_state(n,r)}):(delete n.core.loaded,this.set_state(n,r)),!1;if(n.core.open)return e.isArray(n.core.open)&&n.core.open.length?this._load_nodes(n.core.open,function(e){this.open_node(e,!1,0),delete n.core.open,this.set_state(n,r)}):(delete n.core.open,this.set_state(n,r)),!1;if(n.core.scroll)return n.core.scroll&&n.core.scroll.left!==t&&this.element.scrollLeft(n.core.scroll.left),n.core.scroll&&n.core.scroll.top!==t&&this.element.scrollTop(n.core.scroll.top),delete n.core.scroll,this.set_state(n,r),!1;if(n.core.selected)return i=this,n.core.initial_selection!==t&&n.core.initial_selection!==this._data.core.selected.concat([]).sort().join(",")||(this.deselect_all(),e.each(n.core.selected,function(e,t){i.select_node(t,!1,!0)})),delete n.core.initial_selection,delete n.core.selected,this.set_state(n,r),!1;for(a in n)n.hasOwnProperty(a)&&"core"!==a&&-1===e.inArray(a,this.settings.plugins)&&delete n[a];if(e.isEmptyObject(n.core))return delete n.core,this.set_state(n,r),!1}return!e.isEmptyObject(n)||(n=null,r&&r.call(this),this.trigger("set_state"),!1)}return!1},refresh:function(t,n){this._data.core.state=!0===n?{}:this.get_state(),n&&e.isFunction(n)&&(this._data.core.state=n.call(this,this._data.core.state)),this._cnt=0,this._model.data={},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this._data.core.selected=[],this._data.core.last_clicked=null,this._data.core.focused=null;var r=this.get_container_ul()[0].className;t||(this.element.html("<ul class='"+r+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='treeitem' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node(e.jstree.root,function(t,n){n&&(this.get_container_ul()[0].className=r,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(e.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")})),this._data.core.state=null})},refresh_node:function(t){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var n=[],r=[],i=this._data.core.selected.concat([]);r.push(t.id),!0===t.state.opened&&n.push(t.id),this.get_node(t,!0).find(".jstree-open").each(function(){r.push(this.id),n.push(this.id)}),this._load_nodes(r,e.proxy(function(e){this.open_node(n,!1,0),this.select_node(i),this.trigger("refresh_node",{node:t,nodes:e})},this),!1,!0)},set_id:function(t,n){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var r,i,a=this._model.data,o=t.id;for(n=n.toString(),a[t.parent].children[e.inArray(t.id,a[t.parent].children)]=n,r=0,i=t.parents.length;r<i;r++)a[t.parents[r]].children_d[e.inArray(t.id,a[t.parents[r]].children_d)]=n;for(r=0,i=t.children.length;r<i;r++)a[t.children[r]].parent=n;for(r=0,i=t.children_d.length;r<i;r++)a[t.children_d[r]].parents[e.inArray(t.id,a[t.children_d[r]].parents)]=n;return r=e.inArray(t.id,this._data.core.selected),-1!==r&&(this._data.core.selected[r]=n),r=this.get_node(t.id,!0),r&&(r.attr("id",n),this.element.attr("aria-activedescendant")===t.id&&this.element.attr("aria-activedescendant",n)),delete a[t.id],t.id=n,t.li_attr.id=n,a[n]=t,this.trigger("set_id",{node:t,new:t.id,old:o}),!0},get_text:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.text},set_text:function(t,n){var r,i;if(e.isArray(t)){for(t=t.slice(),r=0,i=t.length;r<i;r++)this.set_text(t[r],n);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(t.text=n,this.get_node(t,!0).length&&this.redraw_node(t.id),this.trigger("set_text",{obj:t,text:n}),!0)},get_json:function(t,n,r){if(!(t=this.get_node(t||e.jstree.root)))return!1;n&&n.flat&&!r&&(r=[]);var i,a,o={id:t.id,text:t.text,icon:this.get_icon(t),li_attr:e.extend(!0,{},t.li_attr),a_attr:e.extend(!0,{},t.a_attr),state:{},data:(!n||!n.no_data)&&e.extend(!0,e.isArray(t.data)?[]:{},t.data)};if(n&&n.flat?o.parent=t.parent:o.children=[],n&&n.no_state)delete o.state;else for(i in t.state)t.state.hasOwnProperty(i)&&(o.state[i]=t.state[i]);if(n&&n.no_li_attr&&delete o.li_attr,n&&n.no_a_attr&&delete o.a_attr,n&&n.no_id&&(delete o.id,o.li_attr&&o.li_attr.id&&delete o.li_attr.id,o.a_attr&&o.a_attr.id&&delete o.a_attr.id),n&&n.flat&&t.id!==e.jstree.root&&r.push(o),!n||!n.no_children)for(i=0,a=t.children.length;i<a;i++)n&&n.flat?this.get_json(t.children[i],n,r):o.children.push(this.get_json(t.children[i],n));return n&&n.flat?r:t.id===e.jstree.root?o.children:o},create_node:function(n,r,i,a,o){if(null===n&&(n=e.jstree.root),!(n=this.get_node(n)))return!1;if(i=i===t?"last":i,!i.toString().match(/^(before|after)$/)&&!o&&!this.is_loaded(n))return this.load_node(n,function(){this.create_node(n,r,i,a,!0)});r||(r={text:this.get_string("New node")}),r="string"==typeof r?{text:r}:e.extend(!0,{},r),r.text===t&&(r.text=this.get_string("New node"));var s,c,l,d;switch(n.id===e.jstree.root&&("before"===i&&(i="first"),"after"===i&&(i="last")),i){case"before":s=this.get_node(n.parent),i=e.inArray(n.id,s.children),n=s;break;case"after":s=this.get_node(n.parent),i=e.inArray(n.id,s.children)+1,n=s;break;case"inside":case"first":i=0;break;case"last":i=n.children.length;break;default:i||(i=0)}if(i>n.children.length&&(i=n.children.length),r.id||(r.id=!0),!this.check("create_node",r,n,i))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!0===r.id&&delete r.id,!(r=this._parse_model_from_json(r,n.id,n.parents.concat())))return!1;for(s=this.get_node(r),c=[],c.push(r),c=c.concat(s.children_d),this.trigger("model",{nodes:c,parent:n.id}),n.children_d=n.children_d.concat(c),l=0,d=n.parents.length;l<d;l++)this._model.data[n.parents[l]].children_d=this._model.data[n.parents[l]].children_d.concat(c);for(r=s,s=[],l=0,d=n.children.length;l<d;l++)s[l>=i?l+1:l]=n.children[l];return s[i]=r.id,n.children=s,this.redraw_node(n,!0),this.trigger("create_node",{node:this.get_node(r),parent:n.id,position:i}),a&&a.call(this,this.get_node(r)),r.id},rename_node:function(t,n){var r,i,a;if(e.isArray(t)){for(t=t.slice(),r=0,i=t.length;r<i;r++)this.rename_node(t[r],n);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(a=t.text,this.check("rename_node",t,this.get_parent(t),n)?(this.set_text(t,n),this.trigger("rename_node",{node:t,text:n,old:a}),!0):(this.settings.core.error.call(this,this._data.core.last_error),!1))},delete_node:function(t){var n,r,i,a,o,s,c,l,d,h,u,f;if(e.isArray(t)){for(t=t.slice(),n=0,r=t.length;n<r;n++)this.delete_node(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;if(i=this.get_node(t.parent),a=e.inArray(t.id,i.children),h=!1,!this.check("delete_node",t,i,a))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(-1!==a&&(i.children=e.vakata.array_remove(i.children,a)),o=t.children_d.concat([]),o.push(t.id),s=0,c=t.parents.length;s<c;s++)this._model.data[t.parents[s]].children_d=e.vakata.array_filter(this._model.data[t.parents[s]].children_d,function(t){return-1===e.inArray(t,o)});for(l=0,d=o.length;l<d;l++)if(this._model.data[o[l]].state.selected){h=!0;break}for(h&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,function(t){return-1===e.inArray(t,o)})),this.trigger("delete_node",{node:t,parent:i.id}),h&&this.trigger("changed",{action:"delete_node",node:t,selected:this._data.core.selected,parent:i.id}),l=0,d=o.length;l<d;l++)delete this._model.data[o[l]];return-1!==e.inArray(this._data.core.focused,o)&&(this._data.core.focused=null,u=this.element[0].scrollTop,f=this.element[0].scrollLeft,i.id===e.jstree.root?this._model.data[e.jstree.root].children[0]&&this.get_node(this._model.data[e.jstree.root].children[0],!0).children(".jstree-anchor").focus():this.get_node(i,!0).children(".jstree-anchor").focus(),this.element[0].scrollTop=u,this.element[0].scrollLeft=f),this.redraw_node(i,!0),!0},check:function(t,n,r,i,a){n=n&&n.id?n:this.get_node(n),r=r&&r.id?r:this.get_node(r);var o=t.match(/^move_node|copy_node|create_node$/i)?r:n,s=this.settings.core.check_callback;return"move_node"!==t&&"copy_node"!==t||a&&a.is_multi||n.id!==r.id&&("move_node"!==t||e.inArray(n.id,r.children)!==i)&&-1===e.inArray(r.id,n.children_d)?(o&&o.data&&(o=o.data),o&&o.functions&&(!1===o.functions[t]||!0===o.functions[t])?(!1===o.functions[t]&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+t,data:JSON.stringify({chk:t,pos:i,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})}),o.functions[t]):!(!1===s||e.isFunction(s)&&!1===s.call(this,t,n,r,i,a)||s&&!1===s[t])||(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+t,data:JSON.stringify({chk:t,pos:i,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})},!1)):(this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:t,pos:i,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})},!1)},last_error:function(){return this._data.core.last_error},move_node:function(n,r,i,a,o,s,c){var l,d,h,u,f,p,g,_,m,y,v,b,x,j;if(r=this.get_node(r),i=i===t?0:i,!r)return!1;if(!i.toString().match(/^(before|after)$/)&&!o&&!this.is_loaded(r))return this.load_node(r,function(){this.move_node(n,r,i,a,!0,!1,c)});if(e.isArray(n)){if(1!==n.length){for(l=0,d=n.length;l<d;l++)(m=this.move_node(n[l],r,i,a,o,!1,c))&&(r=m,i="after");return this.redraw(),!0}n=n[0]}if(!(n=n&&n.id?n:this.get_node(n))||n.id===e.jstree.root)return!1;if(h=(n.parent||e.jstree.root).toString(),f=i.toString().match(/^(before|after)$/)&&r.id!==e.jstree.root?this.get_node(r.parent):r,p=c||(this._model.data[n.id]?this:e.jstree.reference(n.id)),g=!p||!p._id||this._id!==p._id,u=p&&p._id&&h&&p._model.data[h]&&p._model.data[h].children?e.inArray(n.id,p._model.data[h].children):-1,p&&p._id&&(n=p._model.data[n.id]),g)return!!(m=this.copy_node(n,r,i,a,o,!1,c))&&(p&&p.delete_node(n),m);switch(r.id===e.jstree.root&&("before"===i&&(i="first"),"after"===i&&(i="last")),i){case"before":i=e.inArray(r.id,f.children);break;case"after":i=e.inArray(r.id,f.children)+1;break;case"inside":case"first":i=0;break;case"last":i=f.children.length;break;default:i||(i=0)}if(i>f.children.length&&(i=f.children.length),!this.check("move_node",n,f,i,{core:!0,origin:c,is_multi:p&&p._id&&p._id!==this._id,is_foreign:!p||!p._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(n.parent===f.id){for(_=f.children.concat(),m=e.inArray(n.id,_),-1!==m&&(_=e.vakata.array_remove(_,m),i>m&&i--),m=[],y=0,v=_.length;y<v;y++)m[y>=i?y+1:y]=_[y];m[i]=n.id,f.children=m,this._node_changed(f.id),this.redraw(f.id===e.jstree.root)}else{for(m=n.children_d.concat(),m.push(n.id),y=0,v=n.parents.length;y<v;y++){for(_=[],j=p._model.data[n.parents[y]].children_d,b=0,x=j.length;b<x;b++)-1===e.inArray(j[b],m)&&_.push(j[b]);p._model.data[n.parents[y]].children_d=_}for(p._model.data[h].children=e.vakata.array_remove_item(p._model.data[h].children,n.id),y=0,v=f.parents.length;y<v;y++)this._model.data[f.parents[y]].children_d=this._model.data[f.parents[y]].children_d.concat(m);for(_=[],y=0,v=f.children.length;y<v;y++)_[y>=i?y+1:y]=f.children[y];for(_[i]=n.id,f.children=_,f.children_d.push(n.id),f.children_d=f.children_d.concat(n.children_d),n.parent=f.id,m=f.parents.concat(),m.unshift(f.id),j=n.parents.length,n.parents=m,m=m.concat(),y=0,v=n.children_d.length;y<v;y++)this._model.data[n.children_d[y]].parents=this._model.data[n.children_d[y]].parents.slice(0,-1*j),Array.prototype.push.apply(this._model.data[n.children_d[y]].parents,m);h!==e.jstree.root&&f.id!==e.jstree.root||(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(h),this._node_changed(f.id)),s||this.redraw()}return a&&a.call(this,n,f,i),this.trigger("move_node",{node:n,parent:f.id,position:i,old_parent:h,old_position:u,is_multi:p&&p._id&&p._id!==this._id,is_foreign:!p||!p._id,old_instance:p,new_instance:this}),n.id},copy_node:function(n,r,i,a,o,s,c){var l,d,h,u,f,p,g,_,m,y;if(r=this.get_node(r),i=i===t?0:i,!r)return!1;if(!i.toString().match(/^(before|after)$/)&&!o&&!this.is_loaded(r))return this.load_node(r,function(){this.copy_node(n,r,i,a,!0,!1,c)});if(e.isArray(n)){if(1!==n.length){for(l=0,d=n.length;l<d;l++)(u=this.copy_node(n[l],r,i,a,o,!0,c))&&(r=u,i="after");return this.redraw(),!0}n=n[0]}if(!(n=n&&n.id?n:this.get_node(n))||n.id===e.jstree.root)return!1;switch(_=(n.parent||e.jstree.root).toString(),m=i.toString().match(/^(before|after)$/)&&r.id!==e.jstree.root?this.get_node(r.parent):r,y=c||(this._model.data[n.id]?this:e.jstree.reference(n.id)),!y||!y._id||this._id!==y._id,y&&y._id&&(n=y._model.data[n.id]),r.id===e.jstree.root&&("before"===i&&(i="first"),"after"===i&&(i="last")),i){case"before":i=e.inArray(r.id,m.children);break;case"after":i=e.inArray(r.id,m.children)+1;break;case"inside":case"first":i=0;break;case"last":i=m.children.length;break;default:i||(i=0)}if(i>m.children.length&&(i=m.children.length),!this.check("copy_node",n,m,i,{core:!0,origin:c,is_multi:y&&y._id&&y._id!==this._id,is_foreign:!y||!y._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!(g=y?y.get_json(n,{no_id:!0,no_data:!0,no_state:!0}):n))return!1;if(!0===g.id&&delete g.id,!(g=this._parse_model_from_json(g,m.id,m.parents.concat())))return!1;for(u=this.get_node(g),n&&n.state&&!1===n.state.loaded&&(u.state.loaded=!1),h=[],h.push(g),h=h.concat(u.children_d),this.trigger("model",{nodes:h,parent:m.id}),f=0,p=m.parents.length;f<p;f++)this._model.data[m.parents[f]].children_d=this._model.data[m.parents[f]].children_d.concat(h);for(h=[],f=0,p=m.children.length;f<p;f++)h[f>=i?f+1:f]=m.children[f];return h[i]=u.id,m.children=h,m.children_d.push(u.id),m.children_d=m.children_d.concat(u.children_d),m.id===e.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(m.id),s||this.redraw(m.id===e.jstree.root),a&&a.call(this,u,m,i),this.trigger("copy_node",{node:u,original:n,parent:m.id,position:i,old_parent:_,old_position:y&&y._id&&_&&y._model.data[_]&&y._model.data[_].children?e.inArray(n.id,y._model.data[_].children):-1,is_multi:y&&y._id&&y._id!==this._id,is_foreign:!y||!y._id,old_instance:y,new_instance:this}),u.id},cut:function(t){if(t||(t=this._data.core.selected.concat()),e.isArray(t)||(t=[t]),!t.length)return!1;var n,o,s,c=[];for(o=0,s=t.length;o<s;o++)(n=this.get_node(t[o]))&&n.id&&n.id!==e.jstree.root&&c.push(n);if(!c.length)return!1;r=c,a=this,i="move_node",this.trigger("cut",{node:t})},copy:function(t){if(t||(t=this._data.core.selected.concat()),e.isArray(t)||(t=[t]),!t.length)return!1;var n,o,s,c=[];for(o=0,s=t.length;o<s;o++)(n=this.get_node(t[o]))&&n.id&&n.id!==e.jstree.root&&c.push(n);if(!c.length)return!1;r=c,a=this,i="copy_node",this.trigger("copy",{node:t})},get_buffer:function(){return{mode:i,node:r,inst:a}},can_paste:function(){return!1!==i&&!1!==r},paste:function(e,t){if(!((e=this.get_node(e))&&i&&i.match(/^(copy_node|move_node)$/)&&r))return!1;this[i](r,e,t,!1,!1,!1,a)&&this.trigger("paste",{parent:e.id,node:r,mode:i}),r=!1,i=!1,a=!1},clear_buffer:function(){r=!1,i=!1,a=!1,this.trigger("clear_buffer")},edit:function(t,n,r){var i,a,o,s,l,d,h,u,f,p=!1;/*!
			oi = obj.children("i:visible"),
			ai = a.children("i:visible"),
			w1 = oi.width() * oi.length,
			w2 = ai.width() * ai.length,
			*/
return!!(t=this.get_node(t))&&(this.check("edit",t,this.get_parent(t))?(f=t,n="string"==typeof n?n:t.text,this.set_text(t,""),t=this._open_to(t),f.text=n,i=this._data.core.rtl,a=this.element.width(),this._data.core.focused=f.id,o=t.children(".jstree-anchor").focus(),s=e("<span>"),l=n,d=e("<div />",{css:{position:"absolute",top:"-200px",left:i?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),h=e("<input />",{value:l,class:"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:e.proxy(function(n){n.stopImmediatePropagation(),n.preventDefault();var i,a=s.children(".jstree-rename-input"),c=a.val(),u=this.settings.core.force_text;""===c&&(c=l),d.remove(),s.replaceWith(o),s.remove(),l=u?l:e("<div></div>").append(e.parseHTML(l)).html(),this.set_text(t,l),i=!!this.rename_node(t,u?e("<div></div>").text(c).text():e("<div></div>").append(e.parseHTML(c)).html()),i||this.set_text(t,l),this._data.core.focused=f.id,setTimeout(e.proxy(function(){var e=this.get_node(f.id,!0);e.length&&(this._data.core.focused=f.id,e.children(".jstree-anchor").focus())},this),0),r&&r.call(this,f,i,p),h=null},this),keydown:function(e){var t=e.which;27===t&&(p=!0,this.value=l),27!==t&&13!==t&&37!==t&&38!==t&&39!==t&&40!==t&&32!==t||e.stopImmediatePropagation(),27!==t&&13!==t||(e.preventDefault(),this.blur())},click:function(e){e.stopImmediatePropagation()},mousedown:function(e){e.stopImmediatePropagation()},keyup:function(e){h.width(Math.min(d.text("pW"+this.value).width(),a))},keypress:function(e){if(13===e.which)return!1}}),u={fontFamily:o.css("fontFamily")||"",fontSize:o.css("fontSize")||"",fontWeight:o.css("fontWeight")||"",fontStyle:o.css("fontStyle")||"",fontStretch:o.css("fontStretch")||"",fontVariant:o.css("fontVariant")||"",letterSpacing:o.css("letterSpacing")||"",wordSpacing:o.css("wordSpacing")||""},s.attr("class",o.attr("class")).append(o.contents().clone()).append(h),o.replaceWith(s),d.css(u),h.css(u).width(Math.min(d.text("pW"+h[0].value).width(),a))[0].select(),void e(c).one("mousedown.jstree touchstart.jstree dnd_start.vakata",function(t){h&&t.target!==h&&e(h).blur()})):(this.settings.core.error.call(this,this._data.core.last_error),!1))},set_theme:function(t,n){if(!t)return!1;if(!0===n){var r=this.settings.core.themes.dir;r||(r=e.jstree.path+"/themes"),n=r+"/"+t+"/style.css"}n&&-1===e.inArray(n,o)&&(e("head").append('<link rel="stylesheet" href="'+n+'" type="text/css" />'),o.push(n)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=t,this.element.addClass("jstree-"+t),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+t+"-responsive"),this.trigger("set_theme",{theme:t})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(e){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),this._data.core.themes.variant=e,e&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped"),this.trigger("show_stripes")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped"),this.trigger("hide_stripes")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots"),this.trigger("show_dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots"),this.trigger("hide_dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons"),this.trigger("show_icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons"),this.trigger("hide_icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},show_ellipsis:function(){this._data.core.themes.ellipsis=!0,this.get_container_ul().addClass("jstree-ellipsis"),this.trigger("show_ellipsis")},hide_ellipsis:function(){this._data.core.themes.ellipsis=!1,this.get_container_ul().removeClass("jstree-ellipsis"),this.trigger("hide_ellipsis")},toggle_ellipsis:function(){this._data.core.themes.ellipsis?this.hide_ellipsis():this.show_ellipsis()},set_icon:function(n,r){var i,a,o,s;if(e.isArray(n)){for(n=n.slice(),i=0,a=n.length;i<a;i++)this.set_icon(n[i],r);return!0}return!(!(n=this.get_node(n))||n.id===e.jstree.root)&&(s=n.icon,n.icon=!0===r||null===r||r===t||""===r||r,o=this.get_node(n,!0).children(".jstree-anchor").children(".jstree-themeicon"),!1===r?(o.removeClass("jstree-themeicon-custom "+s).css("background","").removeAttr("rel"),this.hide_icon(n)):!0===r||null===r||r===t||""===r?(o.removeClass("jstree-themeicon-custom "+s).css("background","").removeAttr("rel"),!1===s&&this.show_icon(n)):-1===r.indexOf("/")&&-1===r.indexOf(".")?(o.removeClass(s).css("background",""),o.addClass(r+" jstree-themeicon-custom").attr("rel",r),!1===s&&this.show_icon(n)):(o.removeClass(s).css("background",""),o.addClass("jstree-themeicon-custom").css("background","url('"+r+"') center center no-repeat").attr("rel",r),!1===s&&this.show_icon(n)),!0)},get_icon:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.icon},hide_icon:function(t){var n,r;if(e.isArray(t)){for(t=t.slice(),n=0,r=t.length;n<r;n++)this.hide_icon(t[n]);return!0}return!(!(t=this.get_node(t))||t===e.jstree.root)&&(t.icon=!1,this.get_node(t,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),!0)},show_icon:function(t){var n,r,i;if(e.isArray(t)){for(t=t.slice(),n=0,r=t.length;n<r;n++)this.show_icon(t[n]);return!0}return!(!(t=this.get_node(t))||t===e.jstree.root)&&(i=this.get_node(t,!0),t.icon=!i.length||i.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"),t.icon||(t.icon=!0),i.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),!0)}},e.vakata={},e.vakata.attributes=function(t,n){t=e(t)[0];var r=n?{}:[];return t&&t.attributes&&e.each(t.attributes,function(t,i){-1===e.inArray(i.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&null!==i.value&&""!==e.trim(i.value)&&(n?r[i.name]=i.value:r.push(i.name))}),r},e.vakata.array_unique=function(e){var n,r,i=[],a={};for(n=0,r=e.length;n<r;n++)a[e[n]]===t&&(i.push(e[n]),a[e[n]]=!0);return i},e.vakata.array_remove=function(e,t){return e.splice(t,1),e},e.vakata.array_remove_item=function(t,n){var r=e.inArray(n,t);return-1!==r?e.vakata.array_remove(t,r):t},e.vakata.array_filter=function(e,t,n,r,i){if(e.filter)return e.filter(t,n);r=[];for(i in e)~~i+""==i+""&&i>=0&&t.call(n,e[i],+i,e)&&r.push(e[i]);return r},e.jstree.plugins.changed=function(e,t){var n=[];this.trigger=function(e,r){var i,a;if(r||(r={}),"changed"===e.replace(".jstree","")){r.changed={selected:[],deselected:[]};var o={};for(i=0,a=n.length;i<a;i++)o[n[i]]=1;for(i=0,a=r.selected.length;i<a;i++)o[r.selected[i]]?o[r.selected[i]]=2:r.changed.selected.push(r.selected[i]);for(i=0,a=n.length;i<a;i++)1===o[n[i]]&&r.changed.deselected.push(n[i]);n=r.selected.slice()}t.trigger.call(this,e,r)},this.refresh=function(e,r){return n=[],t.refresh.apply(this,arguments)}};var l=c.createElement("I");l.className="jstree-icon jstree-checkbox",l.setAttribute("role","presentation"),e.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0,cascade_to_disabled:!0,cascade_to_hidden:!0},e.jstree.plugins.checkbox=function(n,r){this.bind=function(){r.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",e.proxy(function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")},this)).on("loading.jstree",e.proxy(function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()},this)),-1!==this.settings.checkbox.cascade.indexOf("undetermined")&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",e.proxy(function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)},this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",e.proxy(function(e,t){var n,r,i=this._model.data,a=(i[t.parent],t.nodes);for(n=0,r=a.length;n<r;n++)i[a[n]].state.checked=i[a[n]].state.checked||i[a[n]].original&&i[a[n]].original.state&&i[a[n]].original.state.checked,i[a[n]].state.checked&&this._data.checkbox.selected.push(a[n])},this)),-1===this.settings.checkbox.cascade.indexOf("up")&&-1===this.settings.checkbox.cascade.indexOf("down")||this.element.on("model.jstree",e.proxy(function(t,n){var r,i,a,o,s,c,l=this._model.data,d=l[n.parent],h=n.nodes,u=[],f=this.settings.checkbox.cascade,p=this.settings.checkbox.tie_selection;if(-1!==f.indexOf("down"))if(d.state[p?"selected":"checked"]){for(i=0,a=h.length;i<a;i++)l[h[i]].state[p?"selected":"checked"]=!0;this._data[p?"core":"checkbox"].selected=this._data[p?"core":"checkbox"].selected.concat(h)}else for(i=0,a=h.length;i<a;i++)if(l[h[i]].state[p?"selected":"checked"]){for(o=0,s=l[h[i]].children_d.length;o<s;o++)l[l[h[i]].children_d[o]].state[p?"selected":"checked"]=!0;this._data[p?"core":"checkbox"].selected=this._data[p?"core":"checkbox"].selected.concat(l[h[i]].children_d)}if(-1!==f.indexOf("up")){for(i=0,a=d.children_d.length;i<a;i++)l[d.children_d[i]].children.length||u.push(l[d.children_d[i]].parent);for(u=e.vakata.array_unique(u),o=0,s=u.length;o<s;o++)for(d=l[u[o]];d&&d.id!==e.jstree.root;){for(r=0,i=0,a=d.children.length;i<a;i++)r+=l[d.children[i]].state[p?"selected":"checked"];if(r!==a)break;d.state[p?"selected":"checked"]=!0,this._data[p?"core":"checkbox"].selected.push(d.id),(c=this.get_node(d,!0))&&c.length&&c.attr("aria-selected",!0).children(".jstree-anchor").addClass(p?"jstree-clicked":"jstree-checked"),d=this.get_node(d.parent)}}this._data[p?"core":"checkbox"].selected=e.vakata.array_unique(this._data[p?"core":"checkbox"].selected)},this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",e.proxy(function(t,n){var r,i,a,o,s=n.node,c=this._model.data,l=this.get_node(s.parent),d=this.settings.checkbox.cascade,h=this.settings.checkbox.tie_selection,u={},f=this._data[h?"core":"checkbox"].selected;for(r=0,i=f.length;r<i;r++)u[f[r]]=!0;if(-1!==d.indexOf("down")){var p=this._cascade_new_checked_state(s.id,!0),g=s.children_d.concat(s.id);for(r=0,i=g.length;r<i;r++)p.indexOf(g[r])>-1?u[g[r]]=!0:delete u[g[r]]}if(-1!==d.indexOf("up"))for(;l&&l.id!==e.jstree.root;){for(a=0,r=0,i=l.children.length;r<i;r++)a+=c[l.children[r]].state[h?"selected":"checked"];if(a!==i)break;l.state[h?"selected":"checked"]=!0,u[l.id]=!0,(o=this.get_node(l,!0))&&o.length&&o.attr("aria-selected",!0).children(".jstree-anchor").addClass(h?"jstree-clicked":"jstree-checked"),l=this.get_node(l.parent)}f=[];for(r in u)u.hasOwnProperty(r)&&f.push(r);this._data[h?"core":"checkbox"].selected=f},this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",e.proxy(function(t,n){var r,i,a,o=this.get_node(e.jstree.root),s=this._model.data;for(r=0,i=o.children_d.length;r<i;r++)(a=s[o.children_d[r]])&&a.original&&a.original.state&&a.original.state.undetermined&&(a.original.state.undetermined=!1)},this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",e.proxy(function(e,t){var n,r,i,a=t.node,o=(this.get_node(a,!0),this.settings.checkbox.cascade),s=this.settings.checkbox.tie_selection,c=this._data[s?"core":"checkbox"].selected,l=a.children_d.concat(a.id);if(-1!==o.indexOf("down")){var d=this._cascade_new_checked_state(a.id,!1);c=c.filter(function(e){return-1===l.indexOf(e)||d.indexOf(e)>-1})}if(-1!==o.indexOf("up")&&-1===c.indexOf(a.id)){for(n=0,r=a.parents.length;n<r;n++)i=this._model.data[a.parents[n]],i.state[s?"selected":"checked"]=!1,i&&i.original&&i.original.state&&i.original.state.undetermined&&(i.original.state.undetermined=!1),(i=this.get_node(a.parents[n],!0))&&i.length&&i.attr("aria-selected",!1).children(".jstree-anchor").removeClass(s?"jstree-clicked":"jstree-checked");c=c.filter(function(e){return-1===a.parents.indexOf(e)})}this._data[s?"core":"checkbox"].selected=c},this)),-1!==this.settings.checkbox.cascade.indexOf("up")&&this.element.on("delete_node.jstree",e.proxy(function(t,n){for(var r,i,a,o,s=this.get_node(n.parent),c=this._model.data,l=this.settings.checkbox.tie_selection;s&&s.id!==e.jstree.root&&!s.state[l?"selected":"checked"];){for(a=0,r=0,i=s.children.length;r<i;r++)a+=c[s.children[r]].state[l?"selected":"checked"];if(!(i>0&&a===i))break;s.state[l?"selected":"checked"]=!0,this._data[l?"core":"checkbox"].selected.push(s.id),(o=this.get_node(s,!0))&&o.length&&o.attr("aria-selected",!0).children(".jstree-anchor").addClass(l?"jstree-clicked":"jstree-checked"),s=this.get_node(s.parent)}},this)).on("move_node.jstree",e.proxy(function(t,n){var r,i,a,o,s,c=n.is_multi,l=n.old_parent,d=this.get_node(n.parent),h=this._model.data,u=this.settings.checkbox.tie_selection;if(!c)for(r=this.get_node(l);r&&r.id!==e.jstree.root&&!r.state[u?"selected":"checked"];){for(i=0,a=0,o=r.children.length;a<o;a++)i+=h[r.children[a]].state[u?"selected":"checked"];if(!(o>0&&i===o))break;r.state[u?"selected":"checked"]=!0,this._data[u?"core":"checkbox"].selected.push(r.id),(s=this.get_node(r,!0))&&s.length&&s.attr("aria-selected",!0).children(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked"),r=this.get_node(r.parent)}for(r=d;r&&r.id!==e.jstree.root;){for(i=0,a=0,o=r.children.length;a<o;a++)i+=h[r.children[a]].state[u?"selected":"checked"];if(i===o)r.state[u?"selected":"checked"]||(r.state[u?"selected":"checked"]=!0,this._data[u?"core":"checkbox"].selected.push(r.id),(s=this.get_node(r,!0))&&s.length&&s.attr("aria-selected",!0).children(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked"));else{if(!r.state[u?"selected":"checked"])break;r.state[u?"selected":"checked"]=!1,this._data[u?"core":"checkbox"].selected=e.vakata.array_remove_item(this._data[u?"core":"checkbox"].selected,r.id),(s=this.get_node(r,!0))&&s.length&&s.attr("aria-selected",!1).children(".jstree-anchor").removeClass(u?"jstree-clicked":"jstree-checked")}r=this.get_node(r.parent)}},this))},this.get_undetermined=function(n){if(-1===this.settings.checkbox.cascade.indexOf("undetermined"))return[];var r,i,a,o,s={},c=this._model.data,l=this.settings.checkbox.tie_selection,d=this._data[l?"core":"checkbox"].selected,h=[],u=this,f=[];for(r=0,i=d.length;r<i;r++)if(c[d[r]]&&c[d[r]].parents)for(a=0,o=c[d[r]].parents.length;a<o&&s[c[d[r]].parents[a]]===t;a++)c[d[r]].parents[a]!==e.jstree.root&&(s[c[d[r]].parents[a]]=!0,h.push(c[d[r]].parents[a]));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var n,l=u.get_node(this);if(l)if(l.state.loaded){for(r=0,i=l.children_d.length;r<i;r++)if(n=c[l.children_d[r]],!n.state.loaded&&n.original&&n.original.state&&n.original.state.undetermined&&!0===n.original.state.undetermined)for(s[n.id]===t&&n.id!==e.jstree.root&&(s[n.id]=!0,h.push(n.id)),a=0,o=n.parents.length;a<o;a++)s[n.parents[a]]===t&&n.parents[a]!==e.jstree.root&&(s[n.parents[a]]=!0,h.push(n.parents[a]))}else if(l.original&&l.original.state&&l.original.state.undetermined&&!0===l.original.state.undetermined)for(s[l.id]===t&&l.id!==e.jstree.root&&(s[l.id]=!0,h.push(l.id)),a=0,o=l.parents.length;a<o;a++)s[l.parents[a]]===t&&l.parents[a]!==e.jstree.root&&(s[l.parents[a]]=!0,h.push(l.parents[a]))}),r=0,i=h.length;r<i;r++)c[h[r]].state[l?"selected":"checked"]||f.push(n?c[h[r]]:h[r]);return f},this._undetermined=function(){if(null!==this.element){var e,t,n,r=this.get_undetermined(!1);for(this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),e=0,t=r.length;e<t;e++)(n=this.get_node(r[e],!0))&&n.length&&n.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined")}},this.redraw_node=function(t,n,i,a){if(t=r.redraw_node.apply(this,arguments)){var o,s,c=null,d=null;for(o=0,s=t.childNodes.length;o<s;o++)if(t.childNodes[o]&&t.childNodes[o].className&&-1!==t.childNodes[o].className.indexOf("jstree-anchor")){c=t.childNodes[o];break}c&&(!this.settings.checkbox.tie_selection&&this._model.data[t.id].state.checked&&(c.className+=" jstree-checked"),d=l.cloneNode(!1),this._model.data[t.id].state.checkbox_disabled&&(d.className+=" jstree-checkbox-disabled"),c.insertBefore(d,c.childNodes[0]))}return i||-1===this.settings.checkbox.cascade.indexOf("undetermined")||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)),t},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(t){t=this.get_node(t);var n,r,i=this.settings.checkbox.cascade,a=this.settings.checkbox.tie_selection,o=this._data[a?"core":"checkbox"].selected,s=this._model.data;if(!t||!0===t.state[a?"selected":"checked"]||-1===i.indexOf("undetermined")||-1===i.indexOf("down")&&-1===i.indexOf("up"))return!1;if(!t.state.loaded&&!0===t.original.state.undetermined)return!0;for(n=0,r=t.children_d.length;n<r;n++)if(-1!==e.inArray(t.children_d[n],o)||!s[t.children_d[n]].state.loaded&&s[t.children_d[n]].original.state.undetermined)return!0;return!1},this.disable_checkbox=function(t){var n,r,i;if(e.isArray(t)){for(t=t.slice(),n=0,r=t.length;n<r;n++)this.disable_checkbox(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;i=this.get_node(t,!0),t.state.checkbox_disabled||(t.state.checkbox_disabled=!0,i&&i.length&&i.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:t}))},this.enable_checkbox=function(t){var n,r,i;if(e.isArray(t)){for(t=t.slice(),n=0,r=t.length;n<r;n++)this.enable_checkbox(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;i=this.get_node(t,!0),t.state.checkbox_disabled&&(t.state.checkbox_disabled=!1,i&&i.length&&i.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:t}))},this.activate_node=function(t,n){return!e(n.target).hasClass("jstree-checkbox-disabled")&&(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||e(n.target).hasClass("jstree-checkbox"))&&(n.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!e(n.target).hasClass("jstree-checkbox")?r.activate_node.call(this,t,n):!this.is_disabled(t)&&(this.is_checked(t)?this.uncheck_node(t,n):this.check_node(t,n),void this.trigger("activate_node",{node:this.get_node(t)})))},this._cascade_new_checked_state=function(e,t){var n,r,i,a=this,o=this.settings.checkbox.tie_selection,s=this._model.data[e],c=[],l=[];if(!this.settings.checkbox.cascade_to_disabled&&s.state.disabled||!this.settings.checkbox.cascade_to_hidden&&s.state.hidden)i=this.get_checked_descendants(e),s.state[o?"selected":"checked"]&&i.push(s.id),c=c.concat(i);else{if(s.children)for(n=0,r=s.children.length;n<r;n++){var d=s.children[n];i=a._cascade_new_checked_state(d,t),c=c.concat(i),i.indexOf(d)>-1&&l.push(d)}var h=a.get_node(s,!0),u=l.length>0&&l.length<s.children.length;s.original&&s.original.state&&s.original.state.undetermined&&(s.original.state.undetermined=u),u?(s.state[o?"selected":"checked"]=!1,h.attr("aria-selected",!1).children(".jstree-anchor").removeClass(o?"jstree-clicked":"jstree-checked")):t&&l.length===s.children.length?(s.state[o?"selected":"checked"]=t,c.push(s.id),h.attr("aria-selected",!0).children(".jstree-anchor").addClass(o?"jstree-clicked":"jstree-checked")):(s.state[o?"selected":"checked"]=!1,h.attr("aria-selected",!1).children(".jstree-anchor").removeClass(o?"jstree-clicked":"jstree-checked"))}return c},this.get_checked_descendants=function(e){var t=this,n=t.settings.checkbox.tie_selection;return t._model.data[e].children_d.filter(function(e){return t._model.data[e].state[n?"selected":"checked"]})},this.check_node=function(t,n){if(this.settings.checkbox.tie_selection)return this.select_node(t,!1,!0,n);var r,i,a;if(e.isArray(t)){for(t=t.slice(),i=0,a=t.length;i<a;i++)this.check_node(t[i],n);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;r=this.get_node(t,!0),t.state.checked||(t.state.checked=!0,this._data.checkbox.selected.push(t.id),r&&r.length&&r.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:t,selected:this._data.checkbox.selected,event:n}))},this.uncheck_node=function(t,n){if(this.settings.checkbox.tie_selection)return this.deselect_node(t,!1,n);var r,i,a;if(e.isArray(t)){for(t=t.slice(),r=0,i=t.length;r<i;r++)this.uncheck_node(t[r],n);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;a=this.get_node(t,!0),t.state.checked&&(t.state.checked=!1,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,t.id),a.length&&a.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:t,selected:this._data.checkbox.selected,event:n}))},this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();var t,n;this._data.checkbox.selected.concat([]);for(this._data.checkbox.selected=this._model.data[e.jstree.root].children_d.concat(),t=0,n=this._data.checkbox.selected.length;t<n;t++)this._model.data[this._data.checkbox.selected[t]]&&(this._model.data[this._data.checkbox.selected[t]].state.checked=!0);this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();var e,t,n=this._data.checkbox.selected.concat([]);for(e=0,t=this._data.checkbox.selected.length;e<t;e++)this._model.data[this._data.checkbox.selected[e]]&&(this._model.data[this._data.checkbox.selected[e]].state.checked=!1);this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:n})},this.is_checked=function(t){return this.settings.checkbox.tie_selection?this.is_selected(t):!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.state.checked},this.get_checked=function(t){return this.settings.checkbox.tie_selection?this.get_selected(t):t?e.map(this._data.checkbox.selected,e.proxy(function(e){return this.get_node(e)},this)):this._data.checkbox.selected},this.get_top_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_top_selected(t);var n,r,i,a,o=this.get_checked(!0),s={};for(n=0,r=o.length;n<r;n++)s[o[n].id]=o[n];for(n=0,r=o.length;n<r;n++)for(i=0,a=o[n].children_d.length;i<a;i++)s[o[n].children_d[i]]&&delete s[o[n].children_d[i]];o=[];for(n in s)s.hasOwnProperty(n)&&o.push(n);return t?e.map(o,e.proxy(function(e){return this.get_node(e)},this)):o},this.get_bottom_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(t);var n,r,i=this.get_checked(!0),a=[];for(n=0,r=i.length;n<r;n++)i[n].children.length||a.push(i[n].id);return t?e.map(a,e.proxy(function(e){return this.get_node(e)},this)):a},this.load_node=function(t,n){var i,a,o;if(!e.isArray(t)&&!this.settings.checkbox.tie_selection&&(o=this.get_node(t))&&o.state.loaded)for(i=0,a=o.children_d.length;i<a;i++)this._model.data[o.children_d[i]].state.checked&&(!0,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,o.children_d[i]));return r.load_node.apply(this,arguments)},this.get_state=function(){var e=r.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection?e:(e.checkbox=this._data.checkbox.selected.slice(),e)},this.set_state=function(t,n){var i=r.set_state.apply(this,arguments);if(i&&t.checkbox){if(!this.settings.checkbox.tie_selection){this.uncheck_all();var a=this;e.each(t.checkbox,function(e,t){a.check_node(t)})}return delete t.checkbox,this.set_state(t,n),!1}return i},this.refresh=function(e,t){return this.settings.checkbox.tie_selection||(this._data.checkbox.selected=[]),r.refresh.apply(this,arguments)}},e.jstree.defaults.conditionalselect=function(){return!0},e.jstree.plugins.conditionalselect=function(e,t){this.activate_node=function(e,n){if(this.settings.conditionalselect.call(this,this.get_node(e),n))return t.activate_node.call(this,e,n)}},e.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(t,n){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(t){var n=e.jstree.reference(t.reference),r=n.get_node(t.reference);n.create_node(r,{},"last",function(e){try{n.edit(e)}catch(t){setTimeout(function(){n.edit(e)},0)}})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",/*!
					"shortcut"			: 113,
					"shortcut_label"	: 'F2',
					"icon"				: "glyphicon glyphicon-leaf",
					*/
action:function(t){var n=e.jstree.reference(t.reference),r=n.get_node(t.reference);n.edit(r)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(t){var n=e.jstree.reference(t.reference),r=n.get_node(t.reference);n.is_selected(r)?n.delete_node(n.get_selected()):n.delete_node(r)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(t){var n=e.jstree.reference(t.reference),r=n.get_node(t.reference);n.is_selected(r)?n.cut(n.get_top_selected()):n.cut(r)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(t){var n=e.jstree.reference(t.reference),r=n.get_node(t.reference);n.is_selected(r)?n.copy(n.get_top_selected()):n.copy(r)}},paste:{separator_before:!1,icon:!1,_disabled:function(t){return!e.jstree.reference(t.reference).can_paste()},separator_after:!1,label:"Paste",action:function(t){var n=e.jstree.reference(t.reference),r=n.get_node(t.reference);n.paste(r)}}}}}}},e.jstree.plugins.contextmenu=function(n,r){this.bind=function(){r.bind.call(this);var t,n,i=0,a=null;this.element.on("init.jstree loading.jstree ready.jstree",e.proxy(function(){this.get_container_ul().addClass("jstree-contextmenu")},this)).on("contextmenu.jstree",".jstree-anchor",e.proxy(function(e,t){"input"!==e.target.tagName.toLowerCase()&&(e.preventDefault(),i=e.ctrlKey?+new Date:0,(t||a)&&(i=+new Date+1e4),a&&clearTimeout(a),this.is_loading(e.currentTarget)||this.show_contextmenu(e.currentTarget,e.pageX,e.pageY,e))},this)).on("click.jstree",".jstree-anchor",e.proxy(function(t){this._data.contextmenu.visible&&(!i||+new Date-i>250)&&e.vakata.context.hide(),i=0},this)).on("touchstart.jstree",".jstree-anchor",function(r){r.originalEvent&&r.originalEvent.changedTouches&&r.originalEvent.changedTouches[0]&&(t=r.originalEvent.changedTouches[0].clientX,n=r.originalEvent.changedTouches[0].clientY,a=setTimeout(function(){e(r.currentTarget).trigger("contextmenu",!0)},750))}).on("touchmove.vakata.jstree",function(r){a&&r.originalEvent&&r.originalEvent.changedTouches&&r.originalEvent.changedTouches[0]&&(Math.abs(t-r.originalEvent.changedTouches[0].clientX)>10||Math.abs(n-r.originalEvent.changedTouches[0].clientY)>10)&&(clearTimeout(a),e.vakata.context.hide())}).on("touchend.vakata.jstree",function(e){a&&clearTimeout(a)}),/*!
			if(!('oncontextmenu' in document.body) && ('ontouchstart' in document.body)) {
				var el = null, tm = null;
				this.element
					.on("touchstart", ".jstree-anchor", function (e) {
						el = e.currentTarget;
						tm = +new Date();
						$(document).one("touchend", function (e) {
							e.target = document.elementFromPoint(e.originalEvent.targetTouches[0].pageX - window.pageXOffset, e.originalEvent.targetTouches[0].pageY - window.pageYOffset);
							e.currentTarget = e.target;
							tm = ((+(new Date())) - tm);
							if(e.target === el && tm > 600 && tm < 1000) {
								e.preventDefault();
								$(el).trigger('contextmenu', e);
							}
							el = null;
							tm = null;
						});
					});
			}
			*/
e(c).on("context_hide.vakata.jstree",e.proxy(function(t,n){this._data.contextmenu.visible=!1,e(n.reference).removeClass("jstree-context")},this))},this.teardown=function(){this._data.contextmenu.visible&&e.vakata.context.hide(),r.teardown.call(this)},this.show_contextmenu=function(n,r,i,a){if(!(n=this.get_node(n))||n.id===e.jstree.root)return!1;var o=this.settings.contextmenu,s=this.get_node(n,!0),c=s.children(".jstree-anchor"),l=!1,d=!1;(o.show_at_node||r===t||i===t)&&(l=c.offset(),r=l.left,i=l.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(n)&&this.activate_node(n,a),d=o.items,e.isFunction(d)&&(d=d.call(this,n,e.proxy(function(e){this._show_contextmenu(n,r,i,e)},this))),e.isPlainObject(d)&&this._show_contextmenu(n,r,i,d)},this._show_contextmenu=function(t,n,r,i){var a=this.get_node(t,!0),o=a.children(".jstree-anchor");e(c).one("context_show.vakata.jstree",e.proxy(function(t,n){var r="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";e(n.element).addClass(r),o.addClass("jstree-context")},this)),this._data.contextmenu.visible=!0,e.vakata.context.show(o,{x:n,y:r},i),this.trigger("show_contextmenu",{node:t,x:n,y:r})}},function(e){var t=!1,n={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1};e.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(t){e(c).triggerHandler("context_"+t+".vakata",{reference:n.reference,element:n.element,position:{x:n.position_x,y:n.position_y}})},_execute:function(t){return!(!(t=n.items[t])||t._disabled&&(!e.isFunction(t._disabled)||t._disabled({item:t,reference:n.reference,element:n.element}))||!t.action)&&t.action.call(null,{item:t,reference:n.reference,element:n.element,position:{x:n.position_x,y:n.position_y}})},_parse:function(t,r){if(!t)return!1;r||(n.html="",n.items=[]);var i,a="",o=!1;return r&&(a+="<ul>"),e.each(t,function(t,r){if(!r)return!0;n.items.push(r),!o&&r.separator_before&&(a+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>"),o=!1,a+="<li class='"+(r._class||"")+(!0===r._disabled||e.isFunction(r._disabled)&&r._disabled({item:r,reference:n.reference,element:n.element})?" vakata-contextmenu-disabled ":"")+"' "+(r.shortcut?" data-shortcut='"+r.shortcut+"' ":"")+">",a+="<a href='#' rel='"+(n.items.length-1)+"' "+(r.title?"title='"+r.title+"'":"")+">",e.vakata.context.settings.icons&&(a+="<i ",r.icon&&(-1!==r.icon.indexOf("/")||-1!==r.icon.indexOf(".")?a+=" style='background:url(\""+r.icon+"\") center center no-repeat' ":a+=" class='"+r.icon+"' "),a+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),a+=(e.isFunction(r.label)?r.label({item:t,reference:n.reference,element:n.element}):r.label)+(r.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+r.shortcut+'">'+(r.shortcut_label||"")+"</span>":"")+"</a>",r.submenu&&(i=e.vakata.context._parse(r.submenu,!0))&&(a+=i),a+="</li>",r.separator_after&&(a+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>",o=!0)}),a=a.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),r&&(a+="</ul>"),r||(n.html=a,e.vakata.context._trigger("parse")),a.length>10&&a},_show_submenu:function(n){if(n=e(n),n.length&&n.children("ul").length){var r=n.children("ul"),i=n.offset().left,a=i+n.outerWidth(),o=n.offset().top,s=r.width(),c=r.height(),l=e(window).width()+e(window).scrollLeft(),d=e(window).height()+e(window).scrollTop();t?n[a-(s+10+n.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):n[a+s>l&&i>l-a?"addClass":"removeClass"]("vakata-context-right"),o+c+10>d&&r.css("bottom","-1px"),n.hasClass("vakata-context-right")?i<s&&r.css("margin-right",i-s):l-a<s&&r.css("margin-left",l-a-s),r.show()}},show:function(r,i,a){var o,s,c,l,d,h,u,f;switch(n.element&&n.element.length&&n.element.width(""),!0){case!i&&!r:return!1;case!!i&&!!r:n.reference=r,n.position_x=i.x,n.position_y=i.y;break;case!i&&!!r:n.reference=r,o=r.offset(),n.position_x=o.left+r.outerHeight(),n.position_y=o.top;break;case!!i&&!r:n.position_x=i.x,n.position_y=i.y}r&&!a&&e(r).data("vakata_contextmenu")&&(a=e(r).data("vakata_contextmenu")),e.vakata.context._parse(a)&&n.element.html(n.html),n.items.length&&(n.element.appendTo("body"),s=n.element,c=n.position_x,l=n.position_y,d=s.width(),h=s.height(),u=e(window).width()+e(window).scrollLeft(),f=e(window).height()+e(window).scrollTop(),t&&(c-=s.outerWidth()-e(r).outerWidth())<e(window).scrollLeft()+20&&(c=e(window).scrollLeft()+20),c+d+20>u&&(c=u-(d+20)),l+h+20>f&&(l=f-(h+20)),n.element.css({left:c,top:l}).show().find("a").first().focus().parent().addClass("vakata-context-hover"),n.is_visible=!0,e.vakata.context._trigger("show"))},hide:function(){n.is_visible&&(n.element.hide().find("ul").hide().end().find(":focus").blur().end().detach(),n.is_visible=!1,e.vakata.context._trigger("hide"))}},e(function(){t="rtl"===e("body").css("direction");var r=!1;n.element=e("<ul class='vakata-context'></ul>"),n.element.on("mouseenter","li",function(t){t.stopImmediatePropagation(),e.contains(this,t.relatedTarget)||(r&&clearTimeout(r),n.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),e(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),e.vakata.context._show_submenu(this))}).on("mouseleave","li",function(t){e.contains(this,t.relatedTarget)||e(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(t){e(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),e.vakata.context.settings.hide_onmouseleave&&(r=setTimeout(function(t){return function(){e.vakata.context.hide()}}(),e.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(t){t.preventDefault(),e(this).blur().parent().hasClass("vakata-context-disabled")||!1===e.vakata.context._execute(e(this).attr("rel"))||e.vakata.context.hide()}).on("keydown","a",function(t){var r=null;switch(t.which){case 13:case 32:t.type="click",t.preventDefault(),e(t.currentTarget).trigger(t);break;case 37:n.is_visible&&(n.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 38:n.is_visible&&(r=n.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first(),r.length||(r=n.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),r.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 39:n.is_visible&&(n.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 40:n.is_visible&&(r=n.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first(),r.length||(r=n.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),r.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 27:e.vakata.context.hide(),t.preventDefault()}}).on("keydown",function(e){e.preventDefault();var t=n.element.find(".vakata-contextmenu-shortcut-"+e.which).parent();t.parent().not(".vakata-context-disabled")&&t.click()}),e(c).on("mousedown.vakata.jstree",function(t){n.is_visible&&n.element[0]!==t.target&&!e.contains(n.element[0],t.target)&&e.vakata.context.hide()}).on("context_show.vakata.jstree",function(e,r){n.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),t&&n.element.addClass("vakata-context-rtl").css("direction","rtl"),n.element.find("ul").hide().end()})})}(e),e.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1,use_html5:!1};var d,h;e.jstree.plugins.dnd=function(t,n){this.init=function(e,t){n.init.call(this,e,t),this.settings.dnd.use_html5=this.settings.dnd.use_html5&&"draggable"in c.createElement("span")},this.bind=function(){n.bind.call(this),this.element.on(this.settings.dnd.use_html5?"dragstart.jstree":"mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",e.proxy(function(t){if(this.settings.dnd.large_drag_target&&e(t.target).closest(".jstree-node")[0]!==t.currentTarget)return!0;if("touchstart"===t.type&&(!this.settings.dnd.touch||"selected"===this.settings.dnd.touch&&!e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var n=this.get_node(t.target),r=this.is_selected(n)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,i=r>1?r+" "+this.get_string("nodes"):this.get_text(t.currentTarget);if(this.settings.core.force_text&&(i=e.vakata.html.escape(i)),n&&n.id&&n.id!==e.jstree.root&&(1===t.which||"touchstart"===t.type||"dragstart"===t.type)&&(!0===this.settings.dnd.is_draggable||e.isFunction(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,r>1?this.get_top_selected(!0):[n],t))){if(d={jstree:!0,origin:this,obj:this.get_node(n,!0),nodes:r>1?this.get_top_selected():[n.id]},h=t.currentTarget,!this.settings.dnd.use_html5)return this.element.trigger("mousedown.jstree"),e.vakata.dnd.start(t,d,'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+i+'<ins class="jstree-copy" style="display:none;">+</ins></div>');e.vakata.dnd._trigger("start",t,{helper:e(),element:h,data:d})}},this)),this.settings.dnd.use_html5&&this.element.on("dragover.jstree",function(t){return t.preventDefault(),e.vakata.dnd._trigger("move",t,{helper:e(),element:h,data:d}),!1}).on("drop.jstree",e.proxy(function(t){return t.preventDefault(),e.vakata.dnd._trigger("stop",t,{helper:e(),element:h,data:d}),!1},this))},this.redraw_node=function(e,t,r,i){if((e=n.redraw_node.apply(this,arguments))&&this.settings.dnd.use_html5)if(this.settings.dnd.large_drag_target)e.setAttribute("draggable",!0);else{var a,o,s=null;for(a=0,o=e.childNodes.length;a<o;a++)if(e.childNodes[a]&&e.childNodes[a].className&&-1!==e.childNodes[a].className.indexOf("jstree-anchor")){s=e.childNodes[a];break}s&&s.setAttribute("draggable",!0)}return e}},e(function(){var n=!1,r=!1,i=!1,a=!1,o=e('<div id="jstree-marker">&#160;</div>').hide();e(c).on("dnd_start.vakata.jstree",function(e,t){n=!1,i=!1,t&&t.data&&t.data.jstree&&o.appendTo("body")}).on("dnd_move.vakata.jstree",function(s,c){var l=c.event.target!==i.target;if(a&&(c.event&&"dragover"===c.event.type&&!l||clearTimeout(a)),c&&c.data&&c.data.jstree&&(!c.event.target.id||"jstree-marker"!==c.event.target.id)){i=c.event;var d,h,u,f,p,g,_,m,y,v,b,x,j,k,w,C,T=e.jstree.reference(c.event.target),E=!1,S=!1,O=!1;if(T&&T._data&&T._data.dnd)if(o.attr("class","jstree-"+T.get_theme()+(T.settings.core.themes.responsive?" jstree-dnd-responsive":"")),w=c.data.origin&&(c.data.origin.settings.dnd.always_copy||c.data.origin.settings.dnd.copy&&(c.event.metaKey||c.event.ctrlKey)),c.helper.children().attr("class","jstree-"+T.get_theme()+" jstree-"+T.get_theme()+"-"+T.get_theme_variant()+" "+(T.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[w?"show":"hide"](),c.event.target!==T.element[0]&&c.event.target!==T.get_container_ul()[0]||0!==T.get_container_ul().children().length){if((E=T.settings.dnd.large_drop_target?e(c.event.target).closest(".jstree-node").children(".jstree-anchor"):e(c.event.target).closest(".jstree-anchor"))&&E.length&&E.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(S=E.offset(),O=(c.event.pageY!==t?c.event.pageY:c.event.originalEvent.pageY)-S.top,u=E.outerHeight(),g=O<u/3?["b","i","a"]:O>u-u/3?["a","i","b"]:O>u/2?["i","a","b"]:["i","b","a"],e.each(g,function(t,i){switch(i){case"b":d=S.left-6,h=S.top,f=T.get_parent(E),p=E.parent().index();break;case"i":j=T.settings.dnd.inside_pos,k=T.get_node(E.parent()),d=S.left-2,h=S.top+u/2+1,f=k.id,p="first"===j?0:"last"===j?k.children.length:Math.min(j,k.children.length);break;case"a":d=S.left-6,h=S.top+u,f=T.get_parent(E),p=E.parent().index()+1}for(_=!0,m=0,y=c.data.nodes.length;m<y;m++)if(v=c.data.origin&&(c.data.origin.settings.dnd.always_copy||c.data.origin.settings.dnd.copy&&(c.event.metaKey||c.event.ctrlKey))?"copy_node":"move_node",b=p,"move_node"===v&&"a"===i&&c.data.origin&&c.data.origin===T&&f===T.get_parent(c.data.nodes[m])&&(x=T.get_node(f),b>e.inArray(c.data.nodes[m],x.children)&&(b-=1)),!(_=_&&(T&&T.settings&&T.settings.dnd&&!1===T.settings.dnd.check_while_dragging||T.check(v,c.data.origin&&c.data.origin!==T?c.data.origin.get_node(c.data.nodes[m]):c.data.nodes[m],f,b,{dnd:!0,ref:T.get_node(E.parent()),pos:i,origin:c.data.origin,is_multi:c.data.origin&&c.data.origin!==T,is_foreign:!c.data.origin})))){T&&T.last_error&&(r=T.last_error());break}if("i"===i&&E.parent().is(".jstree-closed")&&T.settings.dnd.open_timeout&&(c.event&&"dragover"===c.event.type&&!l||(a&&clearTimeout(a),a=setTimeout(function(e,t){return function(){e.open_node(t)}}(T,E),T.settings.dnd.open_timeout))),_)return C=T.get_node(f,!0),C.hasClass(".jstree-dnd-parent")||(e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),C.addClass("jstree-dnd-parent")),n={ins:T,par:f,pos:"i"!==i||"last"!==j||0!==p||T.is_loaded(k)?p:"last"},o.css({left:d+"px",top:h+"px"}).show(),c.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),c.event.originalEvent&&c.event.originalEvent.dataTransfer&&(c.event.originalEvent.dataTransfer.dropEffect=w?"copy":"move"),r={},g=!0,!1}),!0===g))return}else{for(_=!0,m=0,y=c.data.nodes.length;m<y&&(_=_&&T.check(c.data.origin&&(c.data.origin.settings.dnd.always_copy||c.data.origin.settings.dnd.copy&&(c.event.metaKey||c.event.ctrlKey))?"copy_node":"move_node",c.data.origin&&c.data.origin!==T?c.data.origin.get_node(c.data.nodes[m]):c.data.nodes[m],e.jstree.root,"last",{dnd:!0,ref:T.get_node(e.jstree.root),pos:"i",origin:c.data.origin,is_multi:c.data.origin&&c.data.origin!==T,is_foreign:!c.data.origin}));m++);if(_)return n={ins:T,par:e.jstree.root,pos:"last"},o.hide(),c.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),void(c.event.originalEvent&&c.event.originalEvent.dataTransfer&&(c.event.originalEvent.dataTransfer.dropEffect=w?"copy":"move"))}e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),n=!1,c.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),c.event.originalEvent&&c.event.originalEvent.dataTransfer&&(c.event.originalEvent.dataTransfer.dropEffect="none"),o.hide()}}).on("dnd_scroll.vakata.jstree",function(e,t){t&&t.data&&t.data.jstree&&(o.hide(),n=!1,i=!1,t.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))}).on("dnd_stop.vakata.jstree",function(t,s){if(e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),a&&clearTimeout(a),s&&s.data&&s.data.jstree){o.hide().detach();var c,l,d=[];if(n){for(c=0,l=s.data.nodes.length;c<l;c++)d[c]=s.data.origin?s.data.origin.get_node(s.data.nodes[c]):s.data.nodes[c];n.ins[s.data.origin&&(s.data.origin.settings.dnd.always_copy||s.data.origin.settings.dnd.copy&&(s.event.metaKey||s.event.ctrlKey))?"copy_node":"move_node"](d,n.par,n.pos,!1,!1,!1,s.data.origin)}else c=e(s.event.target).closest(".jstree"),c.length&&r&&r.error&&"check"===r.error&&(c=c.jstree(!0))&&c.settings.core.error.call(this,r);i=!1,n=!1}}).on("keyup.jstree keydown.jstree",function(t,s){(s=e.vakata.dnd._get())&&s.data&&s.data.jstree&&("keyup"===t.type&&27===t.which?(a&&clearTimeout(a),n=!1,r=!1,i=!1,a=!1,o.hide().detach(),e.vakata.dnd._clean()):(s.helper.find(".jstree-copy").first()[s.data.origin&&(s.data.origin.settings.dnd.always_copy||s.data.origin.settings.dnd.copy&&(t.metaKey||t.ctrlKey))?"show":"hide"](),i&&(i.metaKey=t.metaKey,i.ctrlKey=t.ctrlKey,e.vakata.dnd._trigger("move",i))))})}),function(e){e.vakata.html={div:e("<div />"),escape:function(t){return e.vakata.html.div.text(t).html()},strip:function(t){return e.vakata.html.div.empty().append(e.parseHTML(t)).text()}};var n={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};e.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:10},_trigger:function(n,r,i){i===t&&(i=e.vakata.dnd._get()),i.event=r,e(c).triggerHandler("dnd_"+n+".vakata",i)},_get:function(){return{data:n.data,element:n.element,helper:n.helper}},_clean:function(){n.helper&&n.helper.remove(),n.scroll_i&&(clearInterval(n.scroll_i),n.scroll_i=!1),n={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},e(c).off("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(c).off("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop)},_scroll:function(t){if(!n.scroll_e||!n.scroll_l&&!n.scroll_t)return n.scroll_i&&(clearInterval(n.scroll_i),n.scroll_i=!1),!1;if(!n.scroll_i)return n.scroll_i=setInterval(e.vakata.dnd._scroll,100),!1;if(!0===t)return!1;var r=n.scroll_e.scrollTop(),i=n.scroll_e.scrollLeft();n.scroll_e.scrollTop(r+n.scroll_t*e.vakata.dnd.settings.scroll_speed),n.scroll_e.scrollLeft(i+n.scroll_l*e.vakata.dnd.settings.scroll_speed),r===n.scroll_e.scrollTop()&&i===n.scroll_e.scrollLeft()||e.vakata.dnd._trigger("scroll",n.scroll_e)},start:function(t,r,i){"touchstart"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=c.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),n.is_drag&&e.vakata.dnd.stop({});try{t.currentTarget.unselectable="on",t.currentTarget.onselectstart=function(){return!1},t.currentTarget.style&&(t.currentTarget.style.touchAction="none",t.currentTarget.style.msTouchAction="none",t.currentTarget.style.MozUserSelect="none")}catch(e){}return n.init_x=t.pageX,n.init_y=t.pageY,n.data=r,n.is_down=!0,n.element=t.currentTarget,n.target=t.target,n.is_touch="touchstart"===t.type,!1!==i&&(n.helper=e("<div id='vakata-dnd'></div>").html(i).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),e(c).on("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(c).on("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop),!1},drag:function(t){if("touchmove"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=c.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),n.is_down){if(!n.is_drag){if(!(Math.abs(t.pageX-n.init_x)>(n.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)||Math.abs(t.pageY-n.init_y)>(n.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)))return;n.helper&&(n.helper.appendTo("body"),n.helper_w=n.helper.outerWidth()),n.is_drag=!0,e(n.target).one("click.vakata",!1),e.vakata.dnd._trigger("start",t)}var r=!1,i=!1,a=!1,o=!1,s=!1,l=!1,d=!1,h=!1,u=!1,f=!1;return n.scroll_t=0,n.scroll_l=0,n.scroll_e=!1,e(e(t.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return/^auto|scroll$/.test(e(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var r=e(this),i=r.offset();if(this.scrollHeight>this.offsetHeight&&(i.top+r.height()-t.pageY<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=1),t.pageY-i.top<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(i.left+r.width()-t.pageX<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=1),t.pageX-i.left<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=-1)),n.scroll_t||n.scroll_l)return n.scroll_e=e(this),!1}),n.scroll_e||(r=e(c),i=e(window),a=r.height(),o=i.height(),s=r.width(),l=i.width(),d=r.scrollTop(),h=r.scrollLeft(),a>o&&t.pageY-d<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=-1),a>o&&o-(t.pageY-d)<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=1),s>l&&t.pageX-h<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=-1),s>l&&l-(t.pageX-h)<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=1),(n.scroll_t||n.scroll_l)&&(n.scroll_e=r)),n.scroll_e&&e.vakata.dnd._scroll(!0),n.helper&&(u=parseInt(t.pageY+e.vakata.dnd.settings.helper_top,10),f=parseInt(t.pageX+e.vakata.dnd.settings.helper_left,10),a&&u+25>a&&(u=a-50),s&&f+n.helper_w>s&&(f=s-(n.helper_w+2)),n.helper.css({left:f+"px",top:u+"px"})),e.vakata.dnd._trigger("move",t),!1}},stop:function(t){if("touchend"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=c.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),n.is_drag)t.target!==n.target&&e(n.target).off("click.vakata"),e.vakata.dnd._trigger("stop",t);else if("touchend"===t.type&&t.target===n.target){var r=setTimeout(function(){e(t.target).click()},100);e(t.target).one("click",function(){r&&clearTimeout(r)})}return e.vakata.dnd._clean(),!1}}}(e),e.jstree.defaults.massload=null,e.jstree.plugins.massload=function(t,n){this.init=function(e,t){this._data.massload={},n.init.call(this,e,t)},this._load_nodes=function(t,r,i,a){var o,s,c,l=this.settings.massload,d=(JSON.stringify(t),[]),h=this._model.data;if(!i){for(o=0,s=t.length;o<s;o++)h[t[o]]&&(h[t[o]].state.loaded||h[t[o]].state.failed)&&!a||(d.push(t[o]),(c=this.get_node(t[o],!0))&&c.length&&c.addClass("jstree-loading").attr("aria-busy",!0));if(this._data.massload={},d.length){if(e.isFunction(l))return l.call(this,d,e.proxy(function(e){var o,s;if(e)for(o in e)e.hasOwnProperty(o)&&(this._data.massload[o]=e[o]);for(o=0,s=t.length;o<s;o++)(c=this.get_node(t[o],!0))&&c.length&&c.removeClass("jstree-loading").attr("aria-busy",!1);n._load_nodes.call(this,t,r,i,a)},this));if("object"==typeof l&&l&&l.url)return l=e.extend(!0,{},l),e.isFunction(l.url)&&(l.url=l.url.call(this,d)),e.isFunction(l.data)&&(l.data=l.data.call(this,d)),e.ajax(l).done(e.proxy(function(e,o,s){var l,d;if(e)for(l in e)e.hasOwnProperty(l)&&(this._data.massload[l]=e[l]);for(l=0,d=t.length;l<d;l++)(c=this.get_node(t[l],!0))&&c.length&&c.removeClass("jstree-loading").attr("aria-busy",!1);n._load_nodes.call(this,t,r,i,a)},this)).fail(e.proxy(function(e){n._load_nodes.call(this,t,r,i,a)},this))}}return n._load_nodes.call(this,t,r,i,a)},this._load_node=function(t,r){var i,a=this._data.massload[t.id],o=null;return a?(o=this["string"==typeof a?"_append_html_data":"_append_json_data"](t,"string"==typeof a?e(e.parseHTML(a)).filter(function(){return 3!==this.nodeType}):a,function(e){r.call(this,e)}),i=this.get_node(t.id,!0),i&&i.length&&i.removeClass("jstree-loading").attr("aria-busy",!1),delete this._data.massload[t.id],o):n._load_node.call(this,t,r)}},e.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},e.jstree.plugins.search=function(n,r){this.bind=function(){r.bind.call(this),this._data.search.str="",this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this._data.search.hdn=[],this.element.on("search.jstree",e.proxy(function(t,n){if(this._data.search.som&&n.res.length){var r,i,a,o,s=this._model.data,c=[];for(r=0,i=n.res.length;r<i;r++)if(s[n.res[r]]&&!s[n.res[r]].state.hidden&&(c.push(n.res[r]),c=c.concat(s[n.res[r]].parents),this._data.search.smc))for(a=0,o=s[n.res[r]].children_d.length;a<o;a++)s[s[n.res[r]].children_d[a]]&&!s[s[n.res[r]].children_d[a]].state.hidden&&c.push(s[n.res[r]].children_d[a]);c=e.vakata.array_remove_item(e.vakata.array_unique(c),e.jstree.root),this._data.search.hdn=this.hide_all(!0),this.show_node(c,!0),this.redraw(!0)}},this)).on("clear_search.jstree",e.proxy(function(e,t){this._data.search.som&&t.res.length&&(this.show_node(this._data.search.hdn,!0),this.redraw(!0))},this))},this.search=function(n,r,i,a,o,s){if(!1===n||""===e.trim(n.toString()))return this.clear_search();a=this.get_node(a),a=a&&a.id?a.id:null,n=n.toString();var c,l,d=this.settings.search,h=!!d.ajax&&d.ajax,u=this._model.data,f=null,p=[],g=[];if(this._data.search.res.length&&!o&&this.clear_search(),i===t&&(i=d.show_only_matches),s===t&&(s=d.show_only_matches_children),!r&&!1!==h)return e.isFunction(h)?h.call(this,n,e.proxy(function(t){t&&t.d&&(t=t.d),this._load_nodes(e.isArray(t)?e.vakata.array_unique(t):[],function(){this.search(n,!0,i,a,o,s)})},this),a):(h=e.extend({},h),h.data||(h.data={}),h.data.str=n,a&&(h.data.inside=a),this._data.search.lastRequest&&this._data.search.lastRequest.abort(),this._data.search.lastRequest=e.ajax(h).fail(e.proxy(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(h)},this.settings.core.error.call(this,this._data.core.last_error)},this)).done(e.proxy(function(t){t&&t.d&&(t=t.d),this._load_nodes(e.isArray(t)?e.vakata.array_unique(t):[],function(){this.search(n,!0,i,a,o,s)})},this)),this._data.search.lastRequest);if(o||(this._data.search.str=n,this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=i,this._data.search.smc=s),f=new e.vakata.search(n,!0,{caseSensitive:d.case_sensitive,fuzzy:d.fuzzy}),e.each(u[a||e.jstree.root].children_d,function(e,t){var r=u[t];r.text&&!r.state.hidden&&(!d.search_leaves_only||r.state.loaded&&0===r.children.length)&&(d.search_callback&&d.search_callback.call(this,n,r)||!d.search_callback&&f.search(r.text).isMatch)&&(p.push(t),g=g.concat(r.parents))}),p.length){for(g=e.vakata.array_unique(g),c=0,l=g.length;c<l;c++)g[c]!==e.jstree.root&&u[g[c]]&&!0===this.open_node(g[c],null,0)&&this._data.search.opn.push(g[c]);o?(this._data.search.dom=this._data.search.dom.add(e(this.element[0].querySelectorAll("#"+e.map(p,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #")))),this._data.search.res=e.vakata.array_unique(this._data.search.res.concat(p))):(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(p,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=p),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:n,res:this._data.search.res,show_only_matches:i})},this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.res.length&&(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(this._data.search.res,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search")),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=e()},this.redraw_node=function(t,n,i,a){if((t=r.redraw_node.apply(this,arguments))&&-1!==e.inArray(t.id,this._data.search.res)){var o,s,c=null;for(o=0,s=t.childNodes.length;o<s;o++)if(t.childNodes[o]&&t.childNodes[o].className&&-1!==t.childNodes[o].className.indexOf("jstree-anchor")){c=t.childNodes[o];break}c&&(c.className+=" jstree-search")}return t}},function(e){e.vakata.search=function(t,n,r){r=r||{},r=e.extend({},e.vakata.search.defaults,r),!1!==r.fuzzy&&(r.fuzzy=!0),t=r.caseSensitive?t:t.toLowerCase();var i,a,o,s,c=r.location,l=r.distance,d=r.threshold,h=t.length;return h>32&&(r.fuzzy=!1),r.fuzzy&&(i=1<<h-1,a=function(){var e={},n=0;for(n=0;n<h;n++)e[t.charAt(n)]=0;for(n=0;n<h;n++)e[t.charAt(n)]|=1<<h-n-1;return e}(),o=function(e,t){var n=e/h,r=Math.abs(c-t);return l?n+r/l:r?1:n}),s=function(e){if(e=r.caseSensitive?e:e.toLowerCase(),t===e||-1!==e.indexOf(t))return{isMatch:!0,score:0};if(!r.fuzzy)return{isMatch:!1,score:1};var n,s,l,u,f,p,g,_,m,y=e.length,v=d,b=e.indexOf(t,c),x=h+y,j=1,k=[];for(-1!==b&&(v=Math.min(o(0,b),v),-1!==(b=e.lastIndexOf(t,c+h))&&(v=Math.min(o(0,b),v))),b=-1,n=0;n<h;n++){for(l=0,u=x;l<u;)o(n,c+u)<=v?l=u:x=u,u=Math.floor((x-l)/2+l);for(x=u,p=Math.max(1,c-u+1),g=Math.min(c+u,y)+h,_=new Array(g+2),_[g+1]=(1<<n)-1,s=g;s>=p;s--)if(m=a[e.charAt(s-1)],_[s]=0===n?(_[s+1]<<1|1)&m:(_[s+1]<<1|1)&m|(f[s+1]|f[s])<<1|1|f[s+1],_[s]&i&&(j=o(n,s-1))<=v){if(v=j,b=s-1,k.push(b),!(b>c))break;p=Math.max(1,2*c-b)}if(o(n+1,c)>v)break;f=_}return{isMatch:b>=0,score:j}},!0===n?{search:s}:s(n)},e.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1}}(e),e.jstree.defaults.sort=function(e,t){return this.get_text(e)>this.get_text(t)?1:-1},e.jstree.plugins.sort=function(t,n){this.bind=function(){n.bind.call(this),this.element.on("model.jstree",e.proxy(function(e,t){this.sort(t.parent,!0)},this)).on("rename_node.jstree create_node.jstree",e.proxy(function(e,t){this.sort(t.parent||t.node.parent,!1),this.redraw_node(t.parent||t.node.parent,!0)},this)).on("move_node.jstree copy_node.jstree",e.proxy(function(e,t){this.sort(t.parent,!1),this.redraw_node(t.parent,!0)},this))},this.sort=function(t,n){var r,i;if((t=this.get_node(t))&&t.children&&t.children.length&&(t.children.sort(e.proxy(this.settings.sort,this)),n))for(r=0,i=t.children_d.length;r<i;r++)this.sort(t.children_d[r],!1)}};var u=!1;e.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1,preserve_loaded:!1},e.jstree.plugins.state=function(t,n){this.bind=function(){n.bind.call(this);var t=e.proxy(function(){this.element.on(this.settings.state.events,e.proxy(function(){u&&clearTimeout(u),u=setTimeout(e.proxy(function(){this.save_state()},this),100)},this)),this.trigger("state_ready")},this);this.element.on("ready.jstree",e.proxy(function(e,n){this.element.one("restore_state.jstree",t),this.restore_state()||t()},this))},this.save_state=function(){var t=this.get_state();this.settings.state.preserve_loaded||delete t.core.loaded;var n={state:t,ttl:this.settings.state.ttl,sec:+new Date};e.vakata.storage.set(this.settings.state.key,JSON.stringify(n))},this.restore_state=function(){var t=e.vakata.storage.get(this.settings.state.key);if(t)try{t=JSON.parse(t)}catch(e){return!1}return!(t&&t.ttl&&t.sec&&+new Date-t.sec>t.ttl)&&(t&&t.state&&(t=t.state),t&&e.isFunction(this.settings.state.filter)&&(t=this.settings.state.filter.call(this,t)),!!t&&(this.settings.state.preserve_loaded||delete t.core.loaded,this.element.one("set_state.jstree",function(n,r){r.instance.trigger("restore_state",{state:e.extend(!0,{},t)})}),this.set_state(t),!0))},this.clear_state=function(){return e.vakata.storage.del(this.settings.state.key)}},function(e,t){e.vakata.storage={set:function(e,t){return window.localStorage.setItem(e,t)},get:function(e){return window.localStorage.getItem(e)},del:function(e){return window.localStorage.removeItem(e)}}}(e),e.jstree.defaults.types={default:{}},e.jstree.defaults.types[e.jstree.root]={},e.jstree.plugins.types=function(n,r){this.init=function(n,i){var a,o;if(i&&i.types&&i.types.default)for(a in i.types)if("default"!==a&&a!==e.jstree.root&&i.types.hasOwnProperty(a))for(o in i.types.default)i.types.default.hasOwnProperty(o)&&i.types[a][o]===t&&(i.types[a][o]=i.types.default[o]);r.init.call(this,n,i),this._model.data[e.jstree.root].type=e.jstree.root},this.refresh=function(t,n){r.refresh.call(this,t,n),this._model.data[e.jstree.root].type=e.jstree.root},this.bind=function(){this.element.on("model.jstree",e.proxy(function(n,r){var i,a,o,s=this._model.data,c=r.nodes,l=this.settings.types,d="default";for(i=0,a=c.length;i<a;i++){if(d="default",s[c[i]].original&&s[c[i]].original.type&&l[s[c[i]].original.type]&&(d=s[c[i]].original.type),s[c[i]].data&&s[c[i]].data.jstree&&s[c[i]].data.jstree.type&&l[s[c[i]].data.jstree.type]&&(d=s[c[i]].data.jstree.type),s[c[i]].type=d,!0===s[c[i]].icon&&l[d].icon!==t&&(s[c[i]].icon=l[d].icon),l[d].li_attr!==t&&"object"==typeof l[d].li_attr)for(o in l[d].li_attr)if(l[d].li_attr.hasOwnProperty(o)){if("id"===o)continue;s[c[i]].li_attr[o]===t?s[c[i]].li_attr[o]=l[d].li_attr[o]:"class"===o&&(s[c[i]].li_attr.class=l[d].li_attr.class+" "+s[c[i]].li_attr.class)}if(l[d].a_attr!==t&&"object"==typeof l[d].a_attr)for(o in l[d].a_attr)if(l[d].a_attr.hasOwnProperty(o)){if("id"===o)continue;s[c[i]].a_attr[o]===t?s[c[i]].a_attr[o]=l[d].a_attr[o]:"href"===o&&"#"===s[c[i]].a_attr[o]?s[c[i]].a_attr.href=l[d].a_attr.href:"class"===o&&(s[c[i]].a_attr.class=l[d].a_attr.class+" "+s[c[i]].a_attr.class)}}s[e.jstree.root].type=e.jstree.root},this)),r.bind.call(this)},this.get_json=function(t,n,i){var a,o,s=this._model.data,c=n?e.extend(!0,{},n,{no_id:!1}):{},l=r.get_json.call(this,t,c,i);if(!1===l)return!1;if(e.isArray(l))for(a=0,o=l.length;a<o;a++)l[a].type=l[a].id&&s[l[a].id]&&s[l[a].id].type?s[l[a].id].type:"default",n&&n.no_id&&(delete l[a].id,l[a].li_attr&&l[a].li_attr.id&&delete l[a].li_attr.id,l[a].a_attr&&l[a].a_attr.id&&delete l[a].a_attr.id);else l.type=l.id&&s[l.id]&&s[l.id].type?s[l.id].type:"default",n&&n.no_id&&(l=this._delete_ids(l));return l},this._delete_ids=function(t){if(e.isArray(t)){for(var n=0,r=t.length;n<r;n++)t[n]=this._delete_ids(t[n]);return t}return delete t.id,t.li_attr&&t.li_attr.id&&delete t.li_attr.id,t.a_attr&&t.a_attr.id&&delete t.a_attr.id,t.children&&e.isArray(t.children)&&(t.children=this._delete_ids(t.children)),t},this.check=function(n,i,a,o,s){if(!1===r.check.call(this,n,i,a,o,s))return!1;i=i&&i.id?i:this.get_node(i),a=a&&a.id?a:this.get_node(a);var c,l,d,h,u=i&&i.id?s&&s.origin?s.origin:e.jstree.reference(i.id):null;switch(u=u&&u._model&&u._model.data?u._model.data:null,n){case"create_node":case"move_node":case"copy_node":if("move_node"!==n||-1===e.inArray(i.id,a.children)){if(c=this.get_rules(a),c.max_children!==t&&-1!==c.max_children&&c.max_children===a.children.length)return this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+n,data:JSON.stringify({chk:n,pos:o,obj:!(!i||!i.id)&&i.id,par:!(!a||!a.id)&&a.id})},!1;if(c.valid_children!==t&&-1!==c.valid_children&&-1===e.inArray(i.type||"default",c.valid_children))return this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+n,data:JSON.stringify({chk:n,pos:o,obj:!(!i||!i.id)&&i.id,par:!(!a||!a.id)&&a.id})},!1;if(u&&i.children_d&&i.parents){for(l=0,d=0,h=i.children_d.length;d<h;d++)l=Math.max(l,u[i.children_d[d]].parents.length);l=l-i.parents.length+1}(l<=0||l===t)&&(l=1);do{if(c.max_depth!==t&&-1!==c.max_depth&&c.max_depth<l)return this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+n,data:JSON.stringify({chk:n,pos:o,obj:!(!i||!i.id)&&i.id,par:!(!a||!a.id)&&a.id})},!1;a=this.get_node(a.parent),c=this.get_rules(a),l++}while(a)}}return!0},this.get_rules=function(e){if(!(e=this.get_node(e)))return!1;var n=this.get_type(e,!0);return n.max_depth===t&&(n.max_depth=-1),n.max_children===t&&(n.max_children=-1),n.valid_children===t&&(n.valid_children=-1),n},this.get_type=function(t,n){return!!(t=this.get_node(t))&&(n?e.extend({type:t.type},this.settings.types[t.type]):t.type)},this.set_type=function(n,r){var i,a,o,s,c,l,d,h,u=this._model.data;if(e.isArray(n)){for(n=n.slice(),a=0,o=n.length;a<o;a++)this.set_type(n[a],r);return!0}if(i=this.settings.types,n=this.get_node(n),!i[r]||!n)return!1;if(d=this.get_node(n,!0),d&&d.length&&(h=d.children(".jstree-anchor")),s=n.type,c=this.get_icon(n),n.type=r,(!0===c||!i[s]||i[s].icon!==t&&c===i[s].icon)&&this.set_icon(n,i[r].icon===t||i[r].icon),i[s]&&i[s].li_attr!==t&&"object"==typeof i[s].li_attr)for(l in i[s].li_attr)if(i[s].li_attr.hasOwnProperty(l)){if("id"===l)continue;"class"===l?(u[n.id].li_attr.class=(u[n.id].li_attr.class||"").replace(i[s].li_attr[l],""),d&&d.removeClass(i[s].li_attr[l])):u[n.id].li_attr[l]===i[s].li_attr[l]&&(u[n.id].li_attr[l]=null,d&&d.removeAttr(l))}if(i[s]&&i[s].a_attr!==t&&"object"==typeof i[s].a_attr)for(l in i[s].a_attr)if(i[s].a_attr.hasOwnProperty(l)){if("id"===l)continue;"class"===l?(u[n.id].a_attr.class=(u[n.id].a_attr.class||"").replace(i[s].a_attr[l],""),h&&h.removeClass(i[s].a_attr[l])):u[n.id].a_attr[l]===i[s].a_attr[l]&&("href"===l?(u[n.id].a_attr[l]="#",h&&h.attr("href","#")):(delete u[n.id].a_attr[l],h&&h.removeAttr(l)))}if(i[r].li_attr!==t&&"object"==typeof i[r].li_attr)for(l in i[r].li_attr)if(i[r].li_attr.hasOwnProperty(l)){if("id"===l)continue;u[n.id].li_attr[l]===t?(u[n.id].li_attr[l]=i[r].li_attr[l],d&&("class"===l?d.addClass(i[r].li_attr[l]):d.attr(l,i[r].li_attr[l]))):"class"===l&&(u[n.id].li_attr.class=i[r].li_attr[l]+" "+u[n.id].li_attr.class,d&&d.addClass(i[r].li_attr[l]))}if(i[r].a_attr!==t&&"object"==typeof i[r].a_attr)for(l in i[r].a_attr)if(i[r].a_attr.hasOwnProperty(l)){if("id"===l)continue;u[n.id].a_attr[l]===t?(u[n.id].a_attr[l]=i[r].a_attr[l],h&&("class"===l?h.addClass(i[r].a_attr[l]):h.attr(l,i[r].a_attr[l]))):"href"===l&&"#"===u[n.id].a_attr[l]?(u[n.id].a_attr.href=i[r].a_attr.href,h&&h.attr("href",i[r].a_attr.href)):"class"===l&&(u[n.id].a_attr.class=i[r].a_attr.class+" "+u[n.id].a_attr.class,h&&h.addClass(i[r].a_attr[l]))}return!0}},e.jstree.defaults.unique={case_sensitive:!1,trim_whitespace:!1,duplicate:function(e,t){return e+" ("+t+")"}},e.jstree.plugins.unique=function(n,r){this.check=function(t,n,i,a,o){if(!1===r.check.call(this,t,n,i,a,o))return!1;if(n=n&&n.id?n:this.get_node(n),!(i=i&&i.id?i:this.get_node(i))||!i.children)return!0;var s,c,l,d="rename_node"===t?a:n.text,h=[],u=this.settings.unique.case_sensitive,f=this.settings.unique.trim_whitespace,p=this._model.data;for(s=0,c=i.children.length;s<c;s++)l=p[i.children[s]].text,u||(l=l.toLowerCase()),f&&(l=l.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),h.push(l);switch(u||(d=d.toLowerCase()),f&&(d=d.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),t){case"delete_node":return!0;case"rename_node":return l=n.text||"",u||(l=l.toLowerCase()),f&&(l=l.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),s=-1===e.inArray(d,h)||n.text&&l===d,s||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+d+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:a,obj:!(!n||!n.id)&&n.id,par:!(!i||!i.id)&&i.id})}),s;case"create_node":return s=-1===e.inArray(d,h),s||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+d+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:a,obj:!(!n||!n.id)&&n.id,par:!(!i||!i.id)&&i.id})}),s;case"copy_node":return s=-1===e.inArray(d,h),s||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+d+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:a,obj:!(!n||!n.id)&&n.id,par:!(!i||!i.id)&&i.id})}),s;case"move_node":return s=n.parent===i.id&&(!o||!o.is_multi)||-1===e.inArray(d,h),s||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+d+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:a,obj:!(!n||!n.id)&&n.id,par:!(!i||!i.id)&&i.id})}),s}return!0},this.create_node=function(n,i,a,o,s){if(!i||i.text===t){if(null===n&&(n=e.jstree.root),!(n=this.get_node(n)))return r.create_node.call(this,n,i,a,o,s);if(a=a===t?"last":a,!a.toString().match(/^(before|after)$/)&&!s&&!this.is_loaded(n))return r.create_node.call(this,n,i,a,o,s);i||(i={});var c,l,d,h,u,f,p=this._model.data,g=this.settings.unique.case_sensitive,_=this.settings.unique.trim_whitespace,m=this.settings.unique.duplicate;for(l=c=this.get_string("New node"),d=[],h=0,u=n.children.length;h<u;h++)f=p[n.children[h]].text,g||(f=f.toLowerCase()),_&&(f=f.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),d.push(f);for(h=1,f=l,g||(f=f.toLowerCase()),_&&(f=f.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));-1!==e.inArray(f,d);)l=m.call(this,c,++h).toString(),f=l,g||(f=f.toLowerCase()),_&&(f=f.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));i.text=l}return r.create_node.call(this,n,i,a,o,s)}};var f=c.createElement("DIV");if(f.setAttribute("unselectable","on"),f.setAttribute("role","presentation"),f.className="jstree-wholerow",f.innerHTML="&#160;",e.jstree.plugins.wholerow=function(t,n){this.bind=function(){n.bind.call(this),this.element.on("ready.jstree set_state.jstree",e.proxy(function(){this.hide_dots()},this)).on("init.jstree loading.jstree ready.jstree",e.proxy(function(){this.get_container_ul().addClass("jstree-wholerow-ul")},this)).on("deselect_all.jstree",e.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")},this)).on("changed.jstree",e.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var n,r,i=!1;for(n=0,r=t.selected.length;n<r;n++)(i=this.get_node(t.selected[n],!0))&&i.length&&i.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("open_node.jstree",e.proxy(function(e,t){this.get_node(t.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("hover_node.jstree dehover_node.jstree",e.proxy(function(e,t){"hover_node"===e.type&&this.is_disabled(t.node)||this.get_node(t.node,!0).children(".jstree-wholerow")["hover_node"===e.type?"addClass":"removeClass"]("jstree-wholerow-hovered")},this)).on("contextmenu.jstree",".jstree-wholerow",e.proxy(function(t){if(this._data.contextmenu){t.preventDefault();var n=e.Event("contextmenu",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,pageX:t.pageX,pageY:t.pageY});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n)}},this)).on("click.jstree",".jstree-wholerow",function(t){t.stopImmediatePropagation();var n=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n).focus()}).on("dblclick.jstree",".jstree-wholerow",function(t){t.stopImmediatePropagation();var n=e.Event("dblclick",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n).focus()}).on("click.jstree",".jstree-leaf > .jstree-ocl",e.proxy(function(t){t.stopImmediatePropagation();var n=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n).focus()},this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",e.proxy(function(e){return e.stopImmediatePropagation(),this.is_disabled(e.currentTarget)||this.hover_node(e.currentTarget),!1},this)).on("mouseleave.jstree",".jstree-node",e.proxy(function(e){this.dehover_node(e.currentTarget)},this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),n.teardown.call(this)},this.redraw_node=function(t,r,i,a){if(t=n.redraw_node.apply(this,arguments)){var o=f.cloneNode(!0);-1!==e.inArray(t.id,this._data.core.selected)&&(o.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===t.id&&(o.className+=" jstree-wholerow-hovered"),t.insertBefore(o,t.childNodes[0])}return t}},c.registerElement&&Object&&Object.create){var p=Object.create(HTMLElement.prototype);p.createdCallback=function(){var t,n={core:{},plugins:[]};for(t in e.jstree.plugins)e.jstree.plugins.hasOwnProperty(t)&&this.attributes[t]&&(n.plugins.push(t),this.getAttribute(t)&&JSON.parse(this.getAttribute(t))&&(n[t]=JSON.parse(this.getAttribute(t))));for(t in e.jstree.defaults.core)e.jstree.defaults.core.hasOwnProperty(t)&&this.attributes[t]&&(n.core[t]=JSON.parse(this.getAttribute(t))||this.getAttribute(t));e(this).jstree(n)};try{c.registerElement("vakata-jstree",{prototype:p})}catch(e){}}}})},qOcv:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("p+IR"),s=n("A9Fp"),c=n("CmgE"),l=n("422A"),d=n("cb+f"),h=n("SCeK"),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.a.addMe(e+"/home"),n.bkgdHF="linear-gradient(45deg, #8e24aa 0%, #ff6e40 100%)",n.headerCustom(),n.mainCustom(),n.toolsCustom(),n.footerCustom(),n}return a(t,e),u(t,[{key:"headerCustom",value:function(){new c.a("header").setBkgdColor(this.bkgdHF)}},{key:"mainCustom",value:function(){var e=new l.a;e.setBkgdTopColor("#e8eff7"),e.setBkgdBottomColor("#e8eff7")}},{key:"toolsCustom",value:function(){new d.a}},{key:"footerCustom",value:function(){new h.a("footer").setBkgdColor(this.bkgdHF)}}]),t}(s.a);t.a=f},r2NO:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("Y8vx"),s=n("SBJz"),c=n("gEbo"),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(e,n,a){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a));return o.init(),o}return a(t,e),l(t,[{key:"init",value:function(){this.search=new s.a(this.container,"search",this.path),this.note=new c.a(this.container,"note",this.path,!0),this.note.hide()}},{key:"openNoteTools",value:function(){this.note.show()}},{key:"hideNoteTools",value:function(){this.note.hide()}}]),t}(o.a);t.a=d},r2ZQ:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("RsBd"),s=n("Y8vx"),c=n("JoI/"),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(e,n,a){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a));return o.container.style.background="#e8eff7",o.initTree(),o.initListener(),o}return a(t,e),l(t,[{key:"initTree",value:function(){this.jsTree=new c.a(this.container,"Container","JsTreeContainer"),o.a.addTarget(this.jsTree.getSearchElements())}},{key:"getObjPathToNode",value:function(){return this.jsTree.getObjPathToNode()}},{key:"loadData",value:function(){this.jsTree.loadData()}},{key:"hide",value:function(){this.container.style.display="none",this.container.style.padding="0px",this.container.style.flex="0"}},{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.container.style.display="",this.container.style.padding="10px",this.container.style.flex="1",e&&this.jsTree.openNode(e.data)}},{key:"initListener",value:function(){var e=this;this.container.addEventListener("callBack",function(t){return e.callBack(t)})}},{key:"callBack",value:function(e){this["on_"+e.detail.Event.type](e.detail)}},{key:"on_select_node",value:function(e){this.Lifer.addData("app/home/frame/objects",[{ContainerNode:e.data.node}]),e.element=this.MyClass;var t=new CustomEvent("callBack",{detail:e});this.parent.dispatchEvent(t)}}]),t}(s.a);t.a=d},rXp8:function(e,t,n){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function t(){n(this,t)}return r(t,[{key:"ajaxSend",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=e.ajax({type:t,url:n,data:r,async:!1,cache:!1,contentType:!1,processData:!1,success:function(e){}});return JSON.parse(i.responseText)}}]),t}();t.a=i}).call(t,n("7t+N"))},rtj7:function(e,t,n){"use strict";var r=n("sbrb"),i=[{scale:{x:1,y:1},rotate:0},{scale:{x:1,y:1},rotate:0},{scale:{x:-1,y:1},rotate:0},{scale:{x:1,y:1},rotate:180},{scale:{x:1,y:-1},rotate:0},{scale:{x:-1,y:1},rotate:90},{scale:{x:1,y:1},rotate:90},{scale:{x:-1,y:1},rotate:-90},{scale:{x:1,y:1},rotate:-90}];e.exports=function(e,t){if(e&&"function"==typeof t){var n=new FileReader;n.onload=function(e){var n=r.readFromBinaryFile(e.target.result),a=n.Orientation||0,o=i[a];o?(o.exif=a,t(void 0,o)):t(new Error("Could not find EXIF Orientation."))},n.onerror=function(e){t(new Error("Could not read file."))},n.readAsArrayBuffer(e)}}},sbrb:function(e,t,r){var i,a;(function(){function r(e){return!!e.exifdata}function o(e,t){t=t||e.match(/^data\:([^\;]+)\;base64,/im)[1]||"",e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var n=atob(e),r=n.length,i=new ArrayBuffer(r),a=new Uint8Array(i),o=0;o<r;o++)a[o]=n.charCodeAt(o);return i}function s(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(e){200!=this.status&&0!==this.status||t(this.response)},n.send()}function c(e,t){function n(n){var r=l(n);e.exifdata=r||{};var i=d(n);if(e.iptcdata=i||{},j.isXmpEnabled){var a=y(n);e.xmpdata=a||{}}t&&t.call(e)}if(e.src)if(/^data\:/i.test(e.src)){var r=o(e.src);n(r)}else if(/^blob\:/i.test(e.src)){var i=new FileReader;i.onload=function(e){n(e.target.result)},s(e.src,function(e){i.readAsArrayBuffer(e)})}else{var a=new XMLHttpRequest;a.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";n(a.response),a=null},a.open("GET",e.src,!0),a.responseType="arraybuffer",a.send(null)}else if(self.FileReader&&(e instanceof self.Blob||e instanceof self.File)){var i=new FileReader;i.onload=function(e){x&&console.log("Got file of length "+e.target.result.byteLength),n(e.target.result)},i.readAsArrayBuffer(e)}}function l(e){var t=new DataView(e);if(x&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return x&&console.log("Not a valid JPEG"),!1;for(var n,r=2,i=e.byteLength;r<i;){if(255!=t.getUint8(r))return x&&console.log("Not a valid marker at offset "+r+", found: "+t.getUint8(r)),!1;if(n=t.getUint8(r+1),x&&console.log(n),225==n)return x&&console.log("Found 0xFFE1 marker"),m(t,r+4,t.getUint16(r+2));r+=2+t.getUint16(r+2)}}function d(e){var t=new DataView(e);if(x&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return x&&console.log("Not a valid JPEG"),!1;for(var n=2,r=e.byteLength;n<r;){if(function(e,t){return 56===e.getUint8(t)&&66===e.getUint8(t+1)&&73===e.getUint8(t+2)&&77===e.getUint8(t+3)&&4===e.getUint8(t+4)&&4===e.getUint8(t+5)}(t,n)){var i=t.getUint8(n+7);i%2!=0&&(i+=1),0===i&&(i=4);return h(e,n+8+i,t.getUint16(n+6+i))}n++}}function h(e,t,n){for(var r,i,a,o,s=new DataView(e),c={},l=t;l<t+n;)28===s.getUint8(l)&&2===s.getUint8(l+1)&&(o=s.getUint8(l+2))in S&&(a=s.getInt16(l+3),a+5,i=S[o],r=_(s,l+5,a),c.hasOwnProperty(i)?c[i]instanceof Array?c[i].push(r):c[i]=[c[i],r]:c[i]=r),l++;return c}function u(e,t,n,r,i){var a,o,s,c=e.getUint16(n,!i),l={};for(s=0;s<c;s++)a=n+12*s+2,o=r[e.getUint16(a,!i)],!o&&x&&console.log("Unknown tag: "+e.getUint16(a,!i)),l[o]=f(e,a,t,n,i);return l}function f(e,t,n,r,i){var a,o,s,c,l,d,h=e.getUint16(t+2,!i),u=e.getUint32(t+4,!i),f=e.getUint32(t+8,!i)+n;switch(h){case 1:case 7:if(1==u)return e.getUint8(t+8,!i);for(a=u>4?f:t+8,o=[],c=0;c<u;c++)o[c]=e.getUint8(a+c);return o;case 2:return a=u>4?f:t+8,_(e,a,u-1);case 3:if(1==u)return e.getUint16(t+8,!i);for(a=u>2?f:t+8,o=[],c=0;c<u;c++)o[c]=e.getUint16(a+2*c,!i);return o;case 4:if(1==u)return e.getUint32(t+8,!i);for(o=[],c=0;c<u;c++)o[c]=e.getUint32(f+4*c,!i);return o;case 5:if(1==u)return l=e.getUint32(f,!i),d=e.getUint32(f+4,!i),s=new Number(l/d),s.numerator=l,s.denominator=d,s;for(o=[],c=0;c<u;c++)l=e.getUint32(f+8*c,!i),d=e.getUint32(f+4+8*c,!i),o[c]=new Number(l/d),o[c].numerator=l,o[c].denominator=d;return o;case 9:if(1==u)return e.getInt32(t+8,!i);for(o=[],c=0;c<u;c++)o[c]=e.getInt32(f+4*c,!i);return o;case 10:if(1==u)return e.getInt32(f,!i)/e.getInt32(f+4,!i);for(o=[],c=0;c<u;c++)o[c]=e.getInt32(f+8*c,!i)/e.getInt32(f+4+8*c,!i);return o}}function p(e,t,n){var r=e.getUint16(t,!n);return e.getUint32(t+2+12*r,!n)}function g(e,t,n,r){var i=p(e,t+n,r);if(!i)return{};if(i>e.byteLength)return{};var a=u(e,t,t+i,T,r);if(a.Compression)switch(a.Compression){case 6:if(a.JpegIFOffset&&a.JpegIFByteCount){var o=t+a.JpegIFOffset,s=a.JpegIFByteCount;a.blob=new Blob([new Uint8Array(e.buffer,o,s)],{type:"image/jpeg"})}break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",a.Compression)}else 2==a.PhotometricInterpretation&&console.log("Thumbnail image format is RGB, which is not implemented.");return a}function _(e,t,r){var i="";for(n=t;n<t+r;n++)i+=String.fromCharCode(e.getUint8(n));return i}function m(e,t){if("Exif"!=_(e,t,4))return x&&console.log("Not valid EXIF data! "+_(e,t,4)),!1;var n,r,i,a,o,s=t+6;if(18761==e.getUint16(s))n=!1;else{if(19789!=e.getUint16(s))return x&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;n=!0}if(42!=e.getUint16(s+2,!n))return x&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var c=e.getUint32(s+4,!n);if(c<8)return x&&console.log("Not valid TIFF data! (First offset less than 8)",e.getUint32(s+4,!n)),!1;if(r=u(e,s,s+c,w,n),r.ExifIFDPointer){a=u(e,s,s+r.ExifIFDPointer,k,n);for(i in a){switch(i){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":a[i]=E[i][a[i]];break;case"ExifVersion":case"FlashpixVersion":a[i]=String.fromCharCode(a[i][0],a[i][1],a[i][2],a[i][3]);break;case"ComponentsConfiguration":a[i]=E.Components[a[i][0]]+E.Components[a[i][1]]+E.Components[a[i][2]]+E.Components[a[i][3]]}r[i]=a[i]}}if(r.GPSInfoIFDPointer){o=u(e,s,s+r.GPSInfoIFDPointer,C,n);for(i in o){switch(i){case"GPSVersionID":o[i]=o[i][0]+"."+o[i][1]+"."+o[i][2]+"."+o[i][3]}r[i]=o[i]}}return r.thumbnail=g(e,s,c,n),r}function y(e){if("DOMParser"in self){var t=new DataView(e);if(x&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return x&&console.log("Not a valid JPEG"),!1;for(var n=2,r=e.byteLength,i=new DOMParser;n<r-4;){if("http"==_(t,n,4)){var a=n-1,o=t.getUint16(n-2)-1,s=_(t,a,o),c=s.indexOf("xmpmeta>")+8;s=s.substring(s.indexOf("<x:xmpmeta"),c);var l=s.indexOf("x:xmpmeta")+10;s=s.slice(0,l)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+s.slice(l);return b(i.parseFromString(s,"text/xml"))}n++}}}function v(e){var t={};if(1==e.nodeType){if(e.attributes.length>0){t["@attributes"]={};for(var n=0;n<e.attributes.length;n++){var r=e.attributes.item(n);t["@attributes"][r.nodeName]=r.nodeValue}}}else if(3==e.nodeType)return e.nodeValue;if(e.hasChildNodes())for(var i=0;i<e.childNodes.length;i++){var a=e.childNodes.item(i),o=a.nodeName;if(null==t[o])t[o]=v(a);else{if(null==t[o].push){var s=t[o];t[o]=[],t[o].push(s)}t[o].push(v(a))}}return t}function b(e){try{var t={};if(e.children.length>0)for(var n=0;n<e.children.length;n++){var r=e.children.item(n),i=r.attributes;for(var a in i){var o=i[a],s=o.nodeName,c=o.nodeValue;void 0!==s&&(t[s]=c)}var l=r.nodeName;if(void 0===t[l])t[l]=v(r);else{if(void 0===t[l].push){var d=t[l];t[l]=[],t[l].push(d)}t[l].push(v(r))}}else t=e.textContent;return t}catch(e){console.log(e.message)}}var x=!1,j=function(e){return e instanceof j?e:this instanceof j?void(this.EXIFwrapped=e):new j(e)};void 0!==e&&e.exports&&(t=e.exports=j),t.EXIF=j;var k=j.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},w=j.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},C=j.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},T=j.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},E=j.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},S={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};j.enableXmp=function(){j.isXmpEnabled=!0},j.disableXmp=function(){j.isXmpEnabled=!1},j.getData=function(e,t){return!((self.Image&&e instanceof self.Image||self.HTMLImageElement&&e instanceof self.HTMLImageElement)&&!e.complete)&&(r(e)?t&&t.call(e):c(e,t),!0)},j.getTag=function(e,t){if(r(e))return e.exifdata[t]},j.getIptcTag=function(e,t){if(r(e))return e.iptcdata[t]},j.getAllTags=function(e){if(!r(e))return{};var t,n=e.exifdata,i={};for(t in n)n.hasOwnProperty(t)&&(i[t]=n[t]);return i},j.getAllIptcTags=function(e){if(!r(e))return{};var t,n=e.iptcdata,i={};for(t in n)n.hasOwnProperty(t)&&(i[t]=n[t]);return i},j.pretty=function(e){if(!r(e))return"";var t,n=e.exifdata,i="";for(t in n)n.hasOwnProperty(t)&&("object"==typeof n[t]?n[t]instanceof Number?i+=t+" : "+n[t]+" ["+n[t].numerator+"/"+n[t].denominator+"]\r\n":i+=t+" : ["+n[t].length+" values]\r\n":i+=t+" : "+n[t]+"\r\n");return i},j.readFromBinaryFile=function(e){return l(e)},i=[],void 0!==(a=function(){return j}.apply(t,i))&&(e.exports=a)}).call(this)},tzuV:function(e,t,n){"use strict";(function(e){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n("p+IR"),a=n("qOcv"),o=n("GZ9t"),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(){function t(e){var n=this;r(this,t);this.path=e+"/frame",i.a.addMe(this.path),window.addEventListener("changeFrame",function(e){return n[e.detail.frame](e)})}return s(t,[{key:"Home",value:function(){e("body").empty();new a.a(this.path)}},{key:"Objects",value:function(){e("body").empty();new o.a(this.path)}}]),t}();t.a=c}).call(t,n("7t+N"))},wzof:function(e,t,n){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function t(e){n(this,t),this.parent=e}return r(t,[{key:"init",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];null!=e("."+t)[0]&&(console.log("on remove"),e("."+t).remove());var i=document.createElement("div");i.className=t,r?this.parent.prepend(i):this.parent.append(i),this.setData(n,i)}},{key:"setData",value:function(e,t){var n=this,r=e.length,i=.2,a=(1-i)/(r-1),o=!0,s=!1,c=void 0;try{for(var l,d=e[Symbol.iterator]();!(o=(l=d.next()).done);o=!0){var h=l.value;!function(e){var r=document.createElement("a");r.id=e.id,n.skin(r,i),r.append(e.text),t.append(r),i+=a,r.addEventListener("click",function(t){return n.eventParentDispatcher(t,e,r)})}(h)}}catch(e){s=!0,c=e}finally{try{!o&&d.return&&d.return()}finally{if(s)throw c}}this.parent.style.padding="10px"}},{key:"eventParentDispatcher",value:function(e,t,n){var r={};r.element=n,r.Event={},r.Event.type="click",r.data=t;var i=new CustomEvent("callBack",{detail:r});this.parent.dispatchEvent(i)}},{key:"destroy",value:function(t){e("."+t).remove()}},{key:"destroyAll",value:function(){this.parent.empty(),this.parent.css("padding","0px")}},{key:"skin",value:function(e,t){e.style.fontFamily="'Titillium Web',sans-serif,Arial,sans-serif",e.style.borderRadius="4px 12px 4px 4px",e.style.background="#0288d1",e.style.color="white",e.style.padding="5px",e.style.marginRight="5px",e.style.opacity=t}}]),t}();t.a=i}).call(t,n("7t+N"))},"xYY+":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("rtj7"),s=n.n(o),c=n("7eCe"),l=(n("SCeK"),n("ohOl")),d=n("Y8vx"),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){function t(e,n,a){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];r(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a));return console.log(o),s.NoteCollection=new c.a("ObjectInfos"),s.ResourcesCollection=new c.a("ObjectInfosResources"),s.ContainerNode=s.Lifer.getData("app/home/frame/objects","ContainerNode"),s.LeafNode=s.Lifer.getData("app/home/frame/objects","LeafNode"),s.note={},s.note.id=o,s.firstKey=!0,s.init(),s}return a(t,e),h(t,[{key:"init",value:function(){this.background(),this.addHeader(),this.addMain(),this.addFooter()}},{key:"background",value:function(){this.container.style.position="absolute",this.container.style.top="0.5%",this.container.style.left="0.5%",this.container.style.height="99%",this.container.style.width="99%",this.container.style.display="flex",this.container.style.flexDirection="column",this.container.style.background="white",this.container.style.boxShadow="0px 0px 10px 10px green"}},{key:"addHeader",value:function(){this.Header=new l.a(this.container,"headerNote",this.path)}},{key:"addMain",value:function(){var e=document.createElement("style");e.type="text/css",e.id="divContentEditable_css_style",e.innerHTML="[contenteditable=true]:empty::before {\n\t\t\t  \t\t\t\t\tcontent: attr(placeholder);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t",document.body.appendChild(e),this.Main=document.createElement("div"),this.Main.className="mainNote",this.Main.style.display="flex",this.Main.style.flexDirection="column",this.container.append(this.Main),this.Main.style.background="white",this.Main.style.display="flex",this.Main.style.flexDirection="column",this.Main.style.flex=1,this.addTitle(),this.addRessources(),this.addEmpty()}},{key:"addRessources",value:function(){var e=document.createElement("div");if(e.style.overflowY="scroll",this.Main.append(e),this.divCore=e,this.note.id){console.log("in init noteAsked Id");var t=this.NoteCollection.get(this.ContainerNode.id,this.LeafNode.id,this.note.id);if(console.log(t),console.log(this.Title),t.name.length>0){var n=document.getElementById("title");n.append(t.name),n.style.color="black"}var r=this.ResourcesCollection.getList(this.ContainerNode.id,this.LeafNode.id,this.note.id),i=!0,a=!1,o=void 0;try{for(var s,c=r[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value;console.log(l);var d=this.textElement(l.text,l.id,"15px","","black","",l.update);e.append(d)}}catch(e){a=!0,o=e}finally{try{!i&&c.return&&c.return()}finally{if(a)throw o}}console.log(e.scrollTop),console.log(e.scrollHeight),e.scrollTop=e.scrollHeight}}},{key:"addTitle",value:function(){var e=document.createElement("div"),t=this.textElement("","title","20px","bold","grey","Titre...");e.append(t),this.Main.append(e)}},{key:"addEmpty",value:function(){var e=document.createElement("div"),t=this.textElement("","text","15px","","grey","Texte...");e.append(t),this.Main.append(e)}},{key:"textElement",value:function(e,t,n,r,i,a){var o=this,s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=document.createElement("div");c.style.marginBottom="20px",c.style.borderWidth="1px",c.style.borderStyle="dashed",c.style.borderColor="#b7b7b7",c.style.margin="10px",c.style.borderRadius="8px",c.style.background="rgba(149, 146, 255, 0.14)";var l=document.createElement("div");if(l.style.display="flex",l.style.justifyContent="space-around",c.append(l),s){var d=document.createElement("div");d.innerHTML=s,d.style.fontSize="9px",d.style.color="grey",l.append(d)}var h=document.createElement("div");return h.contentEditable="true",h.setAttribute("placeholder",a),h.style.fontSize=n,h.style.margin="10px",h.style.fontWeight=r,h.style.border="none",h.style.outline="none",h.style.background="transparent",h.style.color=i,h.style.fontFamily="'Titillium Web',sans-serif,Arial,sans-serif",h.id=t,h.innerHTML=e,c.append(h),h.addEventListener("keyup",function(e){return o.dispatcher(e,"text",h)}),c}},{key:"dispatcher",value:function(e,t,n){console.log("in dispatcher"),console.log(n),this.Synchronizer(t,n),this.changeTextColor(e,n)}},{key:"Synchronizer",value:function(e,t){console.log("in Synchronizer");var n=new FormData;if(n.append("ObjectId",this.ContainerNode.id),n.append("ObjectLeafId",this.LeafNode.id),0==this.note.id||"text"==e&&"title"==t.id){n.append("titre",document.getElementById("title").innerHTML),n.append("noteId",this.note.id);var r=this.NoteCollection.create(n);0==r.error&&Number.isInteger(r.data)&&(this.note.id=r.data),this.firstKey=!1}if("text"==e&&Number.isInteger(this.note.id)&&"title"!=t.id){n.append("texte",t.innerHTML),n.append("noteId",this.note.id),n.append("resourceId",t.id);var i=this.ResourcesCollection.createUpdate(n);0==i.error&&Number.isInteger(i.data)&&(t.id=i.data)}}},{key:"changeTextColor",value:function(e,t){""===t.innerHTML?t.style.color="grey":t.style.color="black","title"==t.id&&"Enter"==e.key&&(t.innerHTML=t.innerHTML.replace(/<div><br><\/div>/i,""),t.focus())}},{key:"addFooter",value:function(){var e=this;this.Footer=document.createElement("div"),this.Footer.className="footerNote",this.container.append(this.Footer),this.Footer.style.background="linear-gradient(45deg, rgb(234, 234, 234) 0%, rgb(216, 216, 216) 100%)",this.Footer.style.height="40px",this.Footer.style.display="flex",this.Footer.style.alignItems="center",this.Footer.style.color="",this.Photo=document.createElement("div"),this.Footer.append(this.Photo),this.PhotoPicto=document.createElement("i"),this.PhotoPicto.className="material-icons",this.PhotoPicto.style.fontSize="30px",this.PhotoPicto.style.color="grey",this.PhotoPicto.style.marginLeft="10px",this.PhotoPicto.style.marginTop="5px",this.PhotoPicto.append("camera_alt"),this.Photo.append(this.PhotoPicto),this.PhotoPicto.addEventListener("click",function(t){return e.launchCam(t)})}},{key:"launchCam",value:function(){var e=this;this.camLauncher=document.createElement("input"),this.camLauncher.type="file",this.camLauncher.accept="image/*",this.camLauncher.capture="camera",this.camLauncher.style.display="none",this.Footer.append(this.camLauncher),this.camLauncher.click(),this.camLauncher.addEventListener("change",function(t){return e.importPict(t)})}},{key:"importPict",value:function(e){var t=this,n=new FileReader;n.readAsDataURL(this.camLauncher.files[0]),n.onloadend=function(){return t.loadPict(n.result)}}},{key:"loadPict",value:function(e){var t=this;this.imgObj=new Image,this.imgObj.src=e,this.imgObj.addEventListener("load",function(){return t.getOrientation(e)})}},{key:"getOrientation",value:function(e){var t=this;s()(this.camLauncher.files[0],function(n,r){return t.rotateImg(n,r,e)})}},{key:"rotateImg",value:function(e,t,n){this.imgDiv=document.createElement("div"),this.divCore.append(this.imgDiv),this.imgDiv.style.display="flex",this.imgDiv.style.borderRadius="8px",this.imgDiv.style.margin="10px",this.img=document.createElement("img"),this.img.classList.add("obj"),this.imgDiv.prepend(this.img);var r=this.imgObj.naturalWidth/this.imgObj.naturalHeight;if(this.img.src=n,this.img.style.width="100%",this.img.style.borderRadius="8px",this.img.height=this.img.offsetWidth/r,90==t.rotate){var i=this.img.offsetWidth,a=this.img.offsetWidth*r,o=(a-this.img.offsetWidth)/2;this.img.style.width="",this.img.width=a,this.img.height=i,this.img.style.transform="rotate("+t.rotate+"deg) translate("+o+"px,"+o+"px)",this.imgDiv.style.minHeight=a+"px"}else this.imgDiv.style.minHeight=this.img.height+"px"}}]),t}(d.a);t.a=u}});